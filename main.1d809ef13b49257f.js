(self.webpackChunkPortafolio=self.webpackChunkPortafolio||[]).push([[179],{2011:(it,_e,P)=>{"use strict";P.d(_e,{hO:()=>be,xv:()=>H,Dh:()=>K,GT:()=>ue,cc:()=>fe,on:()=>F,pX:()=>ee});var c=P(5e3),W=P(127),O=P(5813);it=P.hmd(it);const ie=["ngOnDestroy"],ee=(he,ke,Ve,Fe={})=>new Proxy(he,{get:(Ye,Te)=>Ve.runOutsideAngular(()=>{var rt;if(he[Te])return(null===(rt=null==Fe?void 0:Fe.spy)||void 0===rt?void 0:rt.get)&&Fe.spy.get(Te,he[Te]),he[Te];if(ie.indexOf(Te)>-1)return()=>{};const Ge=ke.toPromise().then(ct=>{const X=ct&&ct[Te];return"function"==typeof X?X.bind(ct):X&&X.then?X.then(ge=>Ve.run(()=>ge)):Ve.run(()=>X)});return new Proxy(()=>{},{get:(ct,X)=>Ge[X],apply:(ct,X,ge)=>Ge.then(me=>{var ve;const Le=me&&me(...ge);return(null===(ve=null==Fe?void 0:Fe.spy)||void 0===ve?void 0:ve.apply)&&Fe.spy.apply(Te,ge,Le),Le})})})}),ue=(he,ke)=>{ke.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(Fe=>{Object.defineProperty(he.prototype,Fe,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,Fe))})})};class te{constructor(ke){return ke}}const K=new c.OlP("angularfire2.app.options"),H=new c.OlP("angularfire2.app.name");function F(he,ke,Ve){const Ye="object"==typeof Ve&&Ve||{};Ye.name=Ye.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const rt=W.Z.apps.filter(Ge=>Ge&&Ge.name===Ye.name)[0]||ke.runOutsideAngular(()=>W.Z.initializeApp(he,Ye));try{JSON.stringify(he)!==JSON.stringify(rt.options)&&L("error",`${rt.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new te(rt)}const L=(he,...ke)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...ke)},U={provide:te,useFactory:F,deps:[K,c.R0b,[new c.FiY,H]]};let be=(()=>{class he{constructor(Ve){W.Z.registerVersion("angularfire",O.q4.full,"core"),W.Z.registerVersion("angularfire",O.q4.full,"app-compat"),W.Z.registerVersion("angular",c.q4F.full,Ve.toString())}static initializeApp(Ve,Fe){return{ngModule:he,providers:[{provide:K,useValue:Ve},{provide:H,useValue:Fe}]}}}return he.\u0275fac=function(Ve){return new(Ve||he)(c.LFG(c.Lbi))},he.\u0275mod=c.oAB({type:he}),he.\u0275inj=c.cJS({providers:[U]}),he})();function fe(he,ke,Ve,Fe,Ye){const[,Te,rt]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===he)||[];if(Te)return function Ce(he,ke){try{return he.toString()===ke.toString()}catch(Ve){return he===ke}}(Ye,rt)||(oe("error",`${ke} was already initialized on the ${Ve} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:Ye,was:rt})),Te;{const Ge=Fe();return globalThis.\u0275AngularfireInstanceCache.push([he,Ge,Ye]),Ge}}const Oe=!!it.hot,oe=(he,...ke)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,_e,P)=>{"use strict";P.d(_e,{q4:()=>Nl,iC:()=>uo,HU:()=>Cu,vb:()=>lf,JM:()=>ig});var c=P(5e3),W=P(5867),O=P(5861),ie=P(9681),ee=P(2090),ue=P(4859),te=P(1877);const K="@firebase/installations",H="0.5.8",L=`w:${H}`,U="FIS_v2",he=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(I){return I instanceof ee.ZR&&I.code.includes("request-failed")}function Ve({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Fe(I){return{token:I.token,requestStatus:2,expiresIn:ge(I.expiresIn),creationTime:Date.now()}}function Ye(I,C){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(I,C){const V=(yield C.json()).error;return he.create("request-failed",{requestName:I,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function rt({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Ge(I,{refreshToken:C}){const M=rt(I);return M.append("Authorization",function me(I){return`${U} ${I}`}(C)),M}function ct(I){return X.apply(this,arguments)}function X(){return(X=(0,O.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function ge(I){return Number(I.replace("s","000"))}function ve(I,C){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:M}){const V=Ve(I),Y=rt(I),ne=C.getImmediate({optional:!0});if(ne){const _t=yield ne.getHeartbeatsHeader();_t&&Y.append("x-firebase-client",_t)}const Ke={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:U,appId:I.appId,sdkVersion:L})},wt=yield ct(()=>fetch(V,Ke));if(wt.ok){const _t=yield wt.json();return{fid:_t.fid||M,registrationStatus:2,refreshToken:_t.refreshToken,authToken:Fe(_t.authToken)}}throw yield Ye("Create Installation",wt)})).apply(this,arguments)}function le(I){return new Promise(C=>{setTimeout(C,I)})}const Wt=/^[cdef][\w-]{21}$/;function ot(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function at(I){return function Mt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Wt.test(M)?M:""}catch(I){return""}}function Dn(I){return`${I.appName}!${I.appId}`}const ln=new Map;function Fi(I,C){const M=Dn(I);yi(M,C),function Zn(I,C){const M=function on(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=I=>{yi(I.data.key,I.data.fid)}),tr}();M&&M.postMessage({key:I,fid:C}),function Rn(){0===ln.size&&tr&&(tr.close(),tr=null)}()}(M,C)}function yi(I,C){const M=ln.get(I);if(M)for(const V of M)V(C)}let tr=null;const _r="firebase-installations-store";let Ae=null;function vr(){return Ae||(Ae=(0,ee.X3)("firebase-installations-database",1,(I,C)=>{0===C&&I.createObjectStore(_r)})),Ae}function nt(I,C){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(I,C){const M=Dn(I),Y=(yield vr()).transaction(_r,"readwrite"),ne=Y.objectStore(_r),Me=yield ne.get(M);return yield ne.put(C,M),yield Y.complete,(!Me||Me.fid!==C.fid)&&Fi(I,C.fid),C})).apply(this,arguments)}function tn(I){return cr.apply(this,arguments)}function cr(){return(cr=(0,O.Z)(function*(I){const C=Dn(I),V=(yield vr()).transaction(_r,"readwrite");yield V.objectStore(_r).delete(C),yield V.complete})).apply(this,arguments)}function Kr(I,C){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,O.Z)(function*(I,C){const M=Dn(I),Y=(yield vr()).transaction(_r,"readwrite"),ne=Y.objectStore(_r),Me=yield ne.get(M),Ke=C(Me);return void 0===Ke?yield ne.delete(M):yield ne.put(Ke,M),yield Y.complete,Ke&&(!Me||Me.fid!==Ke.fid)&&Fi(I,Ke.fid),Ke})).apply(this,arguments)}function Nn(I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(I){let C;const M=yield Kr(I.appConfig,V=>{const Y=ms(V),ne=ll(I,Y);return C=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}})).apply(this,arguments)}function ms(I){return ut(I||{fid:ot(),registrationStatus:0})}function ll(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(he.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},V=function Pt(I,C){return st.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:V}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:vt(I)}:{installationEntry:C}}function st(){return(st=(0,O.Z)(function*(I,C){try{const M=yield ve(I,C);return nt(I.appConfig,M)}catch(M){throw ke(M)&&409===M.customData.serverCode?yield tn(I.appConfig):yield nt(I.appConfig,{fid:C.fid,registrationStatus:0}),M}})).apply(this,arguments)}function vt(I){return ys.apply(this,arguments)}function ys(){return(ys=(0,O.Z)(function*(I){let C=yield _s(I.appConfig);for(;1===C.registrationStatus;)yield le(100),C=yield _s(I.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield Nn(I);return V||M}return C})).apply(this,arguments)}function _s(I){return Kr(I,C=>{if(!C)throw he.create("installation-not-found");return ut(C)})}function ut(I){return function wn(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function dr(I,C){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:C},M){const V=dt(I,M),Y=Ge(I,M),ne=C.getImmediate({optional:!0});if(ne){const _t=yield ne.getHeartbeatsHeader();_t&&Y.append("x-firebase-client",_t)}const Ke={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:L,appId:I.appId}})},wt=yield ct(()=>fetch(V,Ke));if(wt.ok)return Fe(yield wt.json());throw yield Ye("Generate Auth Token",wt)})).apply(this,arguments)}function dt(I,{fid:C}){return`${Ve(I)}/${C}/authTokens:generate`}function Tn(I){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(I,C=!1){let M;const V=yield Kr(I.appConfig,ne=>{if(!Yt(ne))throw he.create("not-registered");const Me=ne.authToken;if(!C&&q(Me))return ne;if(1===Me.requestStatus)return M=ze(I,C),ne;{if(!navigator.onLine)throw he.create("app-offline");const Ke=G(ne);return M=gt(I,Ke),Ke}});return M?yield M:V.authToken})).apply(this,arguments)}function ze(I,C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(I,C){let M=yield We(I.appConfig);for(;1===M.authToken.requestStatus;)yield le(100),M=yield We(I.appConfig);const V=M.authToken;return 0===V.requestStatus?Tn(I,C):V})).apply(this,arguments)}function We(I){return Kr(I,C=>{if(!Yt(C))throw he.create("not-registered");return function de(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function gt(I,C){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(I,C){try{const M=yield dr(I,C),V=Object.assign(Object.assign({},C),{authToken:M});return yield nt(I.appConfig,V),M}catch(M){if(!ke(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield nt(I.appConfig,V)}else yield tn(I.appConfig);throw M}})).apply(this,arguments)}function Yt(I){return void 0!==I&&2===I.registrationStatus}function q(I){return 2===I.requestStatus&&!function B(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function G(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function Ue(){return(Ue=(0,O.Z)(function*(I){const C=I,{installationEntry:M,registrationPromise:V}=yield Nn(C);return V?V.catch(console.error):Tn(C).catch(console.error),M.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(I,C=!1){const M=I;return yield nr(M),(yield Tn(M,C)).token})).apply(this,arguments)}function nr(I){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(I){const{registrationPromise:C}=yield Nn(I);C&&(yield C)})).apply(this,arguments)}function Ln(I){return he.create("missing-app-config-values",{valueName:I})}const Ja="installations",He=I=>{const C=I.getProvider("app").getImmediate(),M=function Es(I){if(!I||!I.options)throw Ln("App Configuration");if(!I.name)throw Ln("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!I.options[M])throw Ln(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,ie._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Rt=I=>{const C=I.getProvider("app").getImmediate(),M=(0,ie._getProvider)(C,Ja).getImmediate();return{getId:()=>function re(I){return Ue.apply(this,arguments)}(M),getToken:Y=>function mt(I){return Kt.apply(this,arguments)}(M,Y)}};(function Qt(){(0,ie._registerComponent)(new ue.wA(Ja,He,"PUBLIC")),(0,ie._registerComponent)(new ue.wA("installations-internal",Rt,"PRIVATE"))})(),(0,ie.registerVersion)(K,H),(0,ie.registerVersion)(K,H,"esm2017");const On="@firebase/remote-config",En=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Zc{constructor(C,M,V,Y){this.client=C,this.storage=M,this.storageCache=V,this.logger=Y}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,Y=V<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var M=this;return(0,O.Z)(function*(){const[V,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(C.cacheMaxAgeMillis,V))return Y;C.eTag=Y&&Y.eTag;const ne=yield M.client.fetch(C),Me=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Me.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Me),ne})()}}function zp(I=navigator){return I.languages&&I.languages[0]||I.language}class Gh{constructor(C,M,V,Y,ne,Me){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=V,this.projectId=Y,this.apiKey=ne,this.appId=Me}fetch(C){var M=this;return(0,O.Z)(function*(){const[V,Y]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},wt={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:Y,app_id:M.appId,language_code:zp()},_t={method:"POST",headers:Ke,body:JSON.stringify(wt)},Ht=fetch(Me,_t),Et=new Promise((Ai,ji)=>{C.signal.addEventListener(()=>{const Wo=new Error("The operation was aborted.");Wo.name="AbortError",ji(Wo)})});let Ti;try{yield Promise.race([Ht,Et]),Ti=yield Ht}catch(Ai){let ji="fetch-client-network";throw"AbortError"===Ai.name&&(ji="fetch-timeout"),En.create(ji,{originalErrorMessage:Ai.message})}let _n=Ti.status;const xr=Ti.headers.get("ETag")||void 0;let rs,lr;if(200===Ti.status){let Ai;try{Ai=yield Ti.json()}catch(ji){throw En.create("fetch-client-parse",{originalErrorMessage:ji.message})}rs=Ai.entries,lr=Ai.state}if("INSTANCE_STATE_UNSPECIFIED"===lr?_n=500:"NO_CHANGE"===lr?_n=304:("NO_TEMPLATE"===lr||"EMPTY_CONFIG"===lr)&&(rs={}),304!==_n&&200!==_n)throw En.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:xr,config:rs}})()}}class zh{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,O.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,V)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:V}){var Y=this;return(0,O.Z)(function*(){yield function Ei(I,C){return new Promise((M,V)=>{const Y=Math.max(C-Date.now(),0),ne=setTimeout(M,Y);I.addEventListener(()=>{clearTimeout(ne),V(En.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const ne=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function aa(I){if(!(I instanceof ee.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ne))throw ne;const Me={throttleEndTimeMillis:Date.now()+(0,ee.$s)(V),backoffCount:V+1};return yield Y.storage.setThrottleMetadata(Me),Y.attemptFetch(C,Me)}})()}}class zc{constructor(C,M,V,Y,ne){this.app=C,this._client=M,this._storageCache=V,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dl(I,C){const M=I.target.error||void 0;return En.create(C,{originalErrorMessage:M&&M.message})}const bs="app_namespace_store";class Kc{constructor(C,M,V,Y=function hl(){return new Promise((I,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{C(dl(V,"storage-open"))},M.onsuccess=V=>{I(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(bs,{keyPath:"compositeKey"})}}catch(M){C(En.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=C,this.appName=M,this.namespace=V,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,O.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Y,ne)=>{const Ke=V.transaction([bs],"readonly").objectStore(bs),wt=M.createCompositeKey(C);try{const _t=Ke.get(wt);_t.onerror=Ht=>{ne(dl(Ht,"storage-get"))},_t.onsuccess=Ht=>{const Et=Ht.target.result;Y(Et?Et.value:void 0)}}catch(_t){ne(En.create("storage-get",{originalErrorMessage:_t&&_t.message}))}})})()}set(C,M){var V=this;return(0,O.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((ne,Me)=>{const wt=Y.transaction([bs],"readwrite").objectStore(bs),_t=V.createCompositeKey(C);try{const Ht=wt.put({compositeKey:_t,value:M});Ht.onerror=Et=>{Me(dl(Et,"storage-set"))},Ht.onsuccess=()=>{ne()}}catch(Ht){Me(En.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(C){var M=this;return(0,O.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Y,ne)=>{const Ke=V.transaction([bs],"readwrite").objectStore(bs),wt=M.createCompositeKey(C);try{const _t=Ke.delete(wt);_t.onerror=Ht=>{ne(dl(Ht,"storage-delete"))},_t.onsuccess=()=>{Y()}}catch(_t){ne(En.create("storage-delete",{originalErrorMessage:_t&&_t.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Kp{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const M=C.storage.getLastFetchStatus(),V=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),ne=yield M;ne&&(C.lastFetchStatus=ne);const Me=yield V;Me&&(C.lastSuccessfulFetchTimestampMillis=Me);const Ke=yield Y;Ke&&(C.activeConfig=Ke)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function fl(){return tu.apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(I){return!1}})).apply(this,arguments)}!function Yc(){(0,ie._registerComponent)(new ue.wA("remote-config",function I(C,{instanceIdentifier:M}){const V=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw En.create("registration-window");if(!(0,ee.hl)())throw En.create("indexed-db-unavailable");const{projectId:ne,apiKey:Me,appId:Ke}=V.options;if(!ne)throw En.create("registration-project-id");if(!Me)throw En.create("registration-api-key");if(!Ke)throw En.create("registration-app-id");const wt=new Kc(Ke,V.name,M=M||"firebase"),_t=new Kp(wt),Ht=new te.Yd(On);Ht.logLevel=te.in.ERROR;const Et=new Gh(Y,ie.SDK_VERSION,M,ne,Me,Ke),Ti=new zh(Et,wt),_n=new Zc(Ti,wt,_t,Ht),xr=new zc(V,_n,_t,wt,Ht);return function jr(I){const C=(0,ee.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(xr),xr},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(On,"0.3.7"),(0,ie.registerVersion)(On,"0.3.7","esm2017")}();const Kh="/firebase-messaging-sw.js",Qc="/firebase-cloud-messaging-push-scope",Is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",To="google.c.a.c_id",Ao="google.c.a.c_l",ua="google.c.a.ts",Cs="google.c.a.e";var Ds=(()=>{return(I=Ds||(Ds={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ds;var I})();function Gn(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ml(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),Y=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)Y[ne]=V.charCodeAt(ne);return Y}const la="fcm_token_details_db",So="fcm_token_object_Store";function Yh(I){return xo.apply(this,arguments)}function xo(){return xo=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(la))return null;let C=null;return(yield(0,ee.X3)(la,5,function(){var V=(0,O.Z)(function*(Y,ne,Me,Ke){var wt;if(ne<2||!Y.objectStoreNames.contains(So))return;const _t=Ke.objectStore(So),Ht=yield _t.index("fcmSenderId").get(I);if(yield _t.clear(),Ht)if(2===ne){const Et=Ht;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;C={token:Et.fcmToken,createTime:null!==(wt=Et.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:Gn(Et.vapidKey)}}}else if(3===ne){const Et=Ht;C={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Gn(Et.auth),p256dh:Gn(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Gn(Et.vapidKey)}}}else if(4===ne){const Et=Ht;C={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Gn(Et.auth),p256dh:Gn(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Gn(Et.vapidKey)}}}});return function(Y,ne,Me,Ke){return V.apply(this,arguments)}}())).close(),yield(0,ee.Lj)(la),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),Yp(C)?C:null}),xo.apply(this,arguments)}function Yp(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Ut="firebase-messaging-store";let nu=null;function Xc(){return nu||(nu=(0,ee.X3)("firebase-messaging-database",1,(I,C)=>{0===C&&I.createObjectStore(Ut)})),nu}function dn(I){return ed.apply(this,arguments)}function ed(){return(ed=(0,O.Z)(function*(I){const C=Ro(I),V=yield(yield Xc()).transaction(Ut).objectStore(Ut).get(C);if(V)return V;{const Y=yield Yh(I.appConfig.senderId);if(Y)return yield Mo(I,Y),Y}})).apply(this,arguments)}function Mo(I,C){return zn.apply(this,arguments)}function zn(){return(zn=(0,O.Z)(function*(I,C){const M=Ro(I),Y=(yield Xc()).transaction(Ut,"readwrite");return yield Y.objectStore(Ut).put(C,M),yield Y.complete,C})).apply(this,arguments)}function ir(I){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,O.Z)(function*(I){const C=Ro(I),V=(yield Xc()).transaction(Ut,"readwrite");yield V.objectStore(Ut).delete(C),yield V.complete})).apply(this,arguments)}function Ro({appConfig:I}){return I.appId}const Xt=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function td(I,C){return ei.apply(this,arguments)}function ei(){return(ei=(0,O.Z)(function*(I,C){const M=yield sr(I),V=ru(C),Y={method:"POST",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(ht(I.appConfig),Y)).json()}catch(Me){throw Xt.create("token-subscribe-failed",{errorInfo:Me})}if(ne.error)throw Xt.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Xt.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Qh(I,C){return hr.apply(this,arguments)}function hr(){return(hr=(0,O.Z)(function*(I,C){const M=yield sr(I),V=ru(C.subscriptionOptions),Y={method:"PATCH",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${ht(I.appConfig)}/${C.token}`,Y)).json()}catch(Me){throw Xt.create("token-update-failed",{errorInfo:Me})}if(ne.error)throw Xt.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Xt.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Ys(I,C){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(I,C){const V={method:"DELETE",headers:yield sr(I)};try{const ne=yield(yield fetch(`${ht(I.appConfig)}/${C}`,V)).json();if(ne.error)throw Xt.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw Xt.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function ht({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function sr(I){return ca.apply(this,arguments)}function ca(){return(ca=(0,O.Z)(function*({appConfig:I,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ru({p256dh:I,auth:C,endpoint:M,vapidKey:V}){const Y={web:{endpoint:M,auth:C,p256dh:I}};return V!==Is&&(Y.web.applicationPubKey=V),Y}const da=6048e5;function No(I){return ha.apply(this,arguments)}function ha(){return(ha=(0,O.Z)(function*(I){const C=yield Oo(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:Gn(C.getKey("auth")),p256dh:Gn(C.getKey("p256dh"))},V=yield dn(I.firebaseDependencies);if(V){if(Js(V.subscriptionOptions,M))return Date.now()>=V.createTime+da?kt(I,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield Ys(I.firebaseDependencies,V.token)}catch(Y){console.warn(Y)}return yn(I.firebaseDependencies,M)}return yn(I.firebaseDependencies,M)})).apply(this,arguments)}function _l(I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,O.Z)(function*(I){const C=yield dn(I.firebaseDependencies);C&&(yield Ys(I.firebaseDependencies,C.token),yield ir(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function kt(I,C){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(I,C){try{const M=yield Qh(I.firebaseDependencies,C),V=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield Mo(I.firebaseDependencies,V),M}catch(M){throw yield _l(I),M}})).apply(this,arguments)}function yn(I,C){return As.apply(this,arguments)}function As(){return(As=(0,O.Z)(function*(I,C){const V={token:yield td(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Mo(I,V),V.token})).apply(this,arguments)}function Oo(I,C){return br.apply(this,arguments)}function br(){return(br=(0,O.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ml(C)})})).apply(this,arguments)}function Js(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function pa(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function vl(I,C){if(!C.notification)return;I.notification={};const M=C.notification.title;M&&(I.notification.title=M);const V=C.notification.body;V&&(I.notification.body=V);const Y=C.notification.image;Y&&(I.notification.image=Y)}(C,I),function iu(I,C){!C.data||(I.data=C.data)}(C,I),function Po(I,C){if(!C.fcmOptions)return;I.fcmOptions={};const M=C.fcmOptions.link;M&&(I.fcmOptions.link=M);const V=C.fcmOptions.analytics_label;V&&(I.fcmOptions.analyticsLabel=V)}(C,I),C}function ga(I){return"object"==typeof I&&!!I&&To in I}function jn(I,C){const M=[];for(let V=0;V<I.length;V++)M.push(I.charAt(V)),V<C.length&&M.push(C.charAt(V));return M.join("")}function ko(I){return Xt.create("missing-app-config-values",{valueName:I})}jn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xs{constructor(C,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Ui(I){if(!I||!I.options)throw ko("App Configuration Object");if(!I.name)throw ko("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const V of C)if(!M[V])throw ko(V);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function ti(I){return wl.apply(this,arguments)}function wl(){return(wl=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Kh,{scope:Qc}),I.swRegistration.update().catch(()=>{})}catch(C){throw Xt.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function su(I,C){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,O.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield ti(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function El(I,C){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,O.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Is)})).apply(this,arguments)}function Lo(){return(Lo=(0,O.Z)(function*(I,C){if(!navigator)throw Xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xt.create("permission-blocked");return yield El(I,null==C?void 0:C.vapidKey),yield su(I,null==C?void 0:C.serviceWorkerRegistration),No(I)})).apply(this,arguments)}function bl(I,C,M){return ma.apply(this,arguments)}function ma(){return(ma=(0,O.Z)(function*(I,C,M){const V=Jh(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[To],message_name:M[Ao],message_time:M[ua],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jh(I){switch(I){case Ds.NOTIFICATION_CLICKED:return"notification_open";case Ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function au(){return(au=(0,O.Z)(function*(I,C){const M=C.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===Ds.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(pa(M)):I.onMessageHandler.next(pa(M)));const V=M.data;ga(V)&&"1"===V[Cs]&&(yield bl(I,M.messageType,V))})).apply(this,arguments)}const uu="@firebase/messaging",lu=I=>{const C=new Xs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Vo(I,C){return au.apply(this,arguments)}(C,M)),C},cu=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:V=>function ou(I,C){return Lo.apply(this,arguments)}(C,V)}};function Xh(){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,O.Z)(function*(){try{yield(0,ee.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nd(){(0,ie._registerComponent)(new ue.wA("messaging",lu,"PUBLIC")),(0,ie._registerComponent)(new ue.wA("messaging-internal",cu,"PRIVATE")),(0,ie.registerVersion)(uu,"0.9.12"),(0,ie.registerVersion)(uu,"0.9.12","esm2017")}();const eo="analytics",ya="firebase_id",tf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cl="https://www.googletagmanager.com/gtag/js",In=new te.Yd("@firebase/analytics");function to(I){return Promise.all(I.map(C=>C.catch(M=>M)))}function Qp(I,C){const M=document.createElement("script");M.src=`${Cl}?l=${I}&id=${C}`,M.async=!0,document.head.appendChild(M)}function _a(I,C,M,V,Y,ne){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,O.Z)(function*(I,C,M,V,Y,ne){const Me=V[Y];try{if(Me)yield C[Me];else{const wt=(yield to(M)).find(_t=>_t.measurementId===Y);wt&&(yield C[wt.appId])}}catch(Ke){In.error(Ke)}I("config",Y,ne)})).apply(this,arguments)}function Xp(I,C,M,V,Y){return no.apply(this,arguments)}function no(){return(no=(0,O.Z)(function*(I,C,M,V,Y){try{let ne=[];if(Y&&Y.send_to){let Me=Y.send_to;Array.isArray(Me)||(Me=[Me]);const Ke=yield to(M);for(const wt of Me){const _t=Ke.find(Et=>Et.measurementId===wt),Ht=_t&&C[_t.appId];if(!Ht){ne=[];break}ne.push(Ht)}}0===ne.length&&(ne=Object.values(C)),yield Promise.all(ne),I("event",V,Y||{})}catch(ne){In.error(ne)}})).apply(this,arguments)}function Dl(){const I=window.document.getElementsByTagName("script");for(const C of Object.values(I))if(C.src&&C.src.includes(Cl))return C;return null}const an=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bo=new class rf{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function sf(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function va(I){return ro.apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(I){var C;const{appId:M,apiKey:V}=I,Y={method:"GET",headers:sf(V)},ne=tf.replace("{app-id}",M),Me=yield fetch(ne,Y);if(200!==Me.status&&304!==Me.status){let Ke="";try{const wt=yield Me.json();(null===(C=wt.error)||void 0===C?void 0:C.message)&&(Ke=wt.error.message)}catch(wt){}throw an.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:Ke})}return Me.json()})).apply(this,arguments)}function xs(I){return ar.apply(this,arguments)}function ar(){return(ar=(0,O.Z)(function*(I,C=Bo,M){const{appId:V,apiKey:Y,measurementId:ne}=I.options;if(!V)throw an.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:V};throw an.create("no-api-key")}const Me=C.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Ho;return setTimeout((0,O.Z)(function*(){Ke.abort()}),void 0!==M?M:6e4),yt({appId:V,apiKey:Y,measurementId:ne},Me,Ke,C)})).apply(this,arguments)}function yt(I,C,M){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:M},V,Y=Bo){const{appId:ne,measurementId:Me}=I;try{yield of(V,C)}catch(Ke){if(Me)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:ne,measurementId:Me};throw Ke}try{const Ke=yield va(I);return Y.deleteThrottleMetadata(ne),Ke}catch(Ke){if(!sd(Ke)){if(Y.deleteThrottleMetadata(ne),Me)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:ne,measurementId:Me};throw Ke}const wt=503===Number(Ke.customData.httpStatus)?(0,ee.$s)(M,Y.intervalMillis,30):(0,ee.$s)(M,Y.intervalMillis),_t={throttleEndTimeMillis:Date.now()+wt,backoffCount:M+1};return Y.setThrottleMetadata(ne,_t),In.debug(`Calling attemptFetch again in ${wt} millis`),yt(I,_t,V,Y)}})).apply(this,arguments)}function of(I,C){return new Promise((M,V)=>{const Y=Math.max(C-Date.now(),0),ne=setTimeout(M,Y);I.addEventListener(()=>{clearTimeout(ne),V(an.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function sd(I){if(!(I instanceof ee.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class Ho{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Tl(){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,O.Z)(function*(){if(!(0,ee.hl)())return In.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(I){return In.warn(an.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Ir(){return(Ir=(0,O.Z)(function*(I,C,M,V,Y,ne,Me){var Ke;const wt=xs(I);wt.then(_n=>{M[_n.measurementId]=_n.appId,I.options.measurementId&&_n.measurementId!==I.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${_n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_n=>In.error(_n)),C.push(wt);const _t=Tl().then(_n=>{if(_n)return V.getId()}),[Ht,Et]=yield Promise.all([wt,_t]);Dl()||Qp(ne,Ht.measurementId),Y("js",new Date);const Ti=null!==(Ke=null==Me?void 0:Me.config)&&void 0!==Ke?Ke:{};return Ti.origin="firebase",Ti.update=!0,null!=Et&&(Ti[ya]=Et),Y("config",Ht.measurementId,Ti),Ht.measurementId})).apply(this,arguments)}class mu{constructor(C){this.app=C}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},Al=[];const Sl={};let ii,Rs,wa="dataLayer",nn=!1;function Sr(I,C,M){!function od(){const I=[];if((0,ee.ru)()&&I.push("This is a browser extension environment."),(0,ee.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((V,Y)=>`(${Y+1}) ${V}`).join(" "),M=an.create("invalid-analytics-context",{errorInfo:C});In.warn(M.message)}}();const V=I.options.appId;if(!V)throw an.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw an.create("no-api-key");In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[V])throw an.create("already-exists",{id:V});if(!nn){!function Jp(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(wa);const{wrappedGtag:ne,gtagCore:Me}=function tg(I,C,M,V,Y){let ne=function(...Me){window[V].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function eg(I,C,M,V){function ne(){return(ne=(0,O.Z)(function*(Me,Ke,wt){try{"event"===Me?yield Xp(I,C,M,Ke,wt):"config"===Me?yield _a(I,C,M,V,Ke,wt):I("set",Ke)}catch(_t){In.error(_t)}})).apply(this,arguments)}return function Y(Me,Ke,wt){return ne.apply(this,arguments)}}(ne,I,C,M),{gtagCore:ne,wrappedGtag:window[Y]}}(ri,Al,Sl,wa,"gtag");Rs=ne,ii=Me,nn=!0}return ri[V]=function ni(I,C,M,V,Y,ne,Me){return Ir.apply(this,arguments)}(I,Al,Sl,C,ii,wa,M),new mu(I)}function xn(){return(xn=(0,O.Z)(function*(I,C,M,V,Y){if(Y&&Y.global)I("event",M,V);else{const ne=yield C;I("event",M,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function un(){return $o.apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(I){return!1}})).apply(this,arguments)}const vu="@firebase/analytics";!function af(){(0,ie._registerComponent)(new ue.wA(eo,(C,{options:M})=>Sr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ie._registerComponent)(new ue.wA("analytics-internal",function I(C){try{const M=C.getProvider(eo).getImmediate();return{logEvent:(V,Y,ne)=>function cd(I,C,M,V){I=(0,ee.m9)(I),function so(I,C,M,V,Y){return xn.apply(this,arguments)}(Rs,ri[I.app.options.appId],C,M,V).catch(Y=>In.error(Y))}(M,V,Y,ne)}}catch(M){throw an.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ie.registerVersion)(vu,"0.7.8"),(0,ie.registerVersion)(vu,"0.7.8","esm2017")}();var Pn=P(4408),Di=P(7565);const dd=new class uf extends Di.v{}(class ba extends Pn.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(C,M,V):C.flush(this)}});var hn=P(4986),Rl=P(8505),wu=P(9468),Ia=P(5363);const Nl=new c.GfV("7.3.0"),Eu="__angularfire_symbol__analyticsIsSupportedValue",ks="__angularfire_symbol__analyticsIsSupported",Ca="__angularfire_symbol__remoteConfigIsSupportedValue",hd="__angularfire_symbol__remoteConfigIsSupported",qo="__angularfire_symbol__messagingIsSupportedValue",ur="__angularfire_symbol__messagingIsSupported";function ig(I,C,M){if(C){if(1===C.length)return C[0];const ne=C.filter(Me=>Me.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[ks]||(globalThis[ks]=un().then(I=>globalThis[Eu]=I).catch(()=>globalThis[Eu]=!1)),globalThis[ur]||(globalThis[ur]=Xh().then(I=>globalThis[qo]=I).catch(()=>globalThis[qo]=!1)),globalThis[hd]||(globalThis[hd]=fl().then(I=>globalThis[Ca]=I).catch(()=>globalThis[Ca]=!1));const lf=(I,C)=>{const M=C?[C]:(0,W.C6)(),V=[];return M.forEach(Y=>{Y.container.getProvider(I).instances.forEach(Me=>{V.includes(Me)||V.push(Me)})}),V};function Zo(){}class Ol{constructor(C,M=dd){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,V){const Y=this.zone;return this.delegate.schedule(function(Me){Y.runGuarded(()=>{C.apply(this,[Me])})},M,V)}}class cf{constructor(C){this.zone=C,this.task=null}call(C,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),M.pipe((0,Rl.b)({next:V,complete:V,error:V})).subscribe(C).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cu=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ol(Zone.current)),this.insideAngular=M.run(()=>new Ol(Zone.current,hn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function es(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function uo(I){return es(),function Go(I){return function(M){return(M=M.lift(new cf(I.ngZone))).pipe((0,wu.R)(I.outsideAngular),(0,Ia.Q)(I.insideAngular))}}(es())(I)}},2090:(it,_e,P)=>{"use strict";P.d(_e,{BH:()=>fe,LL:()=>Mt,ZR:()=>le,zI:()=>me,US:()=>te,tV:()=>F,L:()=>H,$s:()=>wn,r3:()=>yi,Sg:()=>Ce,ne:()=>nt,vZ:()=>Rn,ZB:()=>U,Lj:()=>jt,pd:()=>Ae,m9:()=>dt,z$:()=>Oe,jU:()=>ke,ru:()=>Ve,d:()=>Ye,xb:()=>tr,w1:()=>Te,hl:()=>X,uI:()=>oe,UG:()=>he,b$:()=>Fe,G6:()=>ct,Mn:()=>rt,X3:()=>gt,xO:()=>Ur,zd:()=>_r,eu:()=>ge});var c=P(5861);const ee=function(q){const B=[];let G=0;for(let de=0;de<q.length;de++){let re=q.charCodeAt(de);re<128?B[G++]=re:re<2048?(B[G++]=re>>6|192,B[G++]=63&re|128):55296==(64512&re)&&de+1<q.length&&56320==(64512&q.charCodeAt(de+1))?(re=65536+((1023&re)<<10)+(1023&q.charCodeAt(++de)),B[G++]=re>>18|240,B[G++]=re>>12&63|128,B[G++]=re>>6&63|128,B[G++]=63&re|128):(B[G++]=re>>12|224,B[G++]=re>>6&63|128,B[G++]=63&re|128)}return B},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,B){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let re=0;re<q.length;re+=3){const Ue=q[re],mt=re+1<q.length,Kt=mt?q[re+1]:0,nr=re+2<q.length,qt=nr?q[re+2]:0;let mn=(15&Kt)<<2|qt>>6,Yr=63&qt;nr||(Yr=64,mt||(mn=64)),de.push(G[Ue>>2],G[(3&Ue)<<4|Kt>>4],G[mn],G[Yr])}return de.join("")},encodeString(q,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(q):this.encodeByteArray(ee(q),B)},decodeString(q,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(q):function(q){const B=[];let G=0,de=0;for(;G<q.length;){const re=q[G++];if(re<128)B[de++]=String.fromCharCode(re);else if(re>191&&re<224){const Ue=q[G++];B[de++]=String.fromCharCode((31&re)<<6|63&Ue)}else if(re>239&&re<365){const nr=((7&re)<<18|(63&q[G++])<<12|(63&q[G++])<<6|63&q[G++])-65536;B[de++]=String.fromCharCode(55296+(nr>>10)),B[de++]=String.fromCharCode(56320+(1023&nr))}else{const Ue=q[G++],mt=q[G++];B[de++]=String.fromCharCode((15&re)<<12|(63&Ue)<<6|63&mt)}}return B.join("")}(this.decodeStringToByteArray(q,B))},decodeStringToByteArray(q,B){this.init_();const G=B?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let re=0;re<q.length;){const Ue=G[q.charAt(re++)],Kt=re<q.length?G[q.charAt(re)]:0;++re;const qt=re<q.length?G[q.charAt(re)]:64;++re;const Tt=re<q.length?G[q.charAt(re)]:64;if(++re,null==Ue||null==Kt||null==qt||null==Tt)throw Error();de.push(Ue<<2|Kt>>4),64!==qt&&(de.push(Kt<<4&240|qt>>2),64!==Tt&&de.push(qt<<6&192|Tt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},H=function(q){return function(q){const B=ee(q);return te.encodeByteArray(B,!0)}(q).replace(/\./g,"")},F=function(q){try{return te.decodeString(q,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function U(q,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return B}for(const G in B)!B.hasOwnProperty(G)||!be(G)||(q[G]=U(q[G],B[G]));return q}function be(q){return"__proto__"!==q}class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,G)=>{this.resolve=B,this.reject=G})}wrapCallback(B){return(G,de)=>{G?this.reject(G):this.resolve(de),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(G):B(G,de))}}}function Ce(q,B){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=B||"demo-project",re=q.iat||0,Ue=q.sub||q.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const mt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:re,exp:re+3600,auth_time:re,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},q);return[H(JSON.stringify({alg:"none",type:"JWT"})),H(JSON.stringify(mt)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function ke(){return"object"==typeof self&&self.self===self}function Ve(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){return Oe().indexOf("Electron/")>=0}function Te(){const q=Oe();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function rt(){return Oe().indexOf("MSAppHost/")>=0}function ct(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function ge(){return new Promise((q,B)=>{try{let G=!0;const de="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(de);re.onsuccess=()=>{re.result.close(),G||self.indexedDB.deleteDatabase(de),q(!0)},re.onupgradeneeded=()=>{G=!1},re.onerror=()=>{var Ue;B((null===(Ue=re.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(G){B(G)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(B,G,de){super(G),this.code=B,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(B,G,de){this.service=B,this.serviceName=G,this.errors=de}create(B,...G){const de=G[0]||{},re=`${this.service}/${B}`,Ue=this.errors[B],mt=Ue?function Wt(q,B){return q.replace(qn,(G,de)=>{const re=B[de];return null!=re?String(re):`<${de}?>`})}(Ue,de):"Error";return new le(re,`${this.serviceName}: ${mt} (${re}).`,de)}}const qn=/\{\$([^}]+)}/g;function yi(q,B){return Object.prototype.hasOwnProperty.call(q,B)}function tr(q){for(const B in q)if(Object.prototype.hasOwnProperty.call(q,B))return!1;return!0}function Rn(q,B){if(q===B)return!0;const G=Object.keys(q),de=Object.keys(B);for(const re of G){if(!de.includes(re))return!1;const Ue=q[re],mt=B[re];if(Zs(Ue)&&Zs(mt)){if(!Rn(Ue,mt))return!1}else if(Ue!==mt)return!1}for(const re of de)if(!G.includes(re))return!1;return!0}function Zs(q){return null!==q&&"object"==typeof q}function Ur(q){const B=[];for(const[G,de]of Object.entries(q))Array.isArray(de)?de.forEach(re=>{B.push(encodeURIComponent(G)+"="+encodeURIComponent(re))}):B.push(encodeURIComponent(G)+"="+encodeURIComponent(de));return B.length?"&"+B.join("&"):""}function _r(q){const B={};return q.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[re,Ue]=de.split("=");B[decodeURIComponent(re)]=decodeURIComponent(Ue)}}),B}function Ae(q){const B=q.indexOf("?");if(!B)return"";const G=q.indexOf("#",B);return q.substring(B,G>0?G:void 0)}function nt(q,B){const G=new Wr(q,B);return G.subscribe.bind(G)}class Wr{constructor(B,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{B(this)}).catch(de=>{this.error(de)})}next(B){this.forEachObserver(G=>{G.next(B)})}error(B){this.forEachObserver(G=>{G.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,G,de){let re;if(void 0===B&&void 0===G&&void 0===de)throw new Error("Missing Observer.");re=function cr(q,B){if("object"!=typeof q||null===q)return!1;for(const G of B)if(G in q&&"function"==typeof q[G])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:G,complete:de},void 0===re.next&&(re.next=Kr),void 0===re.error&&(re.error=Kr),void 0===re.complete&&(re.complete=Kr);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(mt){}}),this.observers.push(re),Ue}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,B)}sendOne(B,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{G(this.observers[B])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kr(){}function wn(q,B=1e3,G=2){const de=B*Math.pow(G,q),re=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+re)}function dt(q){return q&&q._delegate?q._delegate:q}function Tn(q,B){return new Promise((G,de)=>{q.onsuccess=re=>{G(re.target.result)},q.onerror=re=>{var Ue;de(`${B}: ${null===(Ue=re.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class Nt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,G="readonly"){return new ze(this._db.transaction.call(this._db,B,G))}createObjectStore(B,G){return new Ee(this._db.createObjectStore(B,G))}close(){this._db.close()}}class ze{constructor(B){this._transaction=B,this.complete=new Promise((G,de)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(B){return new Ee(this._transaction.objectStore(B))}}class Ee{constructor(B){this._store=B}index(B){return new We(this._store.index(B))}createIndex(B,G,de){return new We(this._store.createIndex(B,G,de))}get(B){return Tn(this._store.get(B),"Error reading from IndexedDB")}put(B,G){return Tn(this._store.put(B,G),"Error writing to IndexedDB")}delete(B){return Tn(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Tn(this._store.clear(),"Error clearing IndexedDB object store")}}class We{constructor(B){this._index=B}get(B){return Tn(this._index.get(B),"Error reading from IndexedDB")}}function gt(q,B,G){return new Promise((de,re)=>{try{const Ue=indexedDB.open(q,B);Ue.onsuccess=mt=>{de(new Nt(mt.target.result))},Ue.onerror=mt=>{var Kt;re(`Error opening indexedDB: ${null===(Kt=mt.target.error)||void 0===Kt?void 0:Kt.message}`)},Ue.onupgradeneeded=mt=>{G(new Nt(Ue.result),mt.oldVersion,mt.newVersion,new ze(Ue.transaction))}}catch(Ue){re(`Error opening indexedDB: ${Ue.message}`)}})}function jt(q){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,c.Z)(function*(q){return new Promise((B,G)=>{try{const de=indexedDB.deleteDatabase(q);de.onsuccess=()=>{B()},de.onerror=re=>{var Ue;G(`Error deleting indexedDB database "${q}": ${null===(Ue=re.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(de){G(`Error deleting indexedDB database "${q}": ${de.message}`)}})})).apply(this,arguments)}},3777:(it,_e,P)=>{"use strict";var c=P(5e3);let W=null;function O(){return W}const te=new c.OlP("DocumentToken");let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function H(){return(0,c.LFG)(L)}()},providedIn:"platform"}),n})();const F=new c.OlP("Location Initialized");let L=(()=>{class n extends K{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){U()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){U()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function be(){return new L((0,c.LFG)(te))}()},providedIn:"platform"}),n})();function U(){return!!window.history.pushState}function fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Oe(n){return n&&"?"!==n[0]?"?"+n:n}let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(n){const e=(0,c.LFG)(te).location;return new Ve((0,c.LFG)(K),e&&e.origin||"")}()},providedIn:"root"}),n})();const ke=new c.OlP("appBaseHref");let Ve=(()=>{class n extends oe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Oe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const f=this.prepareExternalUrl(o+Oe(u));this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,u){const f=this.prepareExternalUrl(o+Oe(u));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(K),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n extends oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=fe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let f=this.prepareExternalUrl(o+Oe(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,u){let f=this.prepareExternalUrl(o+Oe(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(K),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ce(Ge(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Oe(r))}normalize(t){return n.stripTrailingSlash(function rt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oe(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Oe,n.joinWithSlash=fe,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(c.LFG(oe),c.LFG(K))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return new Ye((0,c.LFG)(oe),(0,c.LFG)(K))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))();const _r=c.kL8;class Jt{}let zs=(()=>{class n extends Jt{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(_r(r||this.locale)(t)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ws(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let Vi=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Jr{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,f)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Jr(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===u?void 0:u);else if(null!==u){const y=r.get(u);r.move(y,f),Ks(y,o)}});for(let o=0,u=r.length;o<u;o++){const y=r.get(o).context;y.index=o,y.count=u,y.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Ks(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ks(n,e){n.context.$implicit=e.item}let jr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function eu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Jt,useClass:zs}]}),n})();function So(n){return"server"===n}let yl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Jc((0,c.LFG)(te),window)}),n})();class Jc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ut(this.window.history)||Ut(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ut(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class dn{}class Mo extends class ed extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){W||(W=n)}(new Mo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ir(){return zn=zn||document.querySelector("base"),zn?zn.getAttribute("href"):null}();return null==t?null:function Ro(n){Ii=Ii||document.createElement("a"),Ii.setAttribute("href",n);const e=Ii.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ws(document.cookie,e)}}let Ii,zn=null;const Ts=new c.OlP("TRANSITION_ID"),td=[{provide:c.ip1,useFactory:function Xt(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Ts,te,c.zs3],multi:!0}];class ei{static init(){(0,c.VLi)(new ei)}addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const y=function(E){f=f||E,u--,0==u&&r(f)};o.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Qh=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hr=new c.OlP("EventManagerPlugins");let Ys=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(hr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qs{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ht=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),sr=(()=>{class n extends ht{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ca),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ca))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function ca(n){O().remove(n)}const ru={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},da=/%COMP%/g;function yn(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?yn(n,o,t):(o=o.replace(da,n),t.push(o))}return t}function As(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let br=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Js(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new iu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case c.ifc.ShadowDom:return new Po(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=yn(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ys),c.LFG(sr),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Js{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ru[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=ru[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ru[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,As(r)):this.eventManager.addEventListener(e,t,As(r))}}class iu extends Js{constructor(e,t,r,o){super(e),this.component=r;const u=yn(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function kt(n){return"_ngcontent-%COMP%".replace(da,n)}(o+"-"+r.id),this.hostAttr=function fa(n){return"_nghost-%COMP%".replace(da,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Po extends Js{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=yn(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const y=document.createElement("style");y.textContent=u[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ga=(()=>{class n extends Qs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jn=["alt","control","meta","shift"],ko={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xs={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ti={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wl=(()=>{class n extends Qs{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),f=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let f="";if(jn.forEach(E=>{const T=r.indexOf(E);T>-1&&(r.splice(T,1),f+=E+".")}),f+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=o,y.fullKey=f,y}static getEventFullKey(t){let r="",o=function su(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Xs.hasOwnProperty(e)&&(e=Xs[e]))}return ko[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),jn.forEach(u=>{u!=o&&ti[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Lo=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Fo(){Mo.makeCurrent(),ei.init()},multi:!0},{provide:te,useFactory:function Ss(){return(0,c.RDi)(document),document},deps:[]}]),bl=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function El(){return new c.qLn},deps:[]},{provide:hr,useClass:ga,multi:!0,deps:[te,c.R0b,c.Lbi]},{provide:hr,useClass:wl,multi:!0,deps:[te]},{provide:br,useClass:br,deps:[Ys,sr,c.AFp]},{provide:c.FYo,useExisting:br},{provide:ht,useExisting:sr},{provide:sr,useClass:sr,deps:[te]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Ys,useClass:Ys,deps:[hr,c.R0b]},{provide:dn,useClass:Qh,deps:[]}];let ma=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Ts,useExisting:c.AFp},td]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:bl,imports:[gl,c.hGG]}),n})();"undefined"!=typeof window&&window;var Sn=P(8996),an=P(8306);const{isArray:gu}=Array,{getPrototypeOf:nf,prototype:rf,keys:Bo}=Object;function sf(n){if(1===n.length){const e=n[0];if(gu(e))return{args:e,keys:null};if(function va(n){return n&&"object"==typeof n&&nf(n)===rf}(e)){const t=Bo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ro=P(8421),xs=P(7669),ar=P(5403),yt=P(4004);const{isArray:jo}=Array;function sd(n){return(0,yt.U)(e=>function of(n,e){return jo(e)?n(...e):n(e)}(n,e))}function Ho(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let Ms=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),ni=(()=>{class n extends Ms{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ir=new c.OlP("NgValueAccessor"),Al={provide:Ir,useExisting:(0,c.Gpc)(()=>yu),multi:!0},wa=new c.OlP("CompositionEventMode");let yu=(()=>{class n extends Ms{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sl(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([Al]),c.qOj]}),n})();function ii(n){return null==n||0===n.length}function Rs(n){return null!=n&&"number"==typeof n.length}const nn=new c.OlP("NgValidators"),io=new c.OlP("NgAsyncValidators"),od=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sr{static min(e){return function so(n){return e=>{if(ii(e.value)||ii(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xn(n){return e=>{if(ii(e.value)||ii(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function _u(n){return ii(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Ns(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function oo(n){return ii(n.value)||od.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ci(n){return e=>ii(e.value)||!Rs(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ao(n){return e=>Rs(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ea(n){if(!n)return Os;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ii(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return ad(e)}static composeAsync(e){return ld(e)}}function Os(n){return null}function Xi(n){return null!=n}function xl(n){const e=(0,c.QGY)(n)?(0,Sn.D)(n):n;return(0,c.CqO)(e),e}function Ml(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function un(n,e){return e.map(t=>t(n))}function ng(n){return n.map(e=>function $o(n){return!n.validate}(e)?e:t=>e.validate(t))}function ad(n){if(!n)return null;const e=n.filter(Xi);return 0==e.length?null:function(t){return Ml(un(t,e))}}function ud(n){return null!=n?ad(ng(n)):null}function ld(n){if(!n)return null;const e=n.filter(Xi);return 0==e.length?null:function(t){return function Tl(...n){const e=(0,xs.jO)(n),{args:t,keys:r}=sf(n),o=new an.y(u=>{const{length:f}=t;if(!f)return void u.complete();const y=new Array(f);let E=f,T=f;for(let R=0;R<f;R++){let N=!1;(0,ro.Xf)(t[R]).subscribe(new ar.Q(u,Z=>{N||(N=!0,T--),y[R]=Z},()=>E--,void 0,()=>{(!E||!N)&&(T||u.next(r?Ho(r,y):y),u.complete())}))}});return e?o.pipe(sd(e)):o}(un(t,e).map(xl)).pipe((0,yt.U)(Ml))}}function cd(n){return null!=n?ld(ng(n)):null}function vu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ps(n){return n._rawValidators}function af(n){return n._rawAsyncValidators}function Pn(n){return n?Array.isArray(n)?n:[n]:[]}function ba(n,e){return Array.isArray(n)?n.includes(e):n===e}function Di(n,e){const t=Pn(e);return Pn(n).forEach(o=>{ba(t,o)||t.push(o)}),t}function uf(n,e){return Pn(e).filter(t=>!ba(n,t))}class dd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ud(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kn extends dd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn extends dd{get formDirective(){return null}get path(){return null}}class Rl{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Nl=(()=>{class n extends Rl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kn,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Eu=(()=>{class n extends Rl{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function Bi(n,e){Go(n,e),e.valueAccessor.writeValue(n.value),function sg(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C(n,e)})}(n,e),function M(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function I(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function uo(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ns(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zo(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Da(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Go(n,e){const t=Ps(n);null!==e.validator?n.setValidators(vu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=af(n);null!==e.asyncValidator?n.setAsyncValidators(vu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Da(e._rawValidators,o),Da(e._rawAsyncValidators,o)}function zo(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Ps(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=af(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Da(e._rawValidators,r),Da(e._rawAsyncValidators,r),t}function C(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Et(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xr="VALID",rs="INVALID",lr="PENDING",Ai="DISABLED";function Wo(n){return(kl(n)?n.validators:n)||null}function Pl(n){return Array.isArray(n)?ud(n):n||null}function Du(n,e){return(kl(e)?e.asyncValidators:n)||null}function fd(n){return Array.isArray(n)?cd(n):n||null}function kl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ta=n=>n instanceof Tu,Ko=n=>n instanceof Au;function my(n){return Ta(n)?n.value:n.getRawValue()}function df(n,e){const t=Ko(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function pd(n,e){Ko(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new c.vHH(1002,"")})}class ag{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Pl(this._rawValidators),this._composedAsyncValidatorFn=fd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xr}get invalid(){return this.status===rs}get pending(){return this.status==lr}get disabled(){return this.status===Ai}get enabled(){return this.status!==Ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Pl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=fd(e)}addValidators(e){this.setValidators(Di(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Di(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uf(e,this._rawAsyncValidators))}hasValidator(e){return ba(this._rawValidators,e)}hasAsyncValidator(e){return ba(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=lr,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ai,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xr,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xr||this.status===lr)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ai:xr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=lr,this._hasOwnPendingAsyncValidator=!0;const t=xl(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ji(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Ko(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof yy)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Ai:this.errors?rs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lr)?lr:this._anyControlsHaveStatus(rs)?rs:xr}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tu extends ag{constructor(e=null,t,r){super(Wo(t),Du(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Et(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Et(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Au extends ag{constructor(e,t,r){super(Wo(t),Du(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pd(this,e),Object.keys(e).forEach(r=>{df(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=my(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yy extends ag{constructor(e,t,r){super(Wo(t),Du(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pd(this,e),e.forEach((r,o)=>{df(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>my(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let pf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Fl=new c.OlP("NgModelWithFormControlWarning"),Cy={provide:hn,useExisting:(0,c.Gpc)(()=>Ed)};let Ed=(()=>{class n extends hn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Bi(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ns(t.control||null,t,!1),Et(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function _t(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(ns(r||null,t),Ta(o)&&(Bi(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function V(n,e){Go(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Y(n,e){return zo(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Go(this.form,this),this._oldForm&&zo(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nn,10),c.Y36(io,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Cy]),c.qOj,c.TTD]}),n})();const dg={provide:Kn,useExisting:(0,c.Gpc)(()=>Hi)};let Hi=(()=>{class n extends Kn{constructor(t,r,o,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Ht(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===yu?t=u:function wt(n){return Object.getPrototypeOf(n.constructor)===ni}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ke(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ts(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(hn,13),c.Y36(nn,10),c.Y36(io,10),c.Y36(Ir,10),c.Y36(Fl,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([dg]),c.qOj,c.TTD]}),n})(),bf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qo]]}),n})(),Hl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bf]}),n})(),Hr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fl,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[bf]}),n})();function Xe(...n){const e=(0,xs.yG)(n);return(0,Sn.D)(n,e)}var si=P(7579);class Si extends si.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var $l=P(4671),If=P(9672);function Cf(n,e,t){n?(0,If.f)(t,n,e):e()}const ql=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xd=P(8189);function xu(...n){return function ky(){return(0,xd.J)(1)}()((0,Sn.D)(n,(0,xs.yG)(n)))}function Eg(n){return new an.y(e=>{(0,ro.Xf)(n()).subscribe(e)})}var Mu=P(515),Md=P(727),xi=P(4482);function Zl(){return(0,xi.e)((n,e)=>{let t=null;n._refCount++;const r=new ar.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Gl extends an.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,xi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Md.w0;const t=this.getSubject();e.add(this.source.subscribe(new ar.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Md.w0.EMPTY)}return e}refCount(){return Zl()(this)}}function Mr(n,e){return(0,xi.e)((t,r)=>{let o=null,u=0,f=!1;const y=()=>f&&!o&&r.complete();t.subscribe(new ar.Q(r,E=>{null==o||o.unsubscribe();let T=0;const R=u++;(0,ro.Xf)(n(E,R)).subscribe(o=new ar.Q(r,N=>r.next(e?e(E,N,R,T++):N),()=>{o=null,y()}))},()=>{f=!0,y()}))})}var Df=P(5698);function Rd(...n){const e=(0,xs.yG)(n);return(0,xi.e)((t,r)=>{(e?xu(n,t,e):xu(n,t)).subscribe(r)})}function Fy(n,e,t,r,o){return(u,f)=>{let y=t,E=e,T=0;u.subscribe(new ar.Q(f,R=>{const N=T++;E=y?n(E,R,N):(y=!0,R),r&&f.next(E)},o&&(()=>{y&&f.next(E),f.complete()})))}}function zl(n,e){return(0,xi.e)(Fy(n,e,arguments.length>=2,!0))}function $i(n,e){return(0,xi.e)((t,r)=>{let o=0;t.subscribe(new ar.Q(r,u=>n.call(e,u,o++)&&r.next(u)))})}function Fs(n){return(0,xi.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe(new ar.Q(t,void 0,void 0,f=>{u=(0,ro.Xf)(n(f,Fs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var fr=P(5577),Tf=P(576);function Ru(n,e){return(0,Tf.m)(e)?(0,fr.z)(n,e,1):(0,fr.z)(n,1)}function Nu(n){return n<=0?()=>Mu.E:(0,xi.e)((e,t)=>{let r=[];e.subscribe(new ar.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function bg(n=Mi){return(0,xi.e)((e,t)=>{let r=!1;e.subscribe(new ar.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Mi(){return new ql}function Ou(n){return(0,xi.e)((e,t)=>{let r=!1;e.subscribe(new ar.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Rr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((o,u)=>n(o,u,r)):$l.y,(0,Df.q)(1),t?Ou(e):bg(()=>new ql))}var oi=P(8505);class Ls{constructor(e,t){this.id=e,this.url=t}}class Af extends Ls{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ai extends Ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class is extends Ls{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nd extends Ls{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ly extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cg extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wl extends Ls{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sf extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends Ls{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ku{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dg{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jo{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Od{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pd{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Kl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fu(n){return new Kl(n)}const Tg="ngNavigationCancelingError";function xf(n){const e=Error("NavigationCancelingError: "+n);return e[Tg]=!0,e}function m(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const f=r[u],y=n[u];if(f.startsWith(":"))o[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function p(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!v(n[o],e[o]))return!1;return!0}function v(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function D(n){return Array.prototype.concat.apply([],n)}function S(n){return n.length>0?n[n.length-1]:null}function J(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xe(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):Xe(n)}const qe={exact:function qi(n,e,t){if(!ho(n.segments,e.segments)||!Lu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qi(n.children[r],e.children[r],t))return!1;return!0},subset:Yl},et={exact:function pr(n,e){return p(n,e)},subset:function kd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>v(n[t],e[t]))},ignored:()=>!0};function Lt(n,e,t){return qe[t.paths](n.root,e.root,t.matrixParams)&&et[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Yl(n,e,t){return Fd(n,e,e.segments,t)}function Fd(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ho(o,t)||e.hasChildren()||!Lu(o,t,r))}if(n.segments.length===t.length){if(!ho(n.segments,t)||!Lu(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Yl(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(ho(n.segments,o)&&Lu(n.segments,o,r)&&n.children[Ft])&&Fd(n.children[Ft],e,u,r)}}function Lu(n,e,t){return e.every((r,o)=>et[t](n[o].parameters,r.parameters))}class ss{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return Rf.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,J(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ag(this)}}class co{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fu(this.parameters)),this._parameterMap}toString(){return Uy(this)}}function ho(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Ql{}class Ld{parse(e){const t=new iI(e);return new ss(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vd(e.root,!0)}`,r=function v0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Sg(t)}=${Sg(o)}`).join("&"):`${Sg(t)}=${Sg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function _0(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Rf=new Ld;function Ag(n){return n.segments.map(e=>Uy(e)).join("/")}function Vd(n,e){if(!n.hasChildren())return Ag(n);if(e){const t=n.children[Ft]?Vd(n.children[Ft],!1):"",r=[];return J(n.children,(o,u)=>{u!==Ft&&r.push(`${u}:${Vd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Mf(n,e){let t=[];return J(n.children,(r,o)=>{o===Ft&&(t=t.concat(e(r,o)))}),J(n.children,(r,o)=>{o!==Ft&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ft?[Vd(n.children[Ft],!1)]:[`${o}:${Vd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Ag(n)}/${t[0]}`:`${Ag(n)}/(${t.join("//")})`}}function y0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sg(n){return y0(n).replace(/%3B/gi,";")}function Nf(n){return y0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(n){return decodeURIComponent(n)}function Xb(n){return Of(n.replace(/\+/g,"%20"))}function Uy(n){return`${Nf(n.path)}${function eI(n){return Object.keys(n).map(e=>`;${Nf(e)}=${Nf(n[e])}`).join("")}(n.parameters)}`}const tI=/^[^\/()?;=#]+/;function xg(n){const e=n.match(tI);return e?e[0]:""}const fo=/^[^=?&#]+/,w0=/^[^&#]+/;class iI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Vt(e,t)),r}parseSegment(){const e=xg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new co(Of(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=xg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=xg(this.remaining);o&&(r=o,this.capture(r))}e[Of(t)]=Of(r)}parseQueryParam(e){const t=function nI(n){const e=n.match(fo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function rI(n){const e=n.match(w0);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=Xb(t),u=Xb(r);if(e.hasOwnProperty(o)){let f=e[o];Array.isArray(f)||(f=[f],e[o]=f),f.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const f=this.parseChildren();t[u]=1===Object.keys(f).length?f[Ft]:new Vt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class E0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=By(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=By(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Mg(e,this._root).map(t=>t.value)}}function By(n,e){if(n===e.value)return e;for(const t of e.children){const r=By(n,t);if(r)return r}return null}function Mg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Mg(n,t);if(r.length)return r.unshift(e),r}return[]}class Ma{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ud(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class b0 extends E0{constructor(e,t){super(e),this.snapshot=t,$y(this,e)}toString(){return this.snapshot.toString()}}function St(n,e){const t=function I0(n,e){const f=new Zi([],{},{},"",{},Ft,e,null,n.root,-1,{});return new Hy("",new Ma(f,[]))}(n,e),r=new Si([new co("",{})]),o=new Si({}),u=new Si({}),f=new Si({}),y=new Si(""),E=new Jl(r,o,f,y,u,Ft,e,t.root);return E.snapshot=t.root,new b0(new Ma(E,[]),t)}class Jl{constructor(e,t,r,o,u,f,y,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Fu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Fu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Rg(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Zi{constructor(e,t,r,o,u,f,y,E,T,R,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=y,this.routeConfig=E,this._urlSegment=T,this._lastPathIndex=R,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hy extends E0{constructor(e,t){super(t),this.url=e,$y(this,t)}toString(){return Ng(this._root)}}function $y(n,e){e.value._routerState=n,e.children.forEach(t=>$y(n,t))}function Ng(n){const e=n.children.length>0?` { ${n.children.map(Ng).join(", ")} } `:"";return`${n.value}${e}`}function po(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,p(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),p(e.params,t.params)||n.params.next(t.params),function h(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!p(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),p(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Pf(n,e){const t=p(n.params,e.params)&&function Vu(n,e){return ho(n,e)&&n.every((t,r)=>p(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Pf(n.parent,e.parent))}function Xl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function XT(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Xl(n,r,o);return Xl(n,r)})}(n,e,t);return new Ma(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const f=u.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(y=>Xl(n,y)),f}}const r=function D0(n){return new Jl(new Si(n.url),new Si(n.params),new Si(n.queryParams),new Si(n.fragment),new Si(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Xl(n,u));return new Ma(r,o)}}function ec(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uu(n){return"object"==typeof n&&null!=n&&n.outlets}function kf(n,e,t,r,o){let u={};return r&&J(r,(f,y)=>{u[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new ss(t.root===n?e:Og(t.root,n,e),u,o)}function Og(n,e,t){const r={};return J(n.children,(o,u)=>{r[u]=o===e?t:Og(o,e,t)}),new Vt(n.segments,r)}class Pg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ec(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Uu);if(o&&o!==S(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Zy(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Gy(n,e,t);const r=function uI(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const f=n.segments[o],y=t[r];if(Uu(y))break;const E=`${y}`,T=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&T&&"object"==typeof T&&void 0===T.outlets){if(!S0(E,T,f))return u;r+=2}else{if(!S0(E,{},f))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Vt(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new Vt(n.segments.slice(r.pathIndex),n.children),Gy(u,0,o)}return r.match&&0===o.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?T0(n,e,t):r.match?Gy(n,0,o):T0(n,e,t)}function Gy(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function aI(n){return Uu(n[0])?n[0].outlets:{[Ft]:n}}(t),o={};return J(r,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=Zy(n.children[f],e,u))}),J(n.children,(u,f)=>{void 0===r[f]&&(o[f]=u)}),new Vt(n.segments,o)}}function T0(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Uu(u)){const E=A0(u.outlets);return new Vt(r,E)}if(0===o&&ec(t[0])){r.push(new co(n.segments[e].path,zy(t[0]))),o++;continue}const f=Uu(u)?u.outlets[Ft]:`${u}`,y=o<t.length-1?t[o+1]:null;f&&y&&ec(y)?(r.push(new co(f,zy(y))),o+=2):(r.push(new co(f,{})),o++)}return new Vt(r,{})}function A0(n){const e={};return J(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=T0(new Vt([],{}),0,t))}),e}function zy(n){const e={};return J(n,(t,r)=>e[r]=`${t}`),e}function S0(n,e,t){return n==t.path&&p(e,t.parameters)}class nA{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),po(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ud(t);e.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],r),delete o[f]}),J(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ud(e);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:y})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ud(e);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ud(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Od(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Jo(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(po(o),o===u)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const y=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),po(y.route.value),this.activateChildRoutes(e,null,f.children)}else{const y=function rA(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=E,f.outlet&&f.outlet.activateWith(o,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class x0{constructor(e,t){this.routes=e,this.module=t}}function tc(n){return"function"==typeof n}function Bd(n){return n instanceof ss}const Us=Symbol("INITIAL_VALUE");function nc(){return Mr(n=>function Ad(...n){const e=(0,xs.yG)(n),t=(0,xs.jO)(n),{args:r,keys:o}=sf(n);if(0===r.length)return(0,Sn.D)([],e);const u=new an.y(function Py(n,e,t=$l.y){return r=>{Cf(e,()=>{const{length:o}=n,u=new Array(o);let f=o,y=o;for(let E=0;E<o;E++)Cf(e,()=>{const T=(0,Sn.D)(n[E],e);let R=!1;T.subscribe(new ar.Q(r,N=>{u[E]=N,R||(R=!0,y--),y||r.next(t(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,o?f=>Ho(o,f):$l.y));return t?u.pipe(sd(t)):u}(n.map(e=>e.pipe((0,Df.q)(1),Rd(Us)))).pipe(zl((e,t)=>{let r=!1;return t.reduce((o,u,f)=>o!==Us?o:(u===Us&&(r=!0),r||!1!==u&&f!==t.length-1&&!Bd(u)?o:u),e)},Us),$i(e=>e!==Us),(0,yt.U)(e=>Bd(e)?e:!0===e),(0,Df.q)(1)))}class lI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jd,this.attachRef=null}}class jd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new lI,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ff=(()=>{class n{constructor(t,r,o,u,f){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||Ft,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new M0(t,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jd),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class M0{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jl?this.route:e===jd?this.childContexts:this.parent.get(e,t)}}let kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Ff],encapsulation:2}),n})();function R0(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Bu(r,N0(e,r))}}function Bu(n,e){n.children&&R0(n.children,e)}function N0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Ky(n){const e=n.children&&n.children.map(Ky),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=kg),t}function Gi(n){return n.outlet||Ft}function O0(n,e){const t=n.filter(r=>Gi(r)===e);return t.push(...n.filter(r=>Gi(r)!==e)),t}const Yy={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fg(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Yy):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||m)(t,n,e);if(!u)return Object.assign({},Yy);const f={};J(u.posParams,(E,T)=>{f[T]=E.path});const y=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:y,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Lg(n,e,t,r,o="corrected"){if(t.length>0&&function Qy(n,e,t){return t.some(r=>ju(n,e,r)&&Gi(r)!==Ft)}(n,t,r)){const f=new Vt(e,function Hd(n,e,t,r){const o={};o[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Gi(u)!==Ft){const f=new Vt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[Gi(u)]=f}return o}(n,e,r,new Vt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function $d(n,e,t){return t.some(r=>ju(n,e,r))}(n,t,r)){const f=new Vt(n.segments,function Lf(n,e,t,r,o,u){const f={};for(const y of r)if(ju(n,t,y)&&!o[Gi(y)]){const E=new Vt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,f[Gi(y)]=E}return Object.assign(Object.assign({},o),f)}(n,e,t,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const u=new Vt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function ju(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rc(n,e,t,r){return!!(Gi(n)===r||r!==Ft&&ju(e,t,n))&&("**"===n.path||Fg(e,n,t).matched)}function P0(n,e,t){return 0===e.length&&!n.children[t]}class qd{constructor(e){this.segmentGroup=e||null}}class Jy{constructor(e){this.urlTree=e}}function Zd(n){return new an.y(e=>e.error(new qd(n)))}function Vg(n){return new an.y(e=>e.error(new Jy(n)))}function k0(n){return new an.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class F0{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Lg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ft).pipe((0,yt.U)(u=>this.createUrlTree(Bg(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fs(u=>{if(u instanceof Jy)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof qd?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ft).pipe((0,yt.U)(o=>this.createUrlTree(Bg(o),e.queryParams,e.fragment))).pipe(Fs(o=>{throw o instanceof qd?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Vt([],{[Ft]:e}):e;return new ss(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,yt.U)(u=>new Vt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Sn.D)(o).pipe(Ru(u=>{const f=r.children[u],y=O0(t,u);return this.expandSegmentGroup(e,y,f,u).pipe((0,yt.U)(E=>({segment:E,outlet:u})))}),zl((u,f)=>(u[f.outlet]=f.segment,u),{}),function xa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((o,u)=>n(o,u,r)):$l.y,Nu(1),t?Ou(e):bg(()=>new ql))}())}expandSegment(e,t,r,o,u,f){return(0,Sn.D)(r).pipe(Ru(y=>this.expandSegmentAgainstRoute(e,t,r,y,o,u,f).pipe(Fs(T=>{if(T instanceof qd)return Xe(null);throw T}))),Rr(y=>!!y),Fs((y,E)=>{if(y instanceof ql||"EmptyError"===y.name){if(P0(t,o,u))return Xe(new Vt([],{}));throw new qd(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,o,u,f,y){return rc(o,t,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f):Zd(t):Zd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vg(u):this.lineralizeSegments(r,u).pipe((0,fr.z)(f=>{const y=new Vt(f,{});return this.expandSegment(e,y,t,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f){const{matched:y,consumedSegments:E,lastChild:T,positionalParamSegments:R}=Fg(t,o,u);if(!y)return Zd(t);const N=this.applyRedirectCommands(E,o.redirectTo,R);return o.redirectTo.startsWith("/")?Vg(N):this.lineralizeSegments(o,N).pipe((0,fr.z)(Z=>this.expandSegment(e,t,r,Z.concat(u.slice(T)),f,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Xe(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,yt.U)(Z=>(r._loadedConfig=Z,new Vt(o,{})))):Xe(new Vt(o,{}));const{matched:f,consumedSegments:y,lastChild:E}=Fg(t,r,o);if(!f)return Zd(t);const T=o.slice(E);return this.getChildConfig(e,r,o).pipe((0,fr.z)(N=>{const Z=N.module,z=N.routes,{segmentGroup:se,slicedSegments:Ne}=Lg(t,y,T,z),Ze=new Vt(se.segments,se.children);if(0===Ne.length&&Ze.hasChildren())return this.expandChildren(Z,z,Ze).pipe((0,yt.U)(It=>new Vt(y,It)));if(0===z.length&&0===Ne.length)return Xe(new Vt(y,{}));const lt=Gi(r)===u;return this.expandSegment(Z,Ze,z,Ne,lt?Ft:u,!0).pipe((0,yt.U)(xt=>new Vt(y.concat(xt.segments),xt.children)))}))}getChildConfig(e,t,r){return t.children?Xe(new x0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Xe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,fr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,yt.U)(u=>(t._loadedConfig=u,u))):function Ug(n){return new an.y(e=>e.error(xf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Xe(new x0([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Xe(o.map(f=>{const y=e.get(f);let E;if(function sA(n){return n&&tc(n.canLoad)}(y))E=y.canLoad(t,r);else{if(!tc(y))throw new Error("Invalid CanLoad guard");E=y(t,r)}return xe(E)})).pipe(nc(),(0,oi.b)(f=>{if(!Bd(f))return;const y=xf(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,yt.U)(f=>!0===f)):Xe(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Xe(r);if(o.numberOfChildren>1||!o.children[Ft])return k0(e.redirectTo);o=o.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ss(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return J(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const y=o.substring(1);r[u]=t[y]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let f={};return J(t.children,(y,E)=>{f[E]=this.createSegmentGroup(e,y,r,o)}),new Vt(u,f)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Bg(n){const e={};for(const r of Object.keys(n.children)){const u=Bg(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function lA(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}class V0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vf{constructor(e,t){this.component=e,this.route=t}}function dI(n,e,t){const r=n._root;return Uf(r,e?e._root:null,t,[r.value])}function ui(n,e,t){const r=function fI(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Uf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ud(e);return n.children.forEach(f=>{(function cA(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,f=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const E=function dA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ho(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ho(n.url,e.url)||!p(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pf(n,e)||!p(n.queryParams,e.queryParams);default:return!Pf(n,e)}}(f,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new V0(r)):(u.data=f.data,u._resolvedData=f._resolvedData),Uf(n,e,u.component?y?y.children:null:t,r,o),E&&y&&y.outlet&&y.outlet.isActivated&&o.canDeactivateChecks.push(new Vf(y.outlet.component,f))}else f&&Gd(e,y,o),o.canActivateChecks.push(new V0(r)),Uf(n,null,u.component?y?y.children:null:t,r,o)})(f,u[f.value.outlet],t,r.concat([f.value]),o),delete u[f.value.outlet]}),J(u,(f,y)=>Gd(f,t.getContext(y),o)),o}function Gd(n,e,t){const r=Ud(n),o=n.value;J(r,(u,f)=>{Gd(u,o.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new Vf(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class _I{}function e_(n){return new an.y(e=>e.error(n))}class wI{constructor(e,t,r,o,u,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const e=Lg(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ft);if(null===t)return null;const r=new Zi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ma(r,t),u=new Hy(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=jy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const f=t.children[u],y=O0(e,u),E=this.processSegmentGroup(y,f,u);if(null===E)return null;r.push(...E)}const o=go(r);return function j0(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const f=this.processSegmentAgainstRoute(u,t,r,o);if(null!==f)return f}return P0(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!rc(e,t,r,o))return null;let u,f=[],y=[];if("**"===e.path){const z=r.length>0?S(r).parameters:{};u=new Zi(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bI(e),Gi(e),e.component,e,q0(t),Z0(t)+r.length,t_(e))}else{const z=Fg(t,e,r);if(!z.matched)return null;f=z.consumedSegments,y=r.slice(z.lastChild),u=new Zi(f,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,bI(e),Gi(e),e.component,e,q0(t),Z0(t)+f.length,t_(e))}const E=function H0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:R}=Lg(t,f,y,E.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===R.length&&T.hasChildren()){const z=this.processChildren(E,T);return null===z?null:[new Ma(u,z)]}if(0===E.length&&0===R.length)return[new Ma(u,[])];const N=Gi(e)===o,Z=this.processSegment(E,T,R,N?Ft:o);return null===Z?null:[new Ma(u,Z)]}}function EI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function go(n){const e=[],t=new Set;for(const r of n){if(!EI(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=go(r.children);e.push(new Ma(r.value,o))}return e.filter(r=>!t.has(r))}function q0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Z0(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function bI(n){return n.data||{}}function t_(n){return n.resolve||{}}function r_(n){return Mr(e=>{const t=n(e);return t?(0,Sn.D)(t).pipe((0,yt.U)(()=>e)):Xe(e)})}class AI extends class i_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Bf=new c.OlP("ROUTES");class Hg{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,yt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=u.create(e);return new x0(D(f.injector.get(Bf,void 0,c.XFs.Self|c.XFs.Optional)).map(Ky),f)}),Fs(u=>{throw t._loader$=void 0,u}));return t._loader$=new Gl(o,()=>new si.x).pipe(Zl()),t._loader$}loadModuleFactory(e){return xe(e()).pipe((0,fr.z)(t=>t instanceof c.YKP?Xe(t):(0,Sn.D)(this.compiler.compileModuleAsync(t))))}}class SI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xI(n){throw n}function s_(n,e,t){return e.parse("/")}function MI(n,e){return Xe(null)}const RI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{class n{constructor(t,r,o,u,f,y,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new si.x,this.errorHandler=xI,this.malformedUriErrorHandler=s_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:MI,afterPreactivation:MI},this.urlHandlingStrategy=new SI,this.routeReuseStrategy=new AI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(c.h0i),this.console=f.get(c.c2e);const N=f.get(c.R0b);this.isNgZoneEnabled=N instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Se(){return new ss(new Vt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hg(f,y,Z=>this.triggerEvent(new Pu(Z)),Z=>this.triggerEvent(new ku(Z))),this.routerState=St(this.currentUrlTree,this.rootComponentType),this.transitions=new Si({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe($i(o=>0!==o.id),(0,yt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Mr(o=>{let u=!1,f=!1;return Xe(o).pipe((0,oi.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mr(y=>{const E=this.browserUrlTree.toString(),T=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return jf(y.source)&&(this.browserUrlTree=y.extractedUrl),Xe(y).pipe(Mr(N=>{const Z=this.transitions.getValue();return r.next(new Af(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),Z!==this.transitions.getValue()?Mu.E:Promise.resolve(N)}),function L0(n,e,t,r){return Mr(o=>function cI(n,e,t,r,o){return new F0(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,yt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,oi.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function II(n,e,t,r,o){return(0,fr.z)(u=>function vI(n,e,t,r,o="emptyOnly",u="legacy"){try{const f=new wI(n,e,t,r,o,u).recognize();return null===f?e_(new _I):Xe(f)}catch(f){return e_(f)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,yt.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,oi.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(z,N)}this.browserUrlTree=N.urlAfterRedirects}const Z=new Ly(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(Z)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:z,source:se,restoredState:Ne,extras:Ze}=y,lt=new Af(Z,this.serializeUrl(z),se,Ne);r.next(lt);const Bt=St(z,this.rootComponentType).snapshot;return Xe(Object.assign(Object.assign({},y),{targetSnapshot:Bt,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),Mu.E}),r_(y=>{const{targetSnapshot:E,id:T,extractedUrl:R,rawUrl:N,extras:{skipLocationChange:Z,replaceUrl:z}}=y;return this.hooks.beforePreactivation(E,{navigationId:T,appliedUrlTree:R,rawUrlTree:N,skipLocationChange:!!Z,replaceUrl:!!z})}),(0,oi.b)(y=>{const E=new Cg(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,yt.U)(y=>Object.assign(Object.assign({},y),{guards:dI(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function hA(n,e){return(0,fr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=t;return 0===f.length&&0===u.length?Xe(Object.assign(Object.assign({},t),{guardsResult:!0})):function pI(n,e,t,r){return(0,Sn.D)(n).pipe((0,fr.z)(o=>function B0(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Xe(u.map(y=>{const E=ui(y,e,o);let T;if(function uA(n){return n&&tc(n.canDeactivate)}(E))T=xe(E.canDeactivate(n,e,t,r));else{if(!tc(E))throw new Error("Invalid CanDeactivate guard");T=xe(E(n,e,t,r))}return T.pipe(Rr())})).pipe(nc()):Xe(!0)}(o.component,o.route,t,e,r)),Rr(o=>!0!==o,!0))}(f,r,o,n).pipe((0,fr.z)(y=>y&&function iA(n){return"boolean"==typeof n}(y)?function Xy(n,e,t,r){return(0,Sn.D)(e).pipe(Ru(o=>xu(function gI(n,e){return null!==n&&e&&e(new Dg(n)),Xe(!0)}(o.route.parent,r),function U0(n,e){return null!==n&&e&&e(new Vs(n)),Xe(!0)}(o.route,r),function yI(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(f=>function hI(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Eg(()=>Xe(f.guards.map(E=>{const T=ui(E,f.node,t);let R;if(function aA(n){return n&&tc(n.canActivateChild)}(T))R=xe(T.canActivateChild(r,n));else{if(!tc(T))throw new Error("Invalid CanActivateChild guard");R=xe(T(r,n))}return R.pipe(Rr())})).pipe(nc())));return Xe(u).pipe(nc())}(n,o.path,t),function mI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const o=r.map(u=>Eg(()=>{const f=ui(u,e,t);let y;if(function oA(n){return n&&tc(n.canActivate)}(f))y=xe(f.canActivate(e,n));else{if(!tc(f))throw new Error("Invalid CanActivate guard");y=xe(f(e,n))}return y.pipe(Rr())}));return Xe(o).pipe(nc())}(n,o.route,t))),Rr(o=>!0!==o,!0))}(r,u,n,e):Xe(y)),(0,yt.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,oi.b)(y=>{if(Bd(y.guardsResult)){const T=xf(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw T.url=y.guardsResult,T}const E=new Wl(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),$i(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),r_(y=>{if(y.guards.canActivateChecks.length)return Xe(y).pipe((0,oi.b)(E=>{const T=new Sf(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}),Mr(E=>{let T=!1;return Xe(E).pipe(function CI(n,e){return(0,fr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Xe(t);let u=0;return(0,Sn.D)(o).pipe(Ru(f=>function DI(n,e,t,r){return function n_(n,e,t,r){const o=Object.keys(n);if(0===o.length)return Xe({});const u={};return(0,Sn.D)(o).pipe((0,fr.z)(f=>function TI(n,e,t,r){const o=ui(n,e,r);return xe(o.resolve?o.resolve(e,t):o(e,t))}(n[f],e,t,r).pipe((0,oi.b)(y=>{u[f]=y}))),Nu(1),(0,fr.z)(()=>Object.keys(u).length===o.length?Xe(u):Mu.E))}(n._resolve,n,e,r).pipe((0,yt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),jy(n,t).resolve),null)))}(f.route,r,n,e)),(0,oi.b)(()=>u++),Nu(1),(0,fr.z)(f=>u===o.length?Xe(t):Mu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,oi.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,oi.b)(E=>{const T=new $r(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(T)}))}),r_(y=>{const{targetSnapshot:E,id:T,extractedUrl:R,rawUrl:N,extras:{skipLocationChange:Z,replaceUrl:z}}=y;return this.hooks.afterPreactivation(E,{navigationId:T,appliedUrlTree:R,rawUrlTree:N,skipLocationChange:!!Z,replaceUrl:!!z})}),(0,yt.U)(y=>{const E=function C0(n,e,t){const r=Xl(n,e._root,t?t._root:void 0);return new b0(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,oi.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(r=>(new nA(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,oi.b)({next(){u=!0},complete(){u=!0}}),function Ig(n){return(0,xi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var y;u||f||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===o.id&&(this.currentNavigation=null)}),Fs(y=>{if(f=!0,function Vy(n){return n&&n[Tg]}(y)){const E=Bd(y.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const T=new is(o.id,this.serializeUrl(o.extractedUrl),y.message);r.next(T),E?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jf(o.source)};this.scheduleNavigation(R,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Nd(o.id,this.serializeUrl(o.extractedUrl),y);r.next(E);try{o.resolve(this.errorHandler(y))}catch(T){o.reject(T)}}return Mu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},f=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const y=this.parseUrl(t.url);this.scheduleNavigation(y,r,f,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){R0(t),this.config=t.map(Ky),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:y,preserveFragment:E}=r,T=o||this.routerState.root,R=E?this.currentUrlTree.fragment:f;let N=null;switch(y){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),function eA(n,e,t,r,o){if(0===t.length)return kf(e.root,e.root,e,r,o);const u=function tA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pg(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return J(u.outlets,(E,T)=>{y[T]="string"==typeof E?E.split("/"):E}),[...o,{outlets:y}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?t=!0:".."===y?e++:""!=y&&o.push(y))}),o):[...o,u]},[]);return new Pg(t,e,r)}(t);if(u.toRoot())return kf(e.root,new Vt([],{}),e,r,o);const f=function sI(n,e,t){if(n.isAbsolute)return new qy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new qy(u,u===e.root,0)}const r=ec(n.commands[0])?0:1;return function oI(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new qy(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),y=f.processChildren?Gy(f.segmentGroup,f.index,u.commands):Zy(f.segmentGroup,f.index,u.commands);return kf(f.segmentGroup,y,e,r,o)}(T,this.currentUrlTree,t,N,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Bd(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function W0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},RI):!1===r?Object.assign({},z0):r,Bd(t))return Lt(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Lt(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ai(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,f){var y,E,T;if(this.disposed)return Promise.resolve(!1);const R=this.transitions.value,N=jf(r)&&R&&!jf(R.source),Z=R.rawUrl.toString()===t.toString(),z=R.id===(null===(y=this.currentNavigation)||void 0===y?void 0:y.id);if(N&&Z&&z)return Promise.resolve(!0);let Ne,Ze,lt;f?(Ne=f.resolve,Ze=f.reject,lt=f.promise):lt=new Promise((It,$t)=>{Ne=It,Ze=$t});const Bt=++this.navigationId;let xt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),xt=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):xt=0,this.setTransition({id:Bt,targetPageId:xt,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:Ne,reject:Ze,promise:lt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),lt.catch(It=>Promise.reject(It))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new is(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function jf(n){return"imperative"!==n}let Hf=(()=>{class n{constructor(t,r,o,u,f){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=f,this.commands=null,this.onChanges=new si.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ra(this.skipLocationChange),replaceUrl:Ra(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ra(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ri),c.Y36(Jl),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),os=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new si.x,this.subscription=t.events.subscribe(u=>{u instanceof ai&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,f){if(0!==t||r||o||u||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:Ra(this.skipLocationChange),replaceUrl:Ra(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ra(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ri),c.Y36(Jl),c.Y36(oe))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Ra(n){return""===n||!!n}let K0=(()=>{class n{constructor(t,r,o,u,f,y){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=f,this.linkWithHref=y,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(E=>{E instanceof ai&&this.update()})}ngAfterContentInit(){Xe(this.links.changes,this.linksWithHrefs.changes,Xe(null)).pipe((0,xd.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,Sn.D)(r).pipe((0,xd.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function NI(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ri),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Hf,8),c.Y36(os,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(c.Suo(o,Hf,5),c.Suo(o,os,5)),2&t){let u;c.iGM(u=c.CRH())&&(r.links=u),c.iGM(u=c.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class OI{}class a_{preload(e,t){return Xe(null)}}let $g=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Hg(o,r,E=>t.triggerEvent(new Pu(E)),E=>t.triggerEvent(new ku(E)))}setUpPreloading(){this.subscription=this.router.events.pipe($i(t=>t instanceof ai),Ru(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Sn.D)(o).pipe((0,xd.J)(),(0,yt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Xe(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,fr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ri),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(OI))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ic=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Af?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ai&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Pd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Na=new c.OlP("ROUTER_CONFIGURATION"),u_=new c.OlP("ROUTER_FORROOT_GUARD"),Y0=[Ye,{provide:Ql,useClass:Ld},{provide:Ri,useFactory:function zd(n,e,t,r,o,u,f={},y,E){const T=new Ri(null,n,e,t,r,o,D(u));return y&&(T.urlHandlingStrategy=y),E&&(T.routeReuseStrategy=E),function X0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,T),f.enableTracing&&T.events.subscribe(R=>{var N,Z;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(Z=console.groupEnd)||void 0===Z||Z.call(console)}),T},deps:[Ql,jd,Ye,c.zs3,c.Sil,Bf,Na,[class G0{},new c.FiY],[class jg{},new c.FiY]]},jd,{provide:Jl,useFactory:function FI(n){return n.routerState.root},deps:[Ri]},$g,a_,class o_{preload(e,t){return t().pipe(Fs(()=>Xe(null)))}},{provide:Na,useValue:{enableTracing:!1}}];function Q0(){return new c.PXZ("Router",Ri)}let J0=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Y0,c_(t),{provide:u_,useFactory:kI,deps:[[Ri,new c.FiY,new c.tp0]]},{provide:Na,useValue:r||{}},{provide:oe,useFactory:PI,deps:[K,[new c.tBr(ke),new c.FiY],Na]},{provide:ic,useFactory:l_,deps:[Ri,yl,Na]},{provide:OI,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:a_},{provide:c.PXZ,multi:!0,useFactory:Q0},[d_,{provide:c.ip1,multi:!0,useFactory:Wd,deps:[d_]},{provide:ew,useFactory:LI,deps:[d_]},{provide:c.tb,multi:!0,useExisting:ew}]]}}static forChild(t){return{ngModule:n,providers:[c_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(u_,8),c.LFG(Ri,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function l_(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ic(n,e,t)}function PI(n,e,t={}){return t.useHash?new Fe(n,e):new Ve(n,e)}function kI(n){return"guarded"}function c_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Bf,multi:!0,useValue:n}]}let d_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new si.x}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(y=>r=y),u=this.injector.get(Ri),f=this.injector.get(Na);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Xe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Na),o=this.injector.get($g),u=this.injector.get(ic),f=this.injector.get(Ri),y=this.injector.get(c.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Wd(n){return n.appInitializer.bind(n)}function LI(n){return n.bootstrapListener.bind(n)}const ew=new c.OlP("Router Initializer"),Bs=function(){return["/studies"]},h_=function(){return["/projects"]};let tw=(()=>{class n{constructor(){}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:17,vars:4,consts:[[1,"wrapAbout"],[1,"contentAbout"],[1,"image"],["src","assets/Images/undraw/undraw_developer_activity_re_39tg.svg","alt","undraw developer activity re 39tg"],[1,"textAbout"],["src","assets/Images/Icons/location-pin.png","alt",""],[1,"buttons"],[3,"routerLink"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"img",3),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"h2"),c._uU(6,"OMAR MITMA"),c.qZA(),c.TgZ(7,"span"),c._UZ(8,"img",5),c._uU(9,"Peruano"),c.qZA(),c.TgZ(10,"p"),c._uU(11,"Persona responsable, con iniciativa, con compromiso, con adaptabilidad al cambio, con facilidad para trabajar en equipo, disposici\xf3n para el aprendizaje y el conocimiento del d\xeda a d\xeda. Capacidad para formular y proponer soluciones inform\xe1ticas para el uso y manejo de la informaci\xf3n, habilidad para obtener y analizar informaci\xf3n. "),c.qZA(),c.TgZ(12,"div",6),c.TgZ(13,"button",7),c._uU(14,"ESTUDIOS"),c.qZA(),c.TgZ(15,"button",7),c._uU(16,"PROYECTOS"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Q6J("routerLink",c.DdM(2,Bs)),c.xp6(2),c.Q6J("routerLink",c.DdM(3,h_)))},directives:[Hf],styles:[""]}),n})();var nw=P(4986),Nr=P(5813);function qg(){return(0,xi.e)((n,e)=>{let t,r=!1;n.subscribe(new ar.Q(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function BI(n,e){return n===e}var tt,mo=P(2011),rw=(P(1390),P(3942)),ye=P(5861),Hu=P(9681),Zg=P(4859),$u=P(1877),Zt=P(2090),mA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yo={},Gg=Gg||{},Dt=mA||self;function f_(){}function as(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wg="closure_uid_"+(1e9*Math.random()>>>0),iw=0;function sw(n,e,t){return n.call.apply(n.bind,arguments)}function jI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function li(n,e,t){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sw:jI).apply(null,arguments)}function $f(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Cr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var f=Array(arguments.length-2),y=2;y<arguments.length;y++)f[y-2]=arguments[y];return e.prototype[o].apply(r,f)}}function qu(){this.s=this.s,this.o=this.o}var HI={};qu.prototype.s=!1,qu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function yA(n){return Object.prototype.hasOwnProperty.call(n,Wg)&&n[Wg]||(n[Wg]=++iw)}(this);delete HI[n]}},qu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ow=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},aw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function uw(n){return Array.prototype.concat.apply([],arguments)}function g_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function sc(n){return/^[\s\xa0]*$/.test(n)}var Oi,oc=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ni(n,e){return-1!=n.indexOf(e)}function ac(n,e){return n<e?-1:n>e?1:0}e:{var lw=Dt.navigator;if(lw){var Kg=lw.userAgent;if(Kg){Oi=Kg;break e}}Oi=""}function js(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Kd(n){const e={};for(const t in n)e[t]=n[t];return e}var qr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zu(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<qr.length;u++)t=qr[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yd(n){return Yd[" "](n),n}Yd[" "]=f_;var Oa,n,m_=Ni(Oi,"Opera"),_o=Ni(Oi,"Trident")||Ni(Oi,"MSIE"),uc=Ni(Oi,"Edge"),Gu=uc||_o,lc=Ni(Oi,"Gecko")&&!(Ni(Oi.toLowerCase(),"webkit")&&!Ni(Oi,"Edge"))&&!(Ni(Oi,"Trident")||Ni(Oi,"MSIE"))&&!Ni(Oi,"Edge"),Qd=Ni(Oi.toLowerCase(),"webkit")&&!Ni(Oi,"Edge");function cc(){var n=Dt.document;return n?n.documentMode:void 0}e:{var zu="",Wu=(n=Oi,lc?/rv:([^\);]+)(\)|;)/.exec(n):uc?/Edge\/([\d\.]+)/.exec(n):_o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qd?/WebKit\/(\S+)/.exec(n):m_?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Wu&&(zu=Wu?Wu[1]:""),_o){var Yg=cc();if(null!=Yg&&Yg>parseFloat(zu)){Oa=String(Yg);break e}}Oa=zu}var cw={};var hw=Dt.document&&_o&&(cc()||parseInt(Oa,10))||void 0,fw=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",f_,e),Dt.removeEventListener("test",f_,e)}catch(t){}return n}();function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Jd(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lc){e:{try{Yd(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jd.Z.h.call(this)}}Zr.prototype.h=function(){this.defaultPrevented=!0},Cr(Jd,Zr);var qI={2:"touch",3:"pen",4:"mouse"};Jd.prototype.h=function(){Jd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),ZI=0;function GI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++ZI,this.ca=this.fa=!1}function qf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Jg(n){this.src=n,this.g={},this.h=0}function __(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=ow(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(qf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xg(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Jg.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var f=Xg(n,e,r,o);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new GI(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var v_="closure_lm_"+(1e6*Math.random()|0),em={};function pw(n,e,t,r,o){if(r&&r.once)return mw(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)pw(n,e[u],t,r,o);return null}return t=w_(t),n&&n[Xd]?n.N(e,t,zg(r)?!!r.capture:!!r,o):gw(n,e,t,!1,r,o)}function gw(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var f=zg(o)?!!o.capture:!!o,y=_w(n);if(y||(n[v_]=y=new Jg(n)),(t=y.add(e,t,r,f,u)).proxy)return t;if(r=function _A(){var e=vA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)fw||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(yw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function mw(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)mw(n,e[u],t,r,o);return null}return t=w_(t),n&&n[Xd]?n.O(e,t,zg(r)?!!r.capture:!!r,o):gw(n,e,t,!0,r,o)}function tm(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)tm(n,e[u],t,r,o);else r=zg(r)?!!r.capture:!!r,t=w_(t),n&&n[Xd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xg(u=n.g[e],t,r,o))&&(qf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=_w(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xg(e,t,r,o)),(t=-1<n?e[n]:null)&&Zf(t))}function Zf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xd])__(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(yw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_w(e))?(__(t,n),0==t.h&&(t.src=null,e[v_]=null)):qf(n)}}}function yw(n){return n in em?em[n]:em[n]="on"+n}function vA(n,e){if(n.ca)n=!0;else{e=new Jd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Zf(n),n=t.call(r,e)}return n}function _w(n){return(n=n[v_])instanceof Jg?n:null}var vw="__closure_events_fn_"+(1e9*Math.random()>>>0);function w_(n){return"function"==typeof n?n:(n[vw]||(n[vw]=function(e){return n.handleEvent(e)}),n[vw])}function Dr(){qu.call(this),this.i=new Jg(this),this.P=this,this.I=null}function ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var o=e;Zu(e=new Zr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var f=e.g=t[u];o=nm(f,r,!0,e)&&o}if(o=nm(f=e.g=n,r,!0,e)&&o,o=nm(f,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=nm(f=e.g=t[u],r,!1,e)&&o}function nm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.ca&&f.capture==t){var y=f.listener,E=f.ia||f.src;f.fa&&__(n.i,f),o=!1!==y.call(E,r)&&o}}return o&&!r.defaultPrevented}Cr(Dr,qu),Dr.prototype[Xd]=!0,Dr.prototype.removeEventListener=function(n,e,t,r){tm(this,n,e,t,r)},Dr.prototype.M=function(){if(Dr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)qf(t[r]);delete n.g[e],n.h--}}this.I=null},Dr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ku=Dt.JSON.stringify;function zI(){var n=Iw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var im,Ew=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bw,n=>n.reset());class bw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rm(n){Dt.setTimeout(()=>{throw n},0)}function E_(n,e){im||function WI(){var n=Dt.Promise.resolve(void 0);im=function(){n.then(KI)}}(),b_||(im(),b_=!0),Iw.add(n,e)}var b_=!1,Iw=new class ww{constructor(){this.h=this.g=null}add(e,t){const r=Ew.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KI(){for(var n;n=zI();){try{n.h.call(n.g)}catch(t){rm(t)}var e=Ew;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}b_=!1}function sm(n,e){Dr.call(this),this.h=n||1,this.g=e||Dt,this.j=li(this.kb,this),this.l=Date.now()}function om(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function I_(n,e,t){if("function"==typeof n)t&&(n=li(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=li(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function C_(n){n.g=I_(()=>{n.g=null,n.i&&(n.i=!1,C_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cr(sm,Dr),(tt=sm.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ci(this,"tick"),this.da&&(om(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){sm.Z.M.call(this),om(this),delete this.g};class Cw extends qu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:C_(this)}M(){super.M(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dc(n){qu.call(this),this.h=n,this.g={}}Cr(dc,qu);var YI=[];function am(n,e,t,r){Array.isArray(t)||(t&&(YI[0]=t.toString()),t=YI);for(var o=0;o<t.length;o++){var u=pw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Dw(n){js(n.g,function(e,t){this.g.hasOwnProperty(t)&&Zf(e)},n),n.g={}}function D_(){this.g=!0}function Yu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function QI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return Ku(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}dc.prototype.M=function(){dc.Z.M.call(this),Dw(this)},dc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},D_.prototype.Aa=function(){this.g=!1},D_.prototype.info=function(){};var Pa={},um=null;function zf(){return um=um||new Dr}function JI(n){Zr.call(this,Pa.Ma,n)}function Wf(n){const e=zf();ci(e,new JI(e,n))}function A_(n,e){Zr.call(this,Pa.STAT_EVENT,n),this.stat=e}function di(n){const e=zf();ci(e,new A_(e,n))}function Aw(n,e){Zr.call(this,Pa.Na,n),this.size=e}function Kf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}Pa.Ma="serverreachability",Cr(JI,Zr),Pa.STAT_EVENT="statevent",Cr(A_,Zr),Pa.Na="timingevent",Cr(Aw,Zr);var eh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},S_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lm(){}function x_(){}lm.prototype.h=null;var Qf,Yf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dm(){Zr.call(this,"d")}function hm(){Zr.call(this,"c")}function Jf(){}function Xf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new dc(this),this.P=XI,this.W=new sm(n=Gu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Sw}function Sw(){this.i=null,this.g="",this.h=!1}Cr(dm,Zr),Cr(hm,Zr),Cr(Jf,lm),Jf.prototype.g=function(){return new XMLHttpRequest},Jf.prototype.i=function(){return{}},Qf=new Jf;var XI=45e3,ep={},th={};function fm(n,e,t){n.K=1,n.v=ym(Xo(e)),n.s=t,n.U=!0,M_(n,null)}function M_(n,e){n.F=Date.now(),nh(n),n.A=Xo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Vw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Sw,n.g=W_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Cw(li(n.Ia,n,n.g),n.O)),am(n.V,n.g,"readystatechange",n.gb),e=n.H?Kd(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wf(1),function Gf(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var f="",y=u.split("&"),E=0;E<y.length;E++){var T=y[E].split("=");if(1<T.length){var R=T[0];T=T[1];var N=R.split("_");f=2<=N.length&&"type"==N[1]?f+(R+"=")+T+"&":f+(R+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function R_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function N_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=xw(n,t),o==th){4==e&&(n.o=4,di(14),r=!1),Yu(n.j,n.m,null,"[Incomplete Response]");break}if(o==ep){n.o=4,di(15),Yu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yu(n.j,n.m,o,null),P_(n,o)}R_(n)&&o!=th&&o!=ep&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Va(e),e.L=!0,di(11))):(Yu(n.j,n.m,t,"[Invalid Chunked Response]"),hc(n),pm(n))}function xw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?th:(t=Number(e.substring(t,r)),isNaN(t)?ep:(r+=1)+t>e.length?th:(e=e.substr(r,t),n.C=r+t,e))}function nh(n){n.Y=Date.now()+n.P,O_(n,n.P)}function O_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kf(li(n.eb,n),e)}function tp(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function pm(n){0==n.l.G||n.I||mc(n.l,n)}function hc(n){tp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,om(n.W),Dw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function P_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_m(t.i,n)))if(t.I=n.N,!n.J&&_m(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Kf(li(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Dm(t),ap(t)}Cm(t),di(18)}if(1>=L_(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else Ua(t,11)}else if((n.J||t.g==n)&&Dm(t),!sc(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let T=o[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const R=T[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const N=T[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const Z=T[5];null!=Z&&"number"==typeof Z&&0<Z&&(t.K=r=1.5*Z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const se=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var u=r.i;!u.g&&(Ni(se,"spdy")||Ni(se,"quic")||Ni(se,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(oh(u,u.h),u.h=null))}if(r.D){const Ne=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;Ne&&(r.sa=Ne,kn(r.F,r.D,Ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=z_(r,r.H?r.la:null,r.W),f.J){Hw(r.i,f);var y=f,E=r.K;E&&y.setTimeout(E),y.B&&(tp(y),nh(y)),r.g=f}else G_(r);0<t.l.length&&up(t)}else"stop"!=T[0]&&"close"!=T[0]||Ua(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Ua(t,7):bm(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Wf(4)}catch(T){}}function k_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(as(n)||"string"==typeof n)aw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(as(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Mw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(as(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Vn(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Vn)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function gm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];fc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)fc(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function fc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(tt=Xf.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const e=this.L;e&&3==La(n)?e.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const R=La(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>R)&&(3!=R||Gu||this.g&&(this.h.h||this.g.ga()||Kw(this.g)))){this.I||4!=R||7==e||Wf(8==e||0>=N?3:2),tp(this);var t=this.g.ba();this.N=t;t:if(R_(this)){var r=Kw(this.g);n="";var o=r.length,u=4==La(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hc(this),pm(this);var f="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function Tw(n,e,t,r,o,u,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sc(y)){var T=y;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,di(12),hc(this),pm(this);break e}Yu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,P_(this,t)}this.U?(N_(this,R,f),Gu&&this.i&&3==R&&(am(this.V,this.W,"tick",this.fb),this.W.start())):(Yu(this.j,this.m,f,null),P_(this,f)),4==R&&hc(this),this.i&&!this.I&&(4==R?mc(this.l,this):(this.i=!1,nh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,di(12)):(this.o=0,di(13)),hc(this),pm(this)}}}catch(R){}},tt.fb=function(){if(this.g){var n=La(this.g),e=this.g.ga();this.C<e.length&&(tp(this),N_(this,n,e),this.i&&4!=n&&nh(this))}},tt.cancel=function(){this.I=!0,hc(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function T_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wf(3),di(17)),hc(this),this.o=2,pm(this)):O_(this,this.Y-n)},(tt=Vn.prototype).R=function(){gm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},tt.T=function(){return gm(this),this.g.concat()},tt.get=function(n,e){return fc(this.h,n)?this.h[n]:e},tt.set=function(n,e){fc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},tt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var Rw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof pc){this.g=void 0!==e?e:n.g,np(this,n.j),this.s=n.s,ka(this,n.i),mm(this,n.m),this.l=n.l,e=n.h;var t=new ih;t.i=e.i,e.g&&(t.g=new Vn(e.g),t.h=e.h),Ow(this,t),this.o=n.o}else n&&(t=String(n).match(Rw))?(this.g=!!e,np(this,t[1]||"",!0),this.s=rh(t[2]||""),ka(this,t[3]||"",!0),mm(this,t[4]),this.l=rh(t[5]||"",!0),Ow(this,t[6]||"",!0),this.o=rh(t[7]||"")):(this.g=!!e,this.h=new ih(null,this.g))}function Xo(n){return new pc(n)}function np(n,e,t){n.j=t?rh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ka(n,e,t){n.i=t?rh(e,!0):e}function mm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ow(n,e,t){e instanceof ih?(n.h=e,function F_(n,e){e&&!n.j&&(Fa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Fw(this,r),Vw(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=gc(e,vo)),n.h=new ih(e,n.g))}function kn(n,e,t){n.h.set(e,t)}function ym(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function gc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ea),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ea(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}pc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(gc(e,kw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(gc(e,kw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(gc(t,"/"==t.charAt(0)?ta:eC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",gc(t,wo)),n.join("")};var kw=/[#\/\?@]/g,eC=/[#\?:]/g,ta=/[#\?]/g,vo=/[#\?@]/g,wo=/#/g;function ih(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Fa(n){n.g||(n.g=new Vn,n.h=0,n.i&&function Nw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Fw(n,e){Fa(n),e=sh(n,e),fc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,fc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&gm(n)))}function Lw(n,e){return Fa(n),e=sh(n,e),fc(n.g.h,e)}function Vw(n,e,t){Fw(n,e),0<t.length&&(n.i=null,n.g.set(sh(n,e),g_(t)),n.h+=t.length)}function sh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Uw(n){this.l=n||Bw,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ea&&Dt.g.Ea()&&Dt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=ih.prototype).add=function(n,e){Fa(this),this.i=null,n=sh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){Fa(this),this.g.forEach(function(t,r){aw(t,function(o){n.call(e,o,r,this)},this)},this)},tt.T=function(){Fa(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},tt.R=function(n){Fa(this);var e=[];if("string"==typeof n)Lw(this,n)&&(e=uw(e,this.g.get(sh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=uw(e,n[t])}return e},tt.set=function(n,e){return Fa(this),this.i=null,Lw(this,n=sh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var f=o;""!==r[u]&&(f+="="+encodeURIComponent(String(r[u]))),n.push(f)}}return this.i=n.join("&")};var Bw=10;function jw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function L_(n){return n.h?1:n.g?n.g.size:0}function _m(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function oh(n,e){n.g?n.g.add(e):n.h=e}function Hw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function V_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return g_(n.i)}function vm(){}function U_(){this.g=new vm}function B_(n,e,t){const r=t||"";try{k_(n,function(o,u){let f=o;zg(o)&&(f=Ku(o)),e.push(r+u+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function ip(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function ah(n){this.l=n.$b||null,this.j=n.ib||!1}function sp(n,e){Dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uw.prototype.cancel=function(){if(this.i=V_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vm.prototype.stringify=function(n){return Dt.JSON.stringify(n,void 0)},vm.prototype.parse=function(n){return Dt.JSON.parse(n,void 0)},Cr(ah,lm),ah.prototype.g=function(){return new sp(this.l,this.j)},ah.prototype.i=function(n){return function(){return n}}({}),Cr(sp,Dr);var wm=0;function j_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function uh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lh(n)}function lh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=sp.prototype).open=function(n,e){if(this.readyState!=wm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lh(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uh(this)),this.readyState=wm},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lh(this)),this.g&&(this.readyState=3,lh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?uh(this):lh(this),3==this.readyState&&j_(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,uh(this))},tt.Ta=function(n){this.g&&(this.response=n,uh(this))},tt.ha=function(){this.g&&uh(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var tC=Dt.JSON.parse;function gr(n){Dr.call(this),this.headers=new Vn,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qw,this.K=this.L=!1}Cr(gr,Dr);var qw="",nC=/^https?$/i,rC=["POST","PUT"];function sC(n){return"content-type"==n.toLowerCase()}function Zw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Gw(n),Em(n)}function Gw(n){n.D||(n.D=!0,ci(n,"complete"),ci(n,"error"))}function zw(n){if(n.h&&void 0!==Gg&&(!n.C[1]||4!=La(n)||2!=n.ba()))if(n.v&&4==La(n))I_(n.Fa,0,n);else if(ci(n,"readystatechange"),4==La(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var o=String(n.H).match(Rw)[1]||null;if(!o&&Dt.self&&Dt.self.location){var u=Dt.self.location.protocol;o=u.substr(0,u.length-1)}r=!nC.test(o?o.toLowerCase():"")}t=r}if(t)ci(n,"complete"),ci(n,"success");else{n.m=6;try{var f=2<La(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",Gw(n)}}finally{Em(n)}}}function Em(n,e){if(n.g){Ww(n);const t=n.g,r=n.C[0]?f_:null;n.g=null,n.C=null,e||ci(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Ww(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function La(n){return n.g?n.g.readyState:0}function Kw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function H_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function oC(n){let e="";return js(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function op(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Yw(n){this.za=0,this.l=[],this.h=new D_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=op("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=op("baseRetryDelayMs",5e3,n),this.$a=op("retryDelaySeedMs",1e4,n),this.Ya=op("forwardChannelMaxRetries",2,n),this.ra=op("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Uw(n&&n.concurrentRequestLimit),this.Ca=new U_,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function bm(n){if($_(n),3==n.G){var e=n.V++,t=Xo(n.F);kn(t,"SID",n.J),kn(t,"RID",e),kn(t,"TYPE","terminate"),ch(n,t),(e=new Xf(n,n.h,e,void 0)).K=2,e.v=ym(Xo(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(t=Dt.navigator.sendBeacon(e.v.toString(),"")),!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=W_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),nh(e)}uC(n)}function ap(n){n.g&&(Va(n),n.g.cancel(),n.g=null)}function $_(n){ap(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),Dm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function Im(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&up(n)}function up(n){jw(n.i)||n.m||(n.m=!0,E_(n.Ha,n),n.C=0)}function q_(n,e){var t;t=e?e.m:n.V++;const r=Xo(n.F);kn(r,"SID",n.J),kn(r,"RID",t),kn(r,"AID",n.U),ch(n,r),n.o&&n.s&&H_(r,n.o,n.s),t=new Xf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Z_(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),oh(n.i,t),fm(t,r,e)}function ch(n,e){n.j&&k_({},function(t,r){kn(e,r,t)})}function Z_(n,e,t){t=Math.min(n.l.length,t);var r=n.j?li(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const f=["count="+t];-1==u?0<t?(u=o[0].h,f.push("ofs="+u)):u=0:f.push("ofs="+u);let y=!0;for(let E=0;E<t;E++){let T=o[E].h;const R=o[E].g;if(T-=u,0>T)u=Math.max(0,o[E].h-100),y=!1;else try{B_(R,f,"req"+T+"_")}catch(N){r&&r(R)}}if(y){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function G_(n){n.g||n.u||(n.Y=1,E_(n.Ga,n),n.A=0)}function Cm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Kf(li(n.Ga,n),aC(n,n.A)),n.A++,0))}function Va(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Jw(n){n.g=new Xf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xo(n.oa);kn(e,"RID","rpc"),kn(e,"SID",n.J),kn(e,"CI",n.N?"0":"1"),kn(e,"AID",n.U),ch(n,e),kn(e,"TYPE","xmlhttp"),n.o&&n.s&&H_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ym(Xo(e)),t.s=null,t.U=!0,M_(t,n)}function Dm(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function mc(n,e){var t=null;if(n.g==e){Dm(n),Va(n),n.g=null;var r=2}else{if(!_m(n.i,e))return;t=e.D,Hw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ci(r=zf(),new Aw(r,t,e,o)),up(n)}else G_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Qw(n,e){return!(L_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Kf(li(n.Ha,n,e),aC(n,n.C)),n.C++,0)))}(n,e)||2==r&&Cm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Ua(n,5);break;case 4:Ua(n,10);break;case 3:Ua(n,6);break;default:Ua(n,2)}}function aC(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ua(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=li(n.jb,n);t||(t=new pc("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||np(t,"https"),ym(t)),function $w(n,e){const t=new D_;if(Dt.Image){const r=new Image;r.onload=$f(ip,t,r,"TestLoadImage: loaded",!0,e),r.onerror=$f(ip,t,r,"TestLoadImage: error",!1,e),r.onabort=$f(ip,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=$f(ip,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else di(2);n.G=0,n.j&&n.j.va(e),uC(n),$_(n)}function uC(n){n.G=0,n.I=-1,n.j&&((0!=V_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,g_(n.l),n.l.length=0),n.j.ua())}function z_(n,e,t){let r=function Pw(n){return n instanceof pc?Xo(n):new pc(n,void 0)}(t);if(""!=r.i)e&&ka(r,e+"."+r.i),mm(r,r.m);else{const o=Dt.location;r=function wA(n,e,t,r){var o=new pc(null,void 0);return n&&np(o,n),e&&ka(o,e),t&&mm(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&js(n.aa,function(o,u){kn(r,u,o)}),t=n.sa,(e=n.D)&&t&&kn(r,e,t),kn(r,"VER",n.ma),ch(n,r),r}function W_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Ba&&!n.qa?new ah({ib:!0}):n.qa)).L=n.H,e}function lC(){}function ft(){if(_o&&!(10<=Number(hw)))throw Error("Environmental error: no available transport.")}function us(n,e){Dr.call(this),this.g=new Yw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!sc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sc(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ba(this)}function Xw(n){dm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function eE(){hm.call(this),this.status=1}function Ba(n){this.g=n}(tt=gr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qf.g(),this.C=function cm(n){return n.h||(n.h=n.i())}(this.u?this.u:Qf),this.g.onreadystatechange=li(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Zw(this,u)}n=t||"";const o=new Vn(this.headers);r&&k_(r,function(u,f){o.set(f,u)}),r=function $I(n){e:{var e=sC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Dt.FormData&&n instanceof Dt.FormData,!(0<=ow(rC,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,f){this.g.setRequestHeader(f,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ww(this),0<this.B&&((this.K=function iC(n){return _o&&function dw(){return function Hs(n){var e=cw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=oc(String(Oa)).split("."),t=oc("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var o=e[f]||"",u=t[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=ac(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||ac(0==o[2].length,0==u[2].length)||ac(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.pa,this)):this.A=I_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Zw(this,u)}},tt.pa=function(){void 0!==Gg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ci(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ci(this,"complete"),ci(this,"abort"),Em(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),gr.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?zw(this):this.cb())},tt.cb=function(){zw(this)},tt.ba=function(){try{return 2<La(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),tC(e)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=Yw.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Xf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Kd(u),Zu(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Z_(this,o,e),kn(t=Xo(this.F),"RID",n),kn(t,"CVER",22),this.D&&kn(t,"X-HTTP-Session-Id",this.D),ch(this,t),this.o&&u&&H_(t,this.o,u),oh(this.i,o),this.Ra&&kn(t,"TYPE","init"),this.ja?(kn(t,"$req",e),kn(t,"SID","null"),o.$=!0,fm(o,t,null)):fm(o,t,e),this.G=2}}else 3==this.G&&(n?q_(this,n):0==this.l.length||jw(this.i)||q_(this))},tt.Ga=function(){if(this.u=null,Jw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Kf(li(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,di(10),ap(this),Jw(this))},tt.ab=function(){null!=this.v&&(this.v=null,ap(this),Cm(this),di(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),di(2)):(this.h.info("Failed to ping google.com"),di(1))},(tt=lC.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},ft.prototype.g=function(n,e){return new us(n,e)},Cr(us,Dr),us.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),E_(li(n.hb,n,e))),di(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=z_(n,null,n.W),up(n)},us.prototype.close=function(){bm(this.g)},us.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Im(this.g,e)}else this.v?((e={}).__data__=Ku(n),Im(this.g,e)):Im(this.g,n)},us.prototype.M=function(){this.g.j=null,delete this.j,bm(this.g),delete this.g,us.Z.M.call(this)},Cr(Xw,dm),Cr(eE,hm),Cr(Ba,lC),Ba.prototype.xa=function(){ci(this.g,"a")},Ba.prototype.wa=function(n){ci(this.g,new Xw(n))},Ba.prototype.va=function(n){ci(this.g,new eE(n))},Ba.prototype.ua=function(){ci(this.g,"b")},ft.prototype.createWebChannel=ft.prototype.g,us.prototype.send=us.prototype.u,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,eh.NO_ERROR=0,eh.TIMEOUT=8,eh.HTTP_ERROR=6,S_.COMPLETE="complete",x_.EventType=Yf,Yf.OPEN="a",Yf.CLOSE="b",Yf.ERROR="c",Yf.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.La,gr.prototype.getLastErrorCode=gr.prototype.Da,gr.prototype.getStatus=gr.prototype.ba,gr.prototype.getResponseJson=gr.prototype.Qa,gr.prototype.getResponseText=gr.prototype.ga,gr.prototype.send=gr.prototype.ea;var cC=yo.createWebChannelTransport=function(){return new ft},Tm=yo.getStatEventTarget=function(){return zf()},dh=yo.ErrorCode=eh,Yn=yo.EventType=S_,EA=yo.Event=Pa,K_=yo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dC=yo.FetchXmlHttpFactory=ah,Am=yo.WebChannel=x_,tE=yo.XhrIo=gr;const Y_="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let yc="9.6.11";const Qu=new $u.Yd("@firebase/firestore");function Q_(){return Qu.logLevel}function Re(n,...e){if(Qu.logLevel<=$u.in.DEBUG){const t=e.map(J_);Qu.debug(`Firestore (${yc}): ${n}`,...t)}}function mr(n,...e){if(Qu.logLevel<=$u.in.ERROR){const t=e.map(J_);Qu.error(`Firestore (${yc}): ${n}`,...t)}}function lp(n,...e){if(Qu.logLevel<=$u.in.WARN){const t=e.map(J_);Qu.warn(`Firestore (${yc}): ${n}`,...t)}}function J_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Qe(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function Ct(n,e){n||Qe()}function $e(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class pC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iE{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=T=>this.i!==o?(o=this.i,t(T)):Promise.resolve();let f=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Qn,e.enqueueRetryable(()=>u(this.currentUser))};const y=()=>{const T=f;e.enqueueRetryable((0,ye.Z)(function*(){yield T.promise,yield u(r.currentUser)}))},E=T=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(T=>E(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?E(T):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Qn)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new rE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Or(e)}}class sE{constructor(e,t,r){this.type="FirstParty",this.user=Or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class oE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new sE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uE{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.p;return this.p=u.token,Re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.p=t.token,new aE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function IA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ls.A=-1;class gC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=IA(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function cp(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function X_(n){return n+"\0"}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new De(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Un(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Un(0,0))}static max(){return new bt(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function lE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dp{constructor(e,t,r){void 0===t?t=0:t>e.length&&Qe(),void 0===r?r=e.length-t:r>e.length-t&&Qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),f=t.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends dp{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new en(t)}static emptyPath(){return new en([])}}const mC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends dp{construct(e,t,r){return new Pr(e,t,r)}static isValidIdentifier(e){return mC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new De(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const y=e[o];if("\\"===y){if(o+1===e.length)throw new De(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new De(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===y?(f=!f,o++):"."!==y||f?(r+=y,o++):(u(),o++)}if(u(),f)throw new De(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pr(t)}static emptyPath(){return new Pr([])}}class fh{constructor(e){this.fields=e,e.sort(Pr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Tr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const yC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=yC.exec(n);if(Ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xu(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function ev(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function tv(n){const e=n.mapValue.fields.__previous_value__;return ev(e)?tv(e):e}function hp(n){const e=cs(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class dE{constructor(e,t,r,o,u,f,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}function Ha(n){return null==n}function fp(n){return 0===n&&1/n==-1/0}function nv(n){return"number"==typeof n&&Number.isInteger(n)&&!fp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class je{constructor(e){this.path=e}static fromPath(e){return new je(en.fromString(e))}static fromName(e){return new je(en.fromString(e).popFirst(5))}static empty(){return new je(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new en(e.slice()))}}const hE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fE={nullValue:"NULL_VALUE"};function _c(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ev(n)?4:yE(n)?9:10:Qe()}function $s(n,e){if(n===e)return!0;const t=_c(n);if(t!==_c(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hp(n).isEqual(hp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=cs(r.timestampValue),f=cs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Xu(n.bytesValue).isEqual(Xu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Jn(r.geoPointValue.latitude)===Jn(o.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Jn(r.integerValue)===Jn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Jn(r.doubleValue),f=Jn(o.doubleValue);return u===f?fp(u)===fp(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return cp(n.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:return function(r,o){const u=r.mapValue.fields||{},f=o.mapValue.fields||{};if(lE(u)!==lE(f))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(void 0===f[y]||!$s(u[y],f[y])))return!1;return!0}(n,e);default:return Qe()}var o}function pp(n,e){return void 0!==(n.values||[]).find(t=>$s(t,e))}function $a(n,e){if(n===e)return 0;const t=_c(n),r=_c(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Jn(o.integerValue||o.doubleValue),y=Jn(u.integerValue||u.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1}(n,e);case 3:return pE(n.timestampValue,e.timestampValue);case 4:return pE(hp(n),hp(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(o,u){const f=Xu(o),y=Xu(u);return f.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),y=u.split("/");for(let E=0;E<f.length&&E<y.length;E++){const T=Ot(f[E],y[E]);if(0!==T)return T}return Ot(f.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Ot(Jn(o.latitude),Jn(u.latitude));return 0!==f?f:Ot(Jn(o.longitude),Jn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const f=o.values||[],y=u.values||[];for(let E=0;E<f.length&&E<y.length;++E){const T=$a(f[E],y[E]);if(T)return T}return Ot(f.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const f=o.fields||{},y=Object.keys(f),E=u.fields||{},T=Object.keys(E);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const N=Ot(y[R],T[R]);if(0!==N)return N;const Z=$a(f[y[R]],E[T[R]]);if(0!==Z)return Z}return Ot(y.length,T.length)}(n.mapValue,e.mapValue);default:throw Qe()}}function pE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=cs(n),r=cs(e),o=Ot(t.seconds,r.seconds);return 0!==o?o:Ot(t.nanos,r.nanos)}function ph(n){return rv(n)}function rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=cs(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xu(n.bytesValue).toBase64():"referenceValue"in n?je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=rv(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const y of o)f?f=!1:u+=",",u+=`${y}:${rv(r.fields[y])}`;return u+"}"}(n.mapValue):Qe();var e}function vc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iv(n){return!!n&&"integerValue"in n}function gp(n){return!!n&&"arrayValue"in n}function gE(n){return!!n&&"nullValue"in n}function mE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mp(n){return!!n&&"mapValue"in n}function gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ju(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=gh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function yE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _C(n){return"nullValue"in n?fE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vc(ja.empty(),je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Qe()}function _E(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vc(ja.empty(),je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?hE:Qe()}function vE(n,e){return void 0===n?e:void 0===e||$a(n,e)>0?n:e}function wE(n,e){return void 0===n?e:void 0===e||$a(n,e)<0?n:e}class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gh(t)}setAll(e){let t=Pr.emptyPath(),r={},o=[];e.forEach((f,y)=>{if(!t.isImmediateParentOf(y)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=y.popLast()}f?r[y.lastSegment()]=gh(f):o.push(y.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];mp(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ju(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new hi(gh(this.value))}}function Sm(n){const e=[];return Ju(n.fields,(t,r)=>{const o=new Pr([t]);if(mp(r)){const u=Sm(r.mapValue).fields;if(0===u.length)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new fh(e)}class Mn{constructor(e,t,r,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Mn(e,0,bt.min(),bt.min(),hi.empty(),0)}static newFoundDocument(e,t,r){return new Mn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new Mn(e,2,t,bt.min(),hi.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,bt.min(),hi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yp{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function _p(n){return n.fields.find(e=>2===e.kind)}function wc(n){return n.fields.filter(e=>2!==e.kind)}yp.UNKNOWN_ID=-1;class xm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ec{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ec(0,qa.min())}}function EE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(1e9===r?new Un(t+1,0):new Un(t,r));return new qa(o,je.empty(),e)}function bE(n){return new qa(n.readTime,n.key,-1)}class qa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qa(bt.min(),je.empty(),-1)}static max(){return new qa(bt.max(),je.empty(),-1)}}function IE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=je.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}class vC{constructor(e,t=null,r=[],o=[],u=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=y,this.P=null}}function sv(n,e=null,t=[],r=[],o=null,u=null,f=null){return new vC(n,e,t,r,o,u,f)}function mh(n){const e=$e(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+ph(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Ha(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ph(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ph(r)).join(",")),e.P=t}return e.P}function Za(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!CC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!$s(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uv(n.startAt,e.startAt)&&uv(n.endAt,e.endAt)}function Mm(n){return je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ga(n,e){return n.filters.filter(t=>t instanceof fi&&t.field.isEqual(e))}function yh(n,e,t){let r,o=!0;for(const u of Ga(n,e)){let f,y=!0;switch(u.op){case"<":case"<=":f=_C(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,y=!1;break;case"!=":case"not-in":f=fE}vE(r,f)===f&&(r=f,o=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const f=t.position[u];vE(r,f)===f&&(r=f,o=t.inclusive);break}return{value:r,inclusive:o}}function CE(n,e,t){let r,o=!0;for(const u of Ga(n,e)){let f,y=!0;switch(u.op){case">=":case">":f=_E(u.value),y=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,y=!1;break;case"!=":case"not-in":f=hE}wE(r,f)===f&&(r=f,o=y)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const f=t.position[u];wE(r,f)===f&&(r=f,o=t.inclusive);break}return{value:r,inclusive:o}}class fi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new DE(e,t,r):"array-contains"===t?new IC(e,r):"in"===t?new AE(e,r):"not-in"===t?new SE(e,r):"array-contains-any"===t?new ov(e,r):new fi(e,t,r)}static V(e,t,r){return"in"===t?new EC(e,r):new bC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v($a(t,this.value)):null!==t&&_c(this.value)===_c(t)&&this.v($a(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class DE extends fi{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.v(t)}}class EC extends fi{constructor(e,t){super(e,"in",t),this.keys=TE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bC extends fi{constructor(e,t){super(e,"not-in",t),this.keys=TE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class IC extends fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gp(t)&&pp(t.arrayValue,this.value)}}class AE extends fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pp(this.value.arrayValue,t)}}class SE extends fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(pp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pp(this.value.arrayValue,t)}}class ov extends fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pp(this.value.arrayValue,r))}}class Eo{constructor(e,t){this.position=e,this.inclusive=t}}class na{constructor(e,t="asc"){this.field=e,this.dir=t}}function CC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function av(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(r=u.field.isKeyField()?je.comparator(je.fromName(f.referenceValue),t.key):$a(f,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function uv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$s(n.position[t],e.position[t]))return!1;return!0}class za{constructor(e,t=null,r=[],o=[],u=null,f="F",y=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=y,this.endAt=E,this.D=null,this.C=null}}function xE(n,e,t,r,o,u,f,y){return new za(n,e,t,r,o,u,f,y)}function _h(n){return new za(n)}function vh(n){return!Ha(n.limit)&&"F"===n.limitType}function Rm(n){return!Ha(n.limit)&&"L"===n.limitType}function ME(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lv(n){for(const e of n.filters)if(e.S())return e.field;return null}function cv(n){return null!==n.collectionGroup}function bo(n){const e=$e(n);if(null===e.D){e.D=[];const t=lv(e),r=ME(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new na(t)),e.D.push(new na(Pr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new na(Pr.keyField(),u))}}}return e.D}function ds(n){const e=$e(n);if(!e.C)if("F"===e.limitType)e.C=sv(e.path,e.collectionGroup,bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of bo(e))t.push(new na(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Eo(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Eo(e.startAt.position,!e.startAt.inclusive):null;e.C=sv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function bc(n,e,t){return new za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nm(n,e){return Za(ds(n),ds(e))&&n.limitType===e.limitType}function dv(n){return`${mh(ds(n))}|lt:${n.limitType}`}function hv(n){return`Query(target=${function wC(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ph(r.value)}`;var r}).join(", ")}]`),Ha(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ph(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ph(t)).join(",")),`Target(${e})`}(ds(n))}; limitType=${n.limitType})`}function RE(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):je.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,f){const y=av(o,u,f);return o.inclusive?y<=0:y<0}(t.startAt,bo(t),r)||t.endAt&&!function(o,u,f){const y=av(o,u,f);return o.inclusive?y>=0:y>0}(t.endAt,bo(t),r)));var t,r}function fv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DC(n){return(e,t)=>{let r=!1;for(const o of bo(n)){const u=NE(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function NE(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(o,u,f){const y=u.data.field(o),E=f.data.field(o);return null!==y&&null!==E?$a(y,E):Qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}function Om(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function pv(n){return{integerValue:""+n}}function gv(n,e){return nv(e)?pv(e):Om(n,e)}class Pm{constructor(){this._=void 0}}function TC(n,e,t){return n instanceof wh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Ic?PE(n,e):n instanceof Cc?Eh(n,e):function(r,o){const u=OE(r,o),f=mv(u)+mv(r.k);return iv(u)&&iv(r.k)?pv(f):Om(r.M,f)}(n,e)}function AC(n,e,t){return n instanceof Ic?PE(n,e):n instanceof Cc?Eh(n,e):t}function OE(n,e){return n instanceof Dc?iv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class wh extends Pm{}class Ic extends Pm{constructor(e){super(),this.elements=e}}function PE(n,e){const t=yv(e);for(const r of n.elements)t.some(o=>$s(o,r))||t.push(r);return{arrayValue:{values:t}}}class Cc extends Pm{constructor(e){super(),this.elements=e}}function Eh(n,e){let t=yv(e);for(const r of n.elements)t=t.filter(o=>!$s(o,r));return{arrayValue:{values:t}}}class Dc extends Pm{constructor(e,t){super(),this.M=e,this.k=t}}function mv(n){return Jn(n.integerValue||n.doubleValue)}function yv(n){return gp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class bh{constructor(e,t){this.field=e,this.transform=t}}class SC{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function km(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fm{}function xC(n,e,t){n instanceof Tc?function(r,o,u){const f=r.value.clone(),y=Lm(r.fieldTransforms,o,u.transformResults);f.setAll(y),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof pi?function(r,o,u){if(!km(r.precondition,o))return void o.convertToUnknownDocument(u.version);const f=Lm(r.fieldTransforms,o,u.transformResults),y=o.data;y.setAll(LE(r)),y.setAll(f),o.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _v(n,e,t){var o;n instanceof Tc?function(r,o,u){if(!km(r.precondition,o))return;const f=r.value.clone(),y=Ch(r.fieldTransforms,u,o);f.setAll(y),o.convertToFoundDocument(FE(o),f).setHasLocalMutations()}(n,e,t):n instanceof pi?function(r,o,u){if(!km(r.precondition,o))return;const f=Ch(r.fieldTransforms,u,o),y=o.data;y.setAll(LE(r)),y.setAll(f),o.convertToFoundDocument(FE(o),y).setHasLocalMutations()}(n,e,t):km(n.precondition,o=e)&&o.convertToNoDocument(bt.min())}function MC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=OE(r.transform,o||null);null!=u&&(null==t&&(t=hi.empty()),t.set(r.field,u))}return t||null}function Ih(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cp(t,r,(o,u)=>function kE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ic&&r instanceof Ic||t instanceof Cc&&r instanceof Cc?cp(t.elements,r.elements,$s):t instanceof Dc&&r instanceof Dc?$s(t.k,r.k):t instanceof wh&&r instanceof wh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function FE(n){return n.isFoundDocument()?n.version:bt.min()}class Tc extends Fm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class pi extends Fm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function LE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lm(n,e,t){const r=new Map;Ct(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,y=e.data.field(u.field);r.set(u.field,AC(f,y,t[o]))}return r}function Ch(n,e,t){const r=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);r.set(o.field,TC(u,f,e))}return r}class vp extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class vv extends Fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class RC{constructor(e){this.count=e}}var Hn,Gt;function VE(n){switch(n){default:return Qe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function UE(n){if(void 0===n)return mr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Hn.OK:return ae.OK;case Hn.CANCELLED:return ae.CANCELLED;case Hn.UNKNOWN:return ae.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return ae.INTERNAL;case Hn.UNAVAILABLE:return ae.UNAVAILABLE;case Hn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Hn.NOT_FOUND:return ae.NOT_FOUND;case Hn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Hn.ABORTED:return ae.ABORTED;case Hn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Hn.DATA_LOSS:return ae.DATA_LOSS;default:return Qe()}}(Gt=Hn||(Hn={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ju(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return hh(this.inner)}size(){return this.innerSize}}class Xn{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new Xn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Xn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:kr.RED,this.left=null!=o?o:kr.EMPTY,this.right=null!=u?u:kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new kr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return kr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1,kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new Xn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BE(this.data.getIterator())}getIteratorFrom(e){return new BE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class BE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wp(n){return n.hasNext()?n.getNext():void 0}const wv=new Xn(je.comparator);function zi(){return wv}const jE=new Xn(je.comparator);function Ep(){return jE}function Ac(){return new Wa(n=>n.toString(),(n,e)=>n.isEqual(e))}const NC=new Xn(je.comparator),OC=new Fn(je.comparator);function fn(...n){let e=OC;for(const t of n)e=e.add(t);return e}const PC=new Fn(Ot);function bp(){return PC}class Sc{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sc(bt.min(),r,bp(),zi(),fn())}}class Th{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Th(Tr.EMPTY_BYTE_STRING,t,fn(),fn(),fn())}}class Vm{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class Ev{constructor(e,t){this.targetId=e,this.$=t}}class bv{constructor(e,t,r=Tr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class HE{constructor(){this.B=0,this.L=qE(),this.U=Tr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=fn(),t=fn(),r=fn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Qe()}}),new Th(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=qE()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class $E{constructor(e){this.nt=e,this.st=new Map,this.it=zi(),this.rt=Iv(),this.ot=new Fn(Ot)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Mm(u))if(0===r){const f=new je(u.path);this.ct(t,f,Mn.newNoDocument(f,bt.min()))}else Ct(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,f)=>{const y=this.wt(f);if(y){if(u.current&&Mm(y.target)){const E=new je(y.target.path);null!==this.it.get(E)||this.It(f,E)||this.ct(f,E,Mn.newNoDocument(E,e))}u.j&&(t.set(f,u.H()),u.J())}});let r=fn();this.rt.forEach((u,f)=>{let y=!0;f.forEachWhile(E=>{const T=this.wt(E);return!T||2===T.purpose||(y=!1,!1)}),y&&(r=r.add(u))}),this.it.forEach((u,f)=>f.setReadTime(e));const o=new Sc(e,t,this.ot,this.it,r);return this.it=zi(),this.rt=Iv(),this.ot=new Fn(Ot),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new HE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Fn(Ot),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Re("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new HE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Iv(){return new Xn(je.comparator)}function qE(){return new Xn(je.comparator)}const ZE={asc:"ASCENDING",desc:"DESCENDING"},kC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Pi{constructor(e,t){this.databaseId=e,this.N=t}}function ra(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GE(n,e){return n.N?e.toBase64():e.toUint8Array()}function FC(n,e){return ra(n,e.toTimestamp())}function Gr(n){return Ct(!!n),bt.fromTimestamp(function(e){const t=cs(e);return new Un(t.seconds,t.nanos)}(n))}function xc(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zE(n){const e=en.fromString(n);return Ct(Mv(e)),e}function Mc(n,e){return xc(n.databaseId,e.path)}function ia(n,e){const t=zE(e);if(t.get(1)!==n.databaseId.projectId)throw new De(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(Bm(t))}function Um(n,e){return xc(n.databaseId,e)}function WE(n){const e=zE(n);return 4===e.length?en.emptyPath():Bm(e)}function Ip(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bm(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Cv(n,e,t){return{name:Mc(n,e),fields:t.value.mapValue.fields}}function Dv(n,e,t){const r=ia(n,e.name),o=Gr(e.updateTime),u=new hi({mapValue:{fields:e.fields}}),f=Mn.newFoundDocument(r,o,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Hm(n,e){let t;if(e instanceof Tc)t={update:Cv(n,e.key,e.value)};else if(e instanceof vp)t={delete:Mc(n,e.key)};else if(e instanceof pi)t={update:Cv(n,e.key,e.data),updateMask:UC(e.fieldMask)};else{if(!(e instanceof vv))return Qe();t={verify:Mc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof wh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ic)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Dc)return{fieldPath:u.field.canonicalString(),increment:f.k};throw Qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:FC(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Qe()),t;var o}function $m(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?yr.updateTime(Gr(o.updateTime)):void 0!==o.exists?yr.exists(o.exists):yr.none():yr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,f){let y=null;"setToServerValue"in f?(Ct("REQUEST_TIME"===f.setToServerValue),y=new wh):"appendMissingElements"in f?y=new Ic(f.appendMissingElements.values||[]):"removeAllFromArray"in f?y=new Cc(f.removeAllFromArray.values||[]):"increment"in f?y=new Dc(u,f.increment):Qe();const E=Pr.fromServerFormat(f.fieldPath);return new bh(E,y)}(n,o)):[];var o;if(e.update){const o=ia(n,e.update.name),u=new hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new fh((e.updateMask.fieldPaths||[]).map(T=>Pr.fromServerFormat(T)));return new pi(o,u,f,t,r)}return new Tc(o,u,t,r)}if(e.delete){const o=ia(n,e.delete);return new vp(o,t)}if(e.verify){const o=ia(n,e.verify);return new vv(o,t)}return Qe()}function Av(n,e){return{documents:[Um(n,e.path)]}}function Cp(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Um(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Um(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const T=E.map(R=>function(N){if("=="===N.op){if(mE(N.value))return{unaryFilter:{field:Ah(N.field),op:"IS_NAN"}};if(gE(N.value))return{unaryFilter:{field:Ah(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(mE(N.value))return{unaryFilter:{field:Ah(N.field),op:"IS_NOT_NAN"}};if(gE(N.value))return{unaryFilter:{field:Ah(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ah(N.field),op:CA(N.op),value:N.value}}}(R));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(T=>{return{field:Ah((R=T).field),direction:xv(R.dir)};var R})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=(T=e.limit,n.N||Ha(T)?T:{value:T});var T,y,E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(y=e.startAt).inclusive,values:y.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function Sv(n){let e=WE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ct(1===r);const R=t.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let u=[];t.where&&(u=qm(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(R=>{return new na(Sh((N=R).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let y=null;t.limit&&(y=function(R){let N;return N="object"==typeof R?R.value:R,Ha(N)?null:N}(t.limit));let E=null;var R;t.startAt&&(E=new Eo((R=t.startAt).values||[],!!R.before));let T=null;return t.endAt&&(T=function(R){return new Eo(R.values||[],!R.before)}(t.endAt)),xE(e,o,f,u,y,"F",E,T)}function qm(n){return n?void 0!==n.unaryFilter?[YE(n)]:void 0!==n.fieldFilter?[KE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qm(e)).reduce((e,t)=>e.concat(t)):Qe():[]}function xv(n){return ZE[n]}function CA(n){return kC[n]}function Ah(n){return{fieldPath:n.canonicalString()}}function Sh(n){return Pr.fromServerFormat(n.fieldPath)}function KE(n){return fi.create(Sh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(n.fieldFilter.op),n.fieldFilter.value)}function YE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Sh(n.unaryFilter.field);return fi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Sh(n.unaryFilter.field);return fi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sh(n.unaryFilter.field);return fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sh(n.unaryFilter.field);return fi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function UC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function gi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QE(e)),e=BC(n.get(t),e);return QE(e)}function BC(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function QE(n){return n+"\x01\x01"}function Io(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const f=n.indexOf("\x01",u);switch((f<0||f>t)&&Qe(),n.charAt(f+1)){case"\x01":const y=n.substring(u,f);let E;0===o.length?E=y:(o+=y,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,f),o+="\0";break;case"\x11":o+=n.substring(u,f+1);break;default:Qe()}u=f+2}return new en(r)}const JE=["userId","batchId"];function Dp(n,e){return[n,gi(e)]}function Rv(n,e,t){return[n,gi(e),t]}const XE={},eb=["prefixPath","collectionGroup","readTime","documentId"],jC=["prefixPath","collectionGroup","documentId"],HC=["collectionGroup","readTime","prefixPath","documentId"],DA=["canonicalId","targetId"],tb=["targetId","path"],TA=["path","targetId"],AA=["collectionId","parent"],SA=["indexId","uid"],xA=["uid","sequenceNumber"],MA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RA=["indexId","uid","orderedDocumentKey"],NA=["userId","collectionPath","documentId"],OA=["userId","collectionPath","largestBatchId"],Zm=["userId","collectionGroup","largestBatchId"],$C=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nv=[...$C,"documentOverlays"],Rc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nb=[...Rc,"indexConfiguration","indexState","indexEntries"],rb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ib{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let o=0,u=0,f=!1;e.forEach(y=>{++o,y.next(()=>{++u,f&&u===o&&t()},E=>r(E))}),f=!0,u===o&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(o=>o?ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class Tp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Qn,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Gm(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=ob(r.target.error);this.At.reject(new Gm(e,o))}}static open(e,t,r,o){try{return new Tp(t,e.transaction(o,r))}catch(u){throw new Gm(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zm(t)}}class qs{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===qs.Vt((0,Zt.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Re("SimpleDb","Removing database:",e),tl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Zt.hl)())return!1;if(qs.St())return!0;const e=(0,Zt.z$)(),t=qs.Vt(e),r=0<t&&t<10,o=qs.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Re("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=f=>{r(f.target.result)},u.onblocked=()=>{o(new Gm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const y=f.target.error;o("VersionError"===y.name?new De(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new De(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Gm(e,y))},u.onupgradeneeded=f=>{Re("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.bt.kt(f.target.result,u.transaction,f.oldVersion,t.version).next(()=>{Re("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const f="readonly"===t;let y=0;for(;;){++y;try{u.db=yield u.Nt(e);const E=Tp.open(u.db,e,f?"readonly":"readwrite",r),T=o(E).next(R=>(E.Pt(),R)).catch(R=>(E.abort(R),ce.reject(R))).toPromise();return T.catch(()=>{}),yield E.Rt,T}catch(E){const T="FirebaseError"!==E.name&&y<3;if(Re("SimpleDb","Transaction failed with error:",E.message,"Retrying:",T),u.close(),!T)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sb{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return tl(this.Ft.delete())}}class Gm extends De{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function el(n){return"IndexedDbTransactionError"===n.name}class zm{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Re("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Re("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tl(r)}add(e){return Re("SimpleDb","ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Re("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Re("SimpleDb","DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return Re("SimpleDb","COUNT",this.store.name),tl(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(f,y)=>{u.push(y)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ce((u,f)=>{o.onerror=y=>{f(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((o,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}Qt(e,t){Re("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,f,y)=>y.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new ce((r,o)=>{t.onerror=u=>{const f=ob(u.target.error);o(f)},t.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(y=>{y?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new ce((o,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const y=f.target.result;if(!y)return void o();const E=new sb(y),T=t(y.primaryKey,y.value,E);if(T instanceof ce){const R=T.catch(N=>(E.done(),ce.reject(N)));r.push(R)}E.isDone?o():null===E.Lt?y.continue():y.continue(E.Lt)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=ob(r.target.error);t(o)}})}let qC=!1;function ob(n){const e=qs.Vt((0,Zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qC||(qC=!0,setTimeout(()=>{throw r},0)),r}}return n}class ZC extends ib{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=$e(n);return qs.xt(t.Ht,e)}class Ap{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xC(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_v(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_v(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&cp(this.mutations,e.mutations,(t,r)=>Ih(t,r))&&cp(this.baseMutations,e.baseMutations,(t,r)=>Ih(t,r))}}class Ov{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ct(e.mutations.length===r.length);let o=NC;const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new Ov(e,t,r,o)}}class ab{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nl{constructor(e,t,r,o,u=bt.min(),f=bt.min(),y=Tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y}withSequenceNumber(e){return new nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wm{constructor(e){this.Jt=e}}function Wi(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Km(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mc(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ra(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ka(e.version)};else{if(!e.isUnknownDocument())return Qe();r.unknownDocument={path:t.path.toArray(),version:Ka(e.version)}}var o,u;return r}function Km(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ka(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nc(n){const e=new Un(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function xh(n,e){const t=(e.baseMutations||[]).map(u=>$m(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const f=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(f.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>$m(n.Jt,u)),o=Un.fromMillis(e.localWriteTimeMs);return new Ap(e.batchId,o,t,r)}function Oc(n){const e=Nc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nc(n.lastLimboFreeSnapshotVersion):bt.min();let r;var o;return void 0!==n.query.documents?(Ct(1===(o=n.query).documents.length),r=ds(_h(WE(o.documents[0])))):r=ds(Sv(n.query)),new nl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Tr.fromBase64String(n.resumeToken))}function Pv(n,e){const t=Ka(e.snapshotVersion),r=Ka(e.lastLimboFreeSnapshotVersion);let o;o=Mm(e.target)?Av(n.Jt,e.target):Cp(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mh(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Ym(n){const e=Sv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bc(e,e.limit,"L"):e}function kv(n,e){return new ab(e.largestBatchId,$m(n.Jt,e.overlayMutation))}function Fv(n,e){const t=e.path.lastSegment();return[n,gi(e.path.popLast()),t]}class ub{getBundleMetadata(e,t){return lb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Nc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return lb(e).put({bundleId:(r=t).id,createTime:Ka(Gr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return cb(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Ym(o.bundledQuery),readTime:Nc(o.readTime)};var o})}saveNamedQuery(e,t){return cb(e).put({name:(r=t).name,readTime:Ka(Gr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lb(n){return Fr(n,"bundles")}function cb(n){return Fr(n,"namedQueries")}class Sp{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Sp(e,t.uid||"")}getOverlay(e,t){return ki(e).get(Fv(this.userId,t)).next(r=>r?kv(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,f)=>{const y=new ab(t,f);o.push(this.Xt(e,y))}),ce.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(f=>o.add(gi(f.getCollectionPath())));const u=[];return o.forEach(f=>{const y=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);u.push(ki(e).Qt("collectionPathOverlayIndex",y))}),ce.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Ac(),u=gi(t),f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return ki(e).qt("collectionPathOverlayIndex",f).next(y=>{for(const E of y){const T=kv(this.M,E);o.set(T.getKey(),T)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Ac();let f;const y=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ki(e).Wt({index:"collectionGroupOverlayIndex",range:y},(E,T,R)=>{const N=kv(this.M,T);u.size()<o||N.largestBatchId===f?(u.set(N.getKey(),N),f=N.largestBatchId):R.done()}).next(()=>u)}Xt(e,t){return ki(e).put(function(r,o,u){const[f,y,E]=Fv(o,u.mutation.key);return{userId:o,collectionPath:y,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Hm(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function ki(n){return Fr(n,"documentOverlays")}class Pc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),fp(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Xu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?yE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Qe()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),je.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function PA(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function db(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=PA(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Pc.fe=new Pc;class hb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=db(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=db(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class zC{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class WC{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Mh{constructor(){this.De=new hb,this.Ce=new zC(this.De),this.xe=new WC(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class rl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rl(this.indexId,this.documentKey,this.arrayValue,r)}}function Rh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Lv(n.arrayValue,e.arrayValue),0!==t?t:(t=Lv(n.directionalValue,e.directionalValue),0!==t?t:je.comparator(n.documentKey,e.documentKey)))}function Lv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=_p(e);if(void 0!==t&&!this.Be(t))return!1;const r=wc(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const f=r[o];if(!this.Le(this.Fe,f)||!this.Ue(this.Me[u++],f))return!1;++o}for(;o<r.length;++o){const f=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],f))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class KC{constructor(){this.qe=new Vv}addToCollectionParentIndex(e,t){return this.qe.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getFieldIndex(e,t){return ce.resolve(null)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Vv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Fn(en.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Fn(en.comparator)).toArray()}}const kc=new Uint8Array(0);class xp{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Vv,this.Ge=new Wa(r=>mh(r),(r,o)=>Za(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:gi(o)};return Qm(e).put(u)}return ce.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[X_(t),""],!1,!0);return Qm(e).qt(o).next(u=>{for(const f of u){if(f.collectionId!==t)break;r.push(Io(f.parent))}return r})}addFieldIndex(e,t){const r=Jm(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Jm(e),o=Mp(e),u=Nh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Nh(e);let o=!0;const u=new Map;return ce.forEach(this.Qe(t),f=>this.getFieldIndex(e,f).next(y=>{o&&(o=!!y),u.set(f,y)})).next(()=>{if(o){let f=fn();const y=[];return ce.forEach(u,(E,T)=>{var R;Re("IndexedDbIndexManager",`Using index ${R=E,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(xt=>`${xt.fieldPath}:${xt.kind}`).join(",")}`} to execute ${mh(t)}`);const N=function(xt,It){const $t=_p(It);if(void 0===$t)return null;for(const vn of Ga(xt,$t.fieldPath))switch(vn.op){case"array-contains-any":return vn.value.arrayValue.values||[];case"array-contains":return[vn.value]}return null}(T,E),Z=function(xt,It){const $t=new Map;for(const vn of wc(It))for(const Qi of Ga(xt,vn.fieldPath))switch(Qi.op){case"==":case"in":$t.set(vn.fieldPath.canonicalString(),Qi.value);break;case"not-in":case"!=":return $t.set(vn.fieldPath.canonicalString(),Qi.value),Array.from($t.values())}return null}(T,E),z=function(xt,It){const $t=[];let vn=!0;for(const Qi of wc(It)){const Gp=0===Qi.kind?yh(xt,Qi.fieldPath,xt.startAt):CE(xt,Qi.fieldPath,xt.startAt);if(!Gp.value)return null;$t.push(Gp.value),vn&&(vn=Gp.inclusive)}return new Eo($t,vn)}(T,E),se=function(xt,It){const $t=[];let vn=!0;for(const Qi of wc(It)){const Gp=0===Qi.kind?CE(xt,Qi.fieldPath,xt.endAt):yh(xt,Qi.fieldPath,xt.endAt);if(!Gp.value)return null;$t.push(Gp.value),vn&&(vn=Gp.inclusive)}return new Eo($t,vn)}(T,E),Ne=this.je(E,T,z),Ze=this.je(E,T,se),lt=this.We(E,T,Z),Bt=this.ze(E.indexId,N,Ne,!!z&&z.inclusive,Ze,!!se&&se.inclusive,lt);return ce.forEach(Bt,xt=>r.Gt(xt,t.limit).next(It=>{It.forEach($t=>{const vn=je.fromSegments($t.documentKey);f.has(vn)||(f=f.add(vn),y.push(vn))})}))}).next(()=>y)}return ce.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,o,u,f,y){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),T=E/(null!=t?t.length:1),R=[];for(let N=0;N<E;++N){const Z=t?this.He(t[N/T]):kc,z=r?this.Je(e,Z,r[N%T],o):this.Ye(e),se=u?this.Xe(e,Z,u[N%T],f):this.Ye(e+1);R.push(...this.createRange(z,se,y.map(Ne=>this.Je(e,Z,Ne,!0))))}return R}Je(e,t,r,o){const u=new rl(e,je.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new rl(e,je.empty(),t,r);return o?u.ke():u}Ye(e){return new rl(e,je.empty(),kc,kc)}getFieldIndex(e,t){const r=new fb(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const f=u.filter(y=>r.$e(y));return f.sort((y,E)=>E.fields.length-y.fields.length),f.length>0?f[0]:null})}Ze(e,t){const r=new Mh;for(const o of wc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const f=r.Ne(o.kind);Pc.fe.Zt(u,f)}return r.Se()}He(e){const t=new Mh;return Pc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Mh;return Pc.fe.Zt(vc(this.databaseId,t),r.Ne(function(o){const u=wc(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new Mh);let u=0;for(const f of wc(e)){const y=r[u++];for(const E of o)if(this.en(t,f.fieldPath)&&gp(y))o=this.nn(o,f,y);else{const T=E.Ne(f.kind);Pc.fe.Zt(y,T)}}return this.sn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const f of r.arrayValue.values||[])for(const y of o){const E=new Mh;E.seed(y.Se()),Pc.fe.Zt(f,E.Ne(t.kind)),u.push(E)}return u}en(e,t){return!!e.filters.find(r=>r instanceof fi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Jm(e),o=Mp(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const f=[];return ce.forEach(u,y=>o.get([y.indexId,this.uid]).next(E=>{f.push(function(T,R){const N=R?new Ec(R.sequenceNumber,new qa(Nc(R.readTime),new je(Io(R.documentKey)),R.largestBatchId)):Ec.empty(),Z=T.fields.map(([z,se])=>new xm(Pr.fromServerFormat(z),se));return new yp(T.indexId,T.collectionGroup,Z,N)}(y,E))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Ot(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Jm(e),u=Mp(e);return this.rn(e).next(f=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(y=>ce.forEach(y,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:f,readTime:Ka((Z=r).readTime),documentKey:gi(Z.documentKey.path),largestBatchId:Z.largestBatchId});var Z})))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(o,u)=>{const f=r.get(o.collectionGroup);return(f?ce.resolve(f):this.getFieldIndexes(e,o.collectionGroup)).next(y=>(r.set(o.collectionGroup,y),ce.forEach(y,E=>this.on(e,o,E).next(T=>{const R=this.un(u,E);return T.isEqual(R)?ce.resolve():this.an(e,u,E,T,R)}))))})}cn(e,t,r,o){return Nh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return Nh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=Nh(e);let u=new Fn(Rh);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(f,y)=>{u=u.add(new rl(r.indexId,t,y.arrayValue,y.directionalValue))}).next(()=>u)}un(e,t){let r=new Fn(Rh);const o=this.Ze(t,e);if(null==o)return r;const u=_p(t);if(null!=u){const f=e.data.field(u.fieldPath);if(gp(f))for(const y of f.arrayValue.values||[])r=r.add(new rl(t.indexId,e.key,this.He(y),o))}else r=r.add(new rl(t.indexId,e.key,kc,o));return r}an(e,t,r,o,u){Re("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(y,E,T,R,N){const Z=y.getIterator(),z=E.getIterator();let se=wp(Z),Ne=wp(z);for(;se||Ne;){let Ze=!1,lt=!1;if(se&&Ne){const Bt=T(se,Ne);Bt<0?lt=!0:Bt>0&&(Ze=!0)}else null!=se?lt=!0:Ze=!0;Ze?(R(Ne),Ne=wp(z)):lt?(N(se),se=wp(Z)):(se=wp(Z),Ne=wp(z))}}(o,u,Rh,y=>{f.push(this.cn(e,t,r,y))},y=>{f.push(this.hn(e,t,r,y))}),ce.waitFor(f)}rn(e){let t=1;return Mp(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,y)=>Rh(f,y)).filter((f,y,E)=>!y||0!==Rh(f,E[y-1]));const o=[];o.push(e);for(const f of r){const y=Rh(f,e),E=Rh(f,t);if(0===y)o[0]=e.ke();else if(y>0&&E<0)o.push(f),o.push(f.ke());else if(E>0)break}o.push(t);const u=[];for(let f=0;f<o.length;f+=2)u.push(IDBKeyRange.bound([o[f].indexId,this.uid,o[f].arrayValue,o[f].directionalValue,kc,[]],[o[f+1].indexId,this.uid,o[f+1].arrayValue,o[f+1].directionalValue,kc,[]]));return u}}function Qm(n){return Fr(n,"collectionParents")}function Nh(n){return Fr(n,"indexEntries")}function Jm(n){return Fr(n,"indexConfiguration")}function Mp(n){return Fr(n,"indexState")}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pb(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],f=IDBKeyRange.only(t.batchId);let y=0;const E=r.Wt({range:f},(R,N,Z)=>(y++,Z.delete()));u.push(E.next(()=>{Ct(1===y)}));const T=[];for(const R of t.mutations){const N=Rv(e,R.key.path,t.batchId);u.push(o.delete(N)),T.push(R.key)}return ce.waitFor(u).next(()=>T)}function Bv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Qe();e=n.noDocument}return JSON.stringify(e).length}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(41943040,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class gb{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){Ct(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new gb(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return il(e).Wt({index:"userMutationsIndex",range:r},(o,u,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Oh(e),f=il(e);return f.add({}).next(y=>{Ct("number"==typeof y);const E=new Ap(y,t,r,o),T=function(Z,z,se){const Ne=se.baseMutations.map(lt=>Hm(Z.Jt,lt)),Ze=se.mutations.map(lt=>Hm(Z.Jt,lt));return{userId:z,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Ne,mutations:Ze}}(this.M,this.userId,E),R=[];let N=new Fn((Z,z)=>Ot(Z.canonicalString(),z.canonicalString()));for(const Z of o){const z=Rv(this.userId,Z.key.path,y);N=N.add(Z.key.path.popLast()),R.push(f.put(T)),R.push(u.put(z,XE))}return N.forEach(Z=>{R.push(this.indexManager.addToCollectionParentIndex(e,Z))}),e.addOnCommittedListener(()=>{this.ln[y]=E.keys()}),ce.waitFor(R).next(()=>E)})}lookupMutationBatch(e,t){return il(e).get(t).next(r=>r?(Ct(r.userId===this.userId),xh(this.M,r)):null)}fn(e,t){return this.ln[t]?ce.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return il(e).Wt({index:"userMutationsIndex",range:o},(f,y,E)=>{y.userId===this.userId&&(Ct(y.batchId>=r),u=xh(this.M,y)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return il(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,f)=>{r=u.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return il(e).qt("userMutationsIndex",t).next(r=>r.map(o=>xh(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Dp(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Oh(e).Wt({range:o},(f,y,E)=>{const[T,R,N]=f,Z=Io(R);if(T===this.userId&&t.path.isEqual(Z))return il(e).get(N).next(z=>{if(!z)throw Qe();Ct(z.userId===this.userId),u.push(xh(this.M,z))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Ot);const o=[];return t.forEach(u=>{const f=Dp(this.userId,u.path),y=IDBKeyRange.lowerBound(f),E=Oh(e).Wt({range:y},(T,R,N)=>{const[Z,z,se]=T,Ne=Io(z);Z===this.userId&&u.path.isEqual(Ne)?r=r.add(se):N.done()});o.push(E)}),ce.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Dp(this.userId,r),f=IDBKeyRange.lowerBound(u);let y=new Fn(Ot);return Oh(e).Wt({range:f},(E,T,R)=>{const[N,Z,z]=E,se=Io(Z);N===this.userId&&r.isPrefixOf(se)?se.length===o&&(y=y.add(z)):R.done()}).next(()=>this.dn(e,y))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(il(e).get(u).next(f=>{if(null===f)throw Qe();Ct(f.userId===this.userId),r.push(xh(this.M,f))}))}),ce.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return pb(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),ce.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Oh(e).Wt({range:r},(u,f,y)=>{if(u[0]===this.userId){const E=Io(u[1]);o.push(E)}else y.done()}).next(()=>{Ct(0===o.length)})})}containsKey(e,t){return jv(e,this.userId,t)}wn(e){return mb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function jv(n,e,t){const r=Dp(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let f=!1;return Oh(n).Wt({range:u,jt:!0},(y,E,T)=>{const[R,N,Z]=y;R===e&&N===o&&(f=!0),T.done()}).next(()=>f)}function il(n){return Fr(n,"mutations")}function Oh(n){return Fr(n,"documentMutations")}function mb(n){return Fr(n,"mutationQueues")}class Ph{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ph(0)}static yn(){return new Ph(-1)}}class kA{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Ph(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>bt.fromTimestamp(new Un(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Rp(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Rp(e).Wt((f,y)=>{const E=Oc(y);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>ce.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Rp(e).Wt((r,o)=>{const u=Oc(o);t(u)})}pn(e){return YC(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}In(e,t){return YC(e).put("targetGlobalKey",t)}Tn(e,t){return Rp(e).put(Pv(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=mh(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Rp(e).Wt({range:o,index:"queryTargetsIndex"},(f,y,E)=>{const T=Oc(y);Za(t,T.target)&&(u=T,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Fc(e);return t.forEach(f=>{const y=gi(f.path);o.push(u.put({targetId:r,path:y})),o.push(this.referenceDelegate.addReference(e,r,f))}),ce.waitFor(o)}removeMatchingKeys(e,t,r){const o=Fc(e);return ce.forEach(t,u=>{const f=gi(u.path);return ce.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Fc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Fc(e);let u=fn();return o.Wt({range:r,jt:!0},(f,y,E)=>{const T=Io(f[1]),R=new je(T);u=u.add(R)}).next(()=>u)}containsKey(e,t){const r=gi(t.path),o=IDBKeyRange.bound([r],[X_(r)],!1,!0);let u=0;return Fc(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([f,y],E,T)=>{0!==f&&(u++,T.done())}).next(()=>u>0)}Et(e,t){return Rp(e).get(t).next(r=>r?Oc(r):null)}}function Rp(n){return Fr(n,"targets")}function YC(n){return Fr(n,"targetGlobal")}function Fc(n){return Fr(n,"targetDocuments")}function Lc(n){return kh.apply(this,arguments)}function kh(){return kh=(0,ye.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==rb)throw n;Re("LocalStore","Unexpectedly lost primary lease")}),kh.apply(this,arguments)}function yb([n,e],[t,r]){const o=Ot(n,t);return 0===o?Ot(e,r):o}class QC{constructor(e){this.An=e,this.buffer=new Fn(yb),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _b{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Re("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){el(o)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Lc(o)}yield t.Sn(e)}))}}class Vc{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(ls.A);const r=new QC(t);return this.Dn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Uv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,f,y,E,T;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,f=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,y=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(T=Date.now(),Q_()<=$u.in.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-R}ms\n\tDetermined least recently used ${o} in `+(y-f)+`ms\n\tRemoved ${u} targets in `+(E-y)+`ms\n\tRemoved ${N} documents in `+(T-E)+`ms\nTotal Duration: ${T-R}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class vb{constructor(e,t){this.db=e,this.garbageCollector=new Vc(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return Fh(e,r)}removeReference(e,t,r){return Fh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Fh(e,t)}On(e,t){return function(r,o){let u=!1;return mb(r).zt(f=>jv(r,f,o).next(y=>(y&&(u=!0),ce.resolve(!y)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(f,y)=>{if(y<=t){const E=this.On(e,f).next(T=>{if(!T)return u++,r.getEntry(e,f).next(()=>(r.removeEntry(f,bt.min()),Fc(e).delete([0,gi(f.path)])))});o.push(E)}}).next(()=>ce.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Fh(e,t)}Mn(e,t){const r=Fc(e);let o,u=ls.A;return r.Wt({index:"documentTargetsIndex"},([f,y],{path:E,sequenceNumber:T})=>{0===f?(u!==ls.A&&t(new je(Io(o)),u),u=T,o=E):u=ls.A}).next(()=>{u!==ls.A&&t(new je(Io(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fh(n,e){return Fc(n).put((r=n.currentSequenceNumber,{targetId:0,path:gi(e.path),sequenceNumber:r}));var r}class Xm{constructor(){this.changes=new Wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JC{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sl(e).put(r)}removeEntry(e,t,r){return sl(e).delete(function(o,u){const f=o.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Km(u),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Mn.newInvalidDocument(t);return sl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:Mn.newInvalidDocument(t)};return sl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(o,u)=>{r={document:this.$n(t,u),size:Bv(u)}}).next(()=>r)}getEntries(e,t){let r=zi();return this.Ln(e,t,(o,u)=>{const f=this.$n(o,u);r=r.insert(o,f)}).next(()=>r)}Un(e,t){let r=zi(),o=new Xn(je.comparator);return this.Ln(e,t,(u,f)=>{const y=this.$n(u,f);r=r.insert(u,y),o=o.insert(u,Bv(f))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return ce.resolve();let o=new Fn(eD);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(Lh(o.first()),Lh(o.last())),f=o.getIterator();let y=f.getNext();return sl(e).Wt({index:"documentKeyIndex",range:u},(E,T,R)=>{const N=je.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;y&&eD(y,N)<0;)r(y,null),y=f.getNext();y&&y.isEqual(N)&&(r(y,T),y=f.hasNext()?f.getNext():null),y?R.Ut(Lh(y)):R.done()}).next(()=>{for(;y;)r(y,null),y=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Km(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sl(e).qt(IDBKeyRange.bound(o,u,!0)).next(f=>{let y=zi();for(const E of f){const T=this.$n(je.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);y=y.insert(T.key,T)}return y})}getAllFromCollectionGroup(e,t,r,o){let u=zi();const f=XC(t,r),y=XC(t,qa.max());return sl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,y,!0)},(E,T,R)=>{const N=this.$n(je.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);u=u.insert(N.key,N),u.size===o&&R.done()}).next(()=>u)}newChangeBuffer(e){return new Hv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ey(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Fn(e,t){return ey(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function GC(n,e){let t;if(e.document)t=Dv(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),o=Nc(e.noDocument.readTime);t=Mn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Qe();{const r=je.fromSegments(e.unknownDocument.path),o=Nc(e.unknownDocument.version);t=Mn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Un(r[0],r[1]);return bt.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return Mn.newInvalidDocument(e)}}class Hv extends Xm{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Wa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Fn((u,f)=>Ot(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const y=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,y.readTime)),f.isValidDocument()){const E=Wi(this.Kn.M,f);o=o.add(u.path.popLast()),r+=Bv(E)-y.size,t.push(this.Kn.addEntry(e,u,E))}else if(r-=y.size,this.trackRemovals){const E=Wi(this.Kn.M,f.convertToNoDocument(bt.min()));t.push(this.Kn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,f)=>{this.Gn.set(u,{size:f,readTime:r.get(u).readTime})}),r))}}function ey(n){return Fr(n,"remoteDocumentGlobal")}function sl(n){return Fr(n,"remoteDocumentsV14")}function Lh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function XC(n,e){const t=e.documentKey.path.toArray();return[n,Km(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eD(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Ot(t[u],r[u]),o)return o;return o=Ot(t.length,r.length),o||(o=Ot(t[t.length-2],r[r.length-2]),o||Ot(t[t.length-1],r[r.length-1]))}class FA{constructor(e){this.M=e}kt(e,t,r,o){const u=new Tp("createOrUpgrade",t);var y;r<1&&o>=1&&(e.createObjectStore("owner"),(y=e).createObjectStore("mutationQueues",{keyPath:"userId"}),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JE,{unique:!0}),y.createObjectStore("documentMutations"),tD(e),function(y){y.createObjectStore("remoteDocuments")}(e));let f=ce.resolve();return r<3&&o>=3&&(0!==r&&(function(y){y.deleteObjectStore("targetDocuments"),y.deleteObjectStore("targets"),y.deleteObjectStore("targetGlobal")}(e),tD(e)),f=f.next(()=>function(y){const E=y.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",T)}(u))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(y,E){return E.store("mutations").qt().next(T=>{y.deleteObjectStore("mutations"),y.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JE,{unique:!0});const R=E.store("mutations"),N=T.map(Z=>R.put(Z));return ce.waitFor(N)})}(e,u))),f=f.next(()=>{!function(y){y.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.Qn(u))),r<6&&o>=6&&(f=f.next(()=>(function(y){y.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(f=f.next(()=>this.Wn(u))),r<8&&o>=8&&(f=f.next(()=>this.zn(e,u))),r<9&&o>=9&&(f=f.next(()=>{!function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(f=f.next(()=>this.Hn(u))),r<11&&o>=11&&(f=f.next(()=>{(function(y){y.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(y){y.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(f=f.next(()=>{!function(y){const E=y.createObjectStore("documentOverlays",{keyPath:NA});E.createIndex("collectionPathOverlayIndex",OA,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",Zm,{unique:!1})}(e)})),r<13&&o>=13&&(f=f.next(()=>function(y){const E=y.createObjectStore("remoteDocumentsV14",{keyPath:eb});E.createIndex("documentKeyIndex",jC),E.createIndex("collectionGroupIndex",HC)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(f=f.next(()=>{!function(y){y.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),y.createObjectStore("indexState",{keyPath:SA}).createIndex("sequenceNumberIndex",xA,{unique:!1}),y.createObjectStore("indexEntries",{keyPath:MA}).createIndex("documentKeyIndex",RA,{unique:!1})}(e)})),f}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=Bv(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>ce.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",f).next(y=>ce.forEach(y,E=>{Ct(E.userId===u.userId);const T=xh(this.M,E);return pb(e,u.userId,T).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((f,y)=>{const E=new en(f),T=[0,gi(E)];u.push(t.get(T).next(R=>R?ce.resolve():t.put({targetId:0,path:gi(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ce.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:AA});const r=t.store("collectionParents"),o=new Vv,u=f=>{if(o.add(f)){const y=f.lastSegment(),E=f.popLast();return r.put({collectionId:y,parent:gi(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(f,y)=>{const E=new en(f);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([f,y,E],T)=>{const R=Io(y);return u(R.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=Oc(o),f=Pv(this.M,u);return t.put(f)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,f)=>{const y=t.store("remoteDocumentsV14"),E=(T=f,T.document?new je(en.fromString(T.document.name).popFirst(5)):T.noDocument?je.fromSegments(T.noDocument.path):T.unknownDocument?je.fromSegments(T.unknownDocument.path):Qe()).path.toArray();var T;const R={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};o.push(y.put(R))}).next(()=>ce.waitFor(o))}}function tD(n){n.createObjectStore("targetDocuments",{keyPath:tb}).createIndex("documentTargetsIndex",TA,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DA,{unique:!0}),n.createObjectStore("targetGlobal")}const wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eb{constructor(e,t,r,o,u,f,y,E,T,R,N=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=f,this.document=y,this.Xn=T,this.Zn=R,this.ts=N,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Z=>Promise.resolve(),!Eb.vt())throw new De(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vb(this,o),this.hs=t+"main",this.M=new Wm(E),this.ls=new qs(this.hs,this.ts,new FA(this.M)),this.fs=new kA(this.referenceDelegate,this.M),this.ds=new JC(this.M),this._s=new ub,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===R&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(ae.FAILED_PRECONDITION,wb);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ls(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Np(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(el(e))return Re("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ty(e).get("owner").next(t=>ce.resolve(this.bs(t)))}Vs(e){return Np(e).delete(this.clientId)}vs(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fr(r,"clientMetadata");return o.qt().next(u=>{const f=e.Ds(u,18e5),y=u.filter(E=>-1===f.indexOf(E));return ce.forEach(y,E=>o.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ce.resolve(!0):ty(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new De(ae.FAILED_PRECONDITION,wb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Np(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,y=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Re("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ZC(t,ls.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Np(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return gb.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new xp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Sp.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Re("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(f=this.ts)?nb:13===f?Rc:12===f?Nv:11===f?$C:void Qe();var f;let y;return this.ls.runTransaction(e,o,u,E=>(y=new ZC(E,this.es?this.es.next():ls.A),"readwrite-primary"===t?this.Es(y).next(T=>!!T||this.As(y)).next(T=>{if(!T)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new De(ae.FAILED_PRECONDITION,rb);return r(y)}).next(T=>this.Ps(y).next(()=>T)):this.$s(y).next(()=>r(y)))).then(E=>(y.raiseOnCommittedEvent(),E))}$s(e){return ty(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new De(ae.FAILED_PRECONDITION,wb)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ty(e).put("owner",t)}static vt(){return qs.vt()}Rs(e){const t=ty(e);return t.get("owner").next(r=>this.bs(r)?(Re("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Re("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){mr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ty(n){return Fr(n,"owner")}function Np(n){return Fr(n,"clientMetadata")}function $v(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nD{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):cv(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new je(t)).next(r=>{let o=Ep();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=Ep();return this.indexManager.getCollectionParents(e,o).next(f=>ce.forEach(f,y=>{const E=(T=t,R=y.child(o),new za(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,R;return this.zs(e,E,r).next(T=>{T.forEach((R,N)=>{u=u.insert(R,N)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const f of u)for(const y of f.mutations){const E=y.key;let T=o.get(E);null==T&&(T=Mn.newInvalidDocument(E),o=o.insert(E,T)),_v(y,T,f.localWriteTime),T.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,f)=>{RE(t,f)||(o=o.remove(u))}),o))}}class qv{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=fn(),o=fn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qv(e,t.fromCache,r,o)}}class bb{Xs(e){this.Zs=e}Qs(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(bt.min())?this.ti(e,t):this.Zs.Ks(e,o).next(u=>{const f=this.ei(t,u);return(vh(t)||Rm(t))&&this.ni(t.limitType,f,o,r)?this.ti(e,t):(Q_()<=$u.in.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hv(t)),this.Zs.Qs(e,t,EE(r,-1)).next(y=>(f.forEach(E=>{y=y.insert(E.key,E)}),y)))});var u}ei(e,t){let r=new Fn(DC(e));return t.forEach((o,u)=>{RE(e,u)&&(r=r.add(u))}),r}ni(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ti(e,t){return Q_()<=$u.in.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",hv(t)),this.Zs.Qs(e,t,qa.min())}}class Ib{constructor(e,t,r,o){this.persistence=e,this.si=t,this.M=o,this.ii=new Xn(Ot),this.ri=new Wa(u=>mh(u),Za),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new nD(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Zv(n,e,t,r){return new Ib(n,e,t,r)}function Gv(n,e){return zv.apply(this,arguments)}function zv(){return zv=(0,ye.Z)(function*(n,e){const t=$e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const f=[],y=[];let E=fn();for(const T of o){f.push(T.batchId);for(const R of T.mutations)E=E.add(R.key)}for(const T of u){y.push(T.batchId);for(const R of T.mutations)E=E.add(R.key)}return t.ci.Ks(r,E).next(T=>({hi:T,removedBatchIds:f,addedBatchIds:y}))})})}),zv.apply(this,arguments)}function rD(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(f,y,E,T){const R=E.batch,N=R.keys();let Z=ce.resolve();return N.forEach(z=>{Z=Z.next(()=>T.getEntry(y,z)).next(se=>{const Ne=E.docVersions.get(z);Ct(null!==Ne),se.version.compareTo(Ne)<0&&(R.applyToRemoteDocument(se,E),se.isValidDocument()&&(se.setReadTime(E.commitVersion),T.addEntry(se)))})}),Z.next(()=>f.Bs.removeMutationBatch(y,R))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,o))})}function Wv(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function ny(n,e){const t=$e(n),r=e.snapshotVersion;let o=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ui.newChangeBuffer({trackRemovals:!0});o=t.ii;const y=[];e.targetChanges.forEach((T,R)=>{const N=o.get(R);if(!N)return;y.push(t.fs.removeMatchingKeys(u,T.removedDocuments,R).next(()=>t.fs.addMatchingKeys(u,T.addedDocuments,R)));let Z=N.withSequenceNumber(u.currentSequenceNumber);var z,se,Ne;e.targetMismatches.has(R)?Z=Z.withResumeToken(Tr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(T.resumeToken,r)),o=o.insert(R,Z),se=Z,Ne=T,(0===(z=N).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&y.push(t.fs.updateTargetData(u,Z))});let E=zi();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),y.push(iD(u,f,e.documentUpdates).next(T=>{E=T})),!r.isEqual(bt.min())){const T=t.fs.getLastRemoteSnapshotVersion(u).next(R=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));y.push(T)}return ce.waitFor(y).next(()=>f.apply(u)).next(()=>t.ci.Gs(u,E)).next(()=>E)}).then(u=>(t.ii=o,u))}function iD(n,e,t){let r=fn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=zi();return t.forEach((f,y)=>{const E=o.get(f);y.isNoDocument()&&y.version.isEqual(bt.min())?(e.removeEntry(f,y.readTime),u=u.insert(f,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),u=u.insert(f,y)):Re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",y.version)}),u})}function Cb(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ya(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,ce.resolve(o)):t.fs.allocateTargetId(r).next(f=>(o=new nl(e,f,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ii.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Vh(n,e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,ye.Z)(function*(n,e,t){const r=$e(n),o=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!el(f))throw f;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.ii=r.ii.remove(e),r.ri.delete(o.target)}),Kv.apply(this,arguments)}function ry(n,e,t){const r=$e(n);let o=bt.min(),u=fn();return r.persistence.runTransaction("Execute query","readonly",f=>function(y,E,T){const R=$e(y),N=R.ri.get(T);return void 0!==N?ce.resolve(R.ii.get(N)):R.fs.getTargetData(E,T)}(r,f,ds(e)).next(y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(f,y.targetId).next(E=>{u=E})}).next(()=>r.si.Qs(f,e,t?o:bt.min(),t?u:fn())).next(y=>(Tb(r,fv(e),y),{documents:y,li:u})))}function Db(n,e){const t=$e(n),r=$e(t.fs),o=t.ii.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(f=>f?f.target:null))}function sD(n,e){const t=$e(n),r=t.oi.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ui.getAllFromCollectionGroup(o,e,EE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Tb(t,e,o),o))}function Tb(n,e,t){let r=bt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function Yv(){return Yv=(0,ye.Z)(function*(n,e,t,r){const o=$e(n);let u=fn(),f=zi();for(const T of t){const R=e.fi(T.metadata.name);T.document&&(u=u.add(R));const N=e.di(T);N.setReadTime(e._i(T.metadata.readTime)),f=f.insert(R,N)}const y=o.ui.newChangeBuffer({trackRemovals:!0}),E=yield Ya(o,(T=r,ds(_h(en.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>iD(T,y,f).next(R=>(y.apply(T),R)).next(R=>o.fs.removeMatchingKeysForTargetId(T,E.targetId).next(()=>o.fs.addMatchingKeys(T,u,E.targetId)).next(()=>o.ci.Gs(T,R)).next(()=>R)))}),Yv.apply(this,arguments)}function aD(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,ye.Z)(function*(n,e,t=fn()){const r=yield Ya(n,ds(Ym(e.bundledQuery))),o=$e(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=Gr(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o._s.saveNamedQuery(u,e);const y=r.withResumeToken(Tr.EMPTY_BYTE_STRING,f);return o.ii=o.ii.insert(y.targetId,y),o.fs.updateTargetData(u,y).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),Qv.apply(this,arguments)}class uD{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return ce.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Gr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:Ym(r.bundledQuery),readTime:Gr(r.readTime)}),ce.resolve();var r}}class lD{constructor(){this.overlays=new Xn(je.comparator),this.gi=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.gi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const o=Ac(),u=t.length+1,f=new je(t.child("")),y=this.overlays.getIteratorFrom(f);for(;y.hasNext();){const E=y.getNext().value,T=E.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Xn((T,R)=>T-R);const f=this.overlays.getIterator();for(;f.hasNext();){const T=f.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let R=u.get(T.largestBatchId);null===R&&(R=Ac(),u=u.insert(T.largestBatchId,R)),R.set(T.getKey(),T)}}const y=Ac(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((T,R)=>y.set(T,R)),!(y.size()>=o)););return ce.resolve(y)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const f=this.gi.get(o.largestBatchId).delete(r.key);this.gi.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new ab(t,r));let u=this.gi.get(t);void 0===u&&(u=fn(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class Jv{constructor(){this.yi=new Fn(zr.pi),this.Ii=new Fn(zr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new zr(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new zr(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new je(new en([])),r=new zr(t,e),o=new zr(t,e+1),u=[];return this.Ii.forEachInRange([r,o],f=>{this.Ai(f),u.push(f.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new je(new en([])),r=new zr(t,e),o=new zr(t,e+1);let u=fn();return this.Ii.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new zr(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zr{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return je.comparator(e.key,t.key)||Ot(e.vi,t.vi)}static Ti(e,t){return Ot(e.vi,t.vi)||je.comparator(e.key,t.key)}}class LA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Fn(zr.pi)}checkEmpty(e){return ce.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.Si;this.Si++;const f=new Ap(u,t,r,o);this.Bs.push(f);for(const y of o)this.Di=this.Di.add(new zr(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return ce.resolve(f)}lookupMutationBatch(e,t){return ce.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.xi(t+1),u=o<0?0:o;return ce.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return ce.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zr(t,0),o=new zr(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,o],f=>{const y=this.Ci(f.vi);u.push(y)}),ce.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Ot);return t.forEach(o=>{const u=new zr(o,0),f=new zr(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,f],y=>{r=r.add(y.vi)})}),ce.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;je.isDocumentKey(u)||(u=u.child(""));const f=new zr(new je(u),0);let y=new Fn(Ot);return this.Di.forEachWhile(E=>{const T=E.key.path;return!!r.isPrefixOf(T)&&(T.length===o&&(y=y.add(E.vi)),!0)},f),ce.resolve(this.Ni(y))}Ni(e){const t=[];return e.forEach(r=>{const o=this.Ci(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ct(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return ce.forEach(t.mutations,o=>{const u=new zr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new zr(t,0),o=this.Di.firstAfterOrEqual(r);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ce.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class VA{constructor(e){this.Mi=e,this.docs=new Xn(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,f=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let r=zi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Mn.newInvalidDocument(o))}),ce.resolve(r)}getAllFromCollection(e,t,r){let o=zi();const u=new je(t.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:y,value:{document:E}}=f.getNext();if(!t.isPrefixOf(y.path))break;y.path.length>t.length+1||IE(bE(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Qe()}Oi(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new UA(this)}getSize(e){return ce.resolve(this.size)}}class UA extends Xm{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class BA{constructor(e){this.persistence=e,this.Fi=new Wa(t=>mh(t),Za),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new Jv,this.targetCount=0,this.Li=Ph.gn()}forEachTarget(e,t){return this.Fi.forEach((r,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),ce.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Ph(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Tn(t),ce.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Fi.forEach((f,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Fi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)}),ce.waitFor(u).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ce.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.Bi.containsKey(t))}}class cD{constructor(e,t){this.Ui={},this.overlays={},this.es=new ls(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new BA(this),this.indexManager=new KC,this.ds=new VA(r=>this.referenceDelegate.qi(r)),this.M=new Wm(t),this._s=new uD(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new LA(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new jA(this.es.next());return this.referenceDelegate.Ki(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Qi(e,t){return ce.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class jA extends ib{constructor(e){super(),this.currentSequenceNumber=e}}class Ab{constructor(e){this.persistence=e,this.ji=new Jv,this.Wi=null}static zi(e){return new Ab(e)}get Hi(){if(this.Wi)return this.Wi;throw Qe()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(o=>this.Hi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Hi,r=>{const o=je.fromPath(r);return this.Ji(e,o).next(u=>{u||t.removeEntry(o,bt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return ce.or([()=>ce.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function dD(n,e){return`firestore_clients_${n}_${e}`}function hD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function i(n,e){return`firestore_targets_${n}_${e}`}class s{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Yi(e,t,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new De(o.error.code,o.error.message))),f?new s(e,t,o.state,u):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class a{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new De(r.error.code,r.error.message))),u?new a(e,r.state,o):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class l{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=bp();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=nv(r.activeTargetIds[f]),u=u.add(r.activeTargetIds[f]);return o?new l(e,u):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class d{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new d(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class g{constructor(){this.activeTargetIds=bp()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Xn(Ot),this.started=!1,this.rr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=dD(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new g),this.cr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(y){return`firestore_bundle_loaded_v2_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.er)continue;const u=e.getItem(dD(e.persistenceKey,o));if(u){const f=l.Yi(o,u);f&&(e.ir=e.ir.insert(f.clientId,f))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const o=e.mr(r);o&&e.gr(o)}for(const o of e.rr)e.sr(o);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(i(this.persistenceKey,e));if(r){const o=a.Yi(e,r);o&&(t=o.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(i(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ir(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Re("SharedClientState","READ",e,t),t}setItem(e,t){Re("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Re("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Pr(r.key);return t.br(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Sr(o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(r.key===t.dr){if(null!==r.newValue){const o=t.mr(r.newValue);if(o)return t.gr(o)}}else if(r.key===t.ar){const o=function(u){let f=ls.A;if(null!=u)try{const y=JSON.parse(u);Ct("number"==typeof y),f=y}catch(y){mr("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(r.newValue);o!==ls.A&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.Nr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const o=new s(this.currentUser,e,t,r),u=hD(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Ir(e){const t=hD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const o=i(this.persistenceKey,e),u=new a(e,t,r);this.setItem(o,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return l.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return s.Yi(new Or(void 0!==r[2]?r[2]:null),o,t)}Dr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return a.Yi(o,t)}mr(e){return d.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Re("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),o=this.yr(this.ir),u=this.yr(r),f=[],y=[];return u.forEach(E=>{o.has(E)||f.push(E)}),o.forEach(E=>{u.has(E)||y.push(E)}),this.syncEngine.Fr(f,y).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=bp();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class w{constructor(){this.$r=new g,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new g,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class b{Lr(e){}shutdown(){}}class A{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const x={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class k{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class $ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,o,u){const f=this.uo(e,t);Re("RestConnection","Sending: ",f,r);const y={};return this.ao(y,o,u),this.co(e,f,y,r).then(E=>(Re("RestConnection","Received: ",E),E),E=>{throw lp("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}ho(e,t,r,o,u){return this.oo(e,t,r,o,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}uo(e,t){return`${this.io}/v1/${t}:${x[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,f)=>{const y=new tE;y.listenOnce(Yn.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case dh.NO_ERROR:const T=y.getResponseJson();Re("Connection","XHR received:",JSON.stringify(T)),u(T);break;case dh.TIMEOUT:Re("Connection",'RPC "'+e+'" timed out'),f(new De(ae.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const R=y.getStatus();if(Re("Connection",'RPC "'+e+'" failed with status:',R,"response text:",y.getResponseText()),R>0){const N=y.getResponseJson().error;if(N&&N.status&&N.message){const Z=function(z){const se=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(se)>=0?se:ae.UNKNOWN}(N.status);f(new De(Z,N.message))}else f(new De(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new De(ae.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Re("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);y.send(t,"POST",E,r,15)})}lo(e,t,r){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cC(),f=Tm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new dC({})),this.ao(y.initMessageHeaders,t,r),(0,Zt.uI)()||(0,Zt.b$)()||(0,Zt.d)()||(0,Zt.w1)()||(0,Zt.Mn)()||(0,Zt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Re("Connection","Creating WebChannel: "+E,y);const T=u.createWebChannel(E,y);let R=!1,N=!1;const Z=new k({Wr:se=>{N?Re("Connection","Not sending because WebChannel is closed:",se):(R||(Re("Connection","Opening WebChannel transport."),T.open(),R=!0),Re("Connection","WebChannel sending:",se),T.send(se))},zr:()=>T.close()}),z=(se,Ne,Ze)=>{se.listen(Ne,lt=>{try{Ze(lt)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return z(T,Am.EventType.OPEN,()=>{N||Re("Connection","WebChannel transport opened.")}),z(T,Am.EventType.CLOSE,()=>{N||(N=!0,Re("Connection","WebChannel transport closed"),Z.no())}),z(T,Am.EventType.ERROR,se=>{N||(N=!0,lp("Connection","WebChannel transport errored:",se),Z.no(new De(ae.UNAVAILABLE,"The operation could not be completed")))}),z(T,Am.EventType.MESSAGE,se=>{var Ne;if(!N){const Ze=se.data[0];Ct(!!Ze);const lt=Ze,Bt=lt.error||(null===(Ne=lt[0])||void 0===Ne?void 0:Ne.error);if(Bt){Re("Connection","WebChannel received error:",Bt);const xt=Bt.status;let It=function(vn){const Qi=Hn[vn];if(void 0!==Qi)return UE(Qi)}(xt),$t=Bt.message;void 0===It&&(It=ae.INTERNAL,$t="Unknown error status: "+xt+" with message "+Bt.message),N=!0,Z.no(new De(It,$t)),T.close()}else Re("Connection","WebChannel received:",Ze),Z.so(Ze)}}),z(f,EA.STAT_EVENT,se=>{se.stat===K_.PROXY?Re("Connection","Detected buffering proxy"):se.stat===K_.NOPROXY&&Re("Connection","Detected no buffering proxy")}),setTimeout(()=>{Z.eo()},0),Z}}function Q(){return"undefined"!=typeof window?window:null}function pe(){return"undefined"!=typeof document?document:null}function Pe(n){return new Pi(n,!0)}class Be{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Je{constructor(e,t,r,o,u,f,y,E){this.Yn=e,this.Ro=r,this.Po=o,this.bo=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Be(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,ye.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,ye.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.qo(r,o)},r=>{e(()=>{const o=new De(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(o)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{r(()=>this.Ko(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}No(){var e=this;this.state=5,this.Do.To((0,ye.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class we extends Je{constructor(e,t,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Tv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Qe(),o=e.targetChange.targetIds||[],u=function(E,T){return E.N?(Ct(void 0===T||"string"==typeof T),Tr.fromBase64String(T||"")):(Ct(void 0===T||T instanceof Uint8Array),Tr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&function(E){const T=void 0===E.code?ae.UNKNOWN:UE(E.code);return new De(T,E.message||"")}(f);t=new bv(r,o,u,y||null)}else if("documentChange"in e){const r=e.documentChange,o=ia(n,r.document.name),u=Gr(r.document.updateTime),f=new hi({mapValue:{fields:r.document.fields}}),y=Mn.newFoundDocument(o,u,f);t=new Vm(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,o=ia(n,r.document),u=r.readTime?Gr(r.readTime):bt.min(),f=Mn.newNoDocument(o,u);t=new Vm([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=ia(n,r.document);t=new Vm([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Qe();{const r=e.filter,u=new RC(r.count||0);t=new Ev(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return bt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?Gr(u.readTime):bt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Ip(this.M),t.addTarget=function(o,u){let f;const y=u.target;return f=Mm(y)?{documents:Av(o,y)}:{query:Cp(o,y)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?f.resumeToken=GE(o,u.resumeToken):u.snapshotVersion.compareTo(bt.min())>0&&(f.readTime=ra(o,u.snapshotVersion.toTimestamp())),f}(this.M,e);const r=function VC(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Ip(this.M),t.removeTarget=e,this.Fo(t)}}class pt extends Je{constructor(e,t,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function LC(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,o){let u=Gr(r.updateTime?r.updateTime:o);return u.isEqual(bt.min())&&(u=Gr(o)),new SC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.Yo(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Ip(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Hm(this.M,r))};this.Fo(t)}}class zt extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.tu=!1}eu(){if(this.tu)throw new De(ae.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.oo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ae.UNKNOWN,o.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ho(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ae.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class pn{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(mr(t),this.iu=!1):Re("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class hs{constructor(e,t,r,o,u){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(y=>{r.enqueueAndForget((0,ye.Z)(function*(){var E;Bh(f)&&(Re("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ye.Z)(function*(T){const R=$e(T);R.fu.add(4),yield ol(R),R.wu.set("Unknown"),R.fu.delete(4),yield Co(R)}),function(T){return E.apply(this,arguments)})(f))}))}),this.wu=new pn(r,o)}}function Co(n){return Op.apply(this,arguments)}function Op(){return Op=(0,ye.Z)(function*(n){if(Bh(n))for(const e of n.du)yield e(!0)}),Op.apply(this,arguments)}function ol(n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,ye.Z)(function*(n){for(const e of n.du)yield e(!1)}),Pp.apply(this,arguments)}function Uh(n,e){const t=$e(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Lp(t)?Fp(t):oy(t).xo()&&kp(t,e))}function Uc(n,e){const t=$e(n),r=oy(t);t.lu.delete(e),r.xo()&&iy(t,e),0===t.lu.size&&(r.xo()?r.Mo():Bh(t)&&t.wu.set("Unknown"))}function kp(n,e){n.mu.Z(e.targetId),oy(n).jo(e)}function iy(n,e){n.mu.Z(e),oy(n).Wo(e)}function Fp(n){n.mu=new $E({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),oy(n).start(),n.wu.ru()}function Lp(n){return Bh(n)&&!oy(n).Co()&&n.lu.size>0}function Bh(n){return 0===$e(n).fu.size}function HA(n){n.mu=void 0}function rM(n){return fD.apply(this,arguments)}function fD(){return fD=(0,ye.Z)(function*(n){n.lu.forEach((e,t)=>{kp(n,e)})}),fD.apply(this,arguments)}function iM(n,e){return pD.apply(this,arguments)}function pD(){return pD=(0,ye.Z)(function*(n,e){HA(n),Lp(n)?(n.wu.au(e),Fp(n)):n.wu.set("Unknown")}),pD.apply(this,arguments)}function sM(n,e,t){return gD.apply(this,arguments)}function gD(){return gD=(0,ye.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof bv&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const f=u.cause;for(const y of u.targetIds)o.lu.has(y)&&(yield o.remoteSyncer.rejectListen(y,f),o.lu.delete(y),o.mu.removeTarget(y))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sb(n,r)}else if(e instanceof Vm?n.mu.ut(e):e instanceof Ev?n.mu._t(e):n.mu.ht(e),!t.isEqual(bt.min()))try{const r=yield Wv(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const f=o.mu.yt(u);return f.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const T=o.lu.get(E);T&&o.lu.set(E,T.withResumeToken(y.resumeToken,u))}}),f.targetMismatches.forEach(y=>{const E=o.lu.get(y);if(!E)return;o.lu.set(y,E.withResumeToken(Tr.EMPTY_BYTE_STRING,E.snapshotVersion)),iy(o,y);const T=new nl(E.target,y,1,E.sequenceNumber);kp(o,T)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),yield Sb(n,r)}var r}),gD.apply(this,arguments)}function Sb(n,e,t){return mD.apply(this,arguments)}function mD(){return mD=(0,ye.Z)(function*(n,e,t){if(!el(e))throw e;n.fu.add(1),yield ol(n),n.wu.set("Offline"),t||(t=()=>Wv(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Re("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Co(n)}))}),mD.apply(this,arguments)}function $A(n,e){return e().catch(t=>Sb(n,t,e))}function sy(n){return yD.apply(this,arguments)}function yD(){return yD=(0,ye.Z)(function*(n){const e=$e(n),t=jh(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;oM(e);)try{const o=yield Cb(e.localStore,r);if(null===o){0===e.hu.length&&t.Mo();break}r=o.batchId,aM(e,o)}catch(o){yield Sb(e,o)}qA(e)&&ZA(e)}),yD.apply(this,arguments)}function oM(n){return Bh(n)&&n.hu.length<10}function aM(n,e){n.hu.push(e);const t=jh(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function qA(n){return Bh(n)&&!jh(n).Co()&&n.hu.length>0}function ZA(n){jh(n).start()}function uM(n){return _D.apply(this,arguments)}function _D(){return _D=(0,ye.Z)(function*(n){jh(n).Zo()}),_D.apply(this,arguments)}function lM(n){return vD.apply(this,arguments)}function vD(){return vD=(0,ye.Z)(function*(n){const e=jh(n);for(const t of n.hu)e.Jo(t.mutations)}),vD.apply(this,arguments)}function cM(n,e,t){return wD.apply(this,arguments)}function wD(){return wD=(0,ye.Z)(function*(n,e,t){const r=n.hu.shift(),o=Ov.from(r,e,t);yield $A(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield sy(n)}),wD.apply(this,arguments)}function dM(n,e){return ED.apply(this,arguments)}function ED(){return ED=(0,ye.Z)(function*(n,e){var t;e&&jh(n).Ho&&(yield(t=(0,ye.Z)(function*(r,o){if(VE(u=o.code)&&u!==ae.ABORTED){const f=r.hu.shift();jh(r).ko(),yield $A(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield sy(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),qA(n)&&ZA(n)}),ED.apply(this,arguments)}function GA(n,e){return bD.apply(this,arguments)}function bD(){return bD=(0,ye.Z)(function*(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=Bh(t);t.fu.add(3),yield ol(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Co(t)}),bD.apply(this,arguments)}function ID(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,ye.Z)(function*(n,e){const t=$e(n);e?(t.fu.delete(2),yield Co(t)):e||(t.fu.add(2),yield ol(t),t.wu.set("Unknown"))}),CD.apply(this,arguments)}function oy(n){return n.gu||(n.gu=function(e,t,r){const o=$e(e);return o.eu(),new we(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:rM.bind(null,n),Yr:iM.bind(null,n),Qo:sM.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.gu.ko(),Lp(n)?Fp(n):n.wu.set("Unknown")):(yield n.gu.stop(),HA(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function jh(n){return n.yu||(n.yu=function(e,t,r){const o=$e(e);return o.eu(),new pt(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:uM.bind(null,n),Yr:dM.bind(null,n),Xo:lM.bind(null,n),Yo:cM.bind(null,n)}),n.du.push(function(){var e=(0,ye.Z)(function*(t){t?(n.yu.ko(),yield sy(n)):(yield n.yu.stop(),n.hu.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class DD{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,u){const f=Date.now()+r,y=new DD(e,t,f,o,u);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ay(n,e){if(mr("AsyncQueue",`${e}: ${n}`),el(n))return new De(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=Ep(),this.sortedSet=new Xn(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zA{constructor(){this.pu=new Xn(je.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Qe():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ly{constructor(e,t,r,o,u,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new ly(e,t,uy.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class hM{constructor(){this.Tu=void 0,this.listeners=[]}}class fM{constructor(){this.queries=new Wa(e=>dv(e),Nm),this.onlineState="Unknown",this.Eu=new Set}}function TD(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,ye.Z)(function*(n,e){const t=$e(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new hM),o)try{u.Tu=yield t.onListen(r)}catch(f){const y=ay(f,`Initialization of query '${hv(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&MD(t)}),AD.apply(this,arguments)}function SD(n,e){return xD.apply(this,arguments)}function xD(){return xD=(0,ye.Z)(function*(n,e){const t=$e(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const f=u.listeners.indexOf(e);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),xD.apply(this,arguments)}function pM(n,e){const t=$e(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const y of f.listeners)y.Ru(o)&&(r=!0);f.Tu=o}}r&&MD(t)}function gM(n,e,t){const r=$e(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function MD(n){n.Eu.forEach(e=>{e.next()})}class RD{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new ly(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=ly.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class mM{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class WA{constructor(e){this.M=e}fi(e){return ia(this.M,e)}di(e){return e.metadata.exists?Dv(this.M,e.document,!1):Mn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Gr(e)}}class yM{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KA(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=en.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new WA(this.M);for(const o of e)if(o.metadata.queries){const u=r.fi(o.metadata.name);for(const f of o.metadata.queries){const y=(t.get(f)||fn()).add(u);t.set(f,y)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function oD(n,e,t,r){return Yv.apply(this,arguments)}(e.localStore,new WA(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const o of e.queries)yield aD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function KA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class YA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class JA{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=fn(),this.mutatedKeys=fn(),this.Uu=DC(e),this.qu=new uy(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new zA,o=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,y=!1;const E=vh(this.query)&&o.size===this.query.limit?o.last():null,T=Rm(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((R,N)=>{const Z=o.get(R),z=RE(this.query,N)?N:null,se=!!Z&&this.mutatedKeys.has(Z.key),Ne=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Ze=!1;Z&&z?Z.data.isEqual(z.data)?se!==Ne&&(r.track({type:3,doc:z}),Ze=!0):this.ju(Z,z)||(r.track({type:2,doc:z}),Ze=!0,(E&&this.Uu(z,E)>0||T&&this.Uu(z,T)<0)&&(y=!0)):!Z&&z?(r.track({type:0,doc:z}),Ze=!0):Z&&!z&&(r.track({type:1,doc:Z}),Ze=!0,(E||T)&&(y=!0)),Ze&&(z?(f=f.add(z),u=Ne?u.add(R):u.delete(R)):(f=f.delete(R),u=u.delete(R)))}),vh(this.query)||Rm(this.query))for(;f.size>this.query.limit;){const R=vh(this.query)?f.last():f.first();f=f.delete(R.key),u=u.delete(R.key),r.track({type:1,doc:R})}return{qu:f,Qu:r,ni:y,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((T,R)=>function(N,Z){const z=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return z(N)-z(Z)}(T.type,R.type)||this.Uu(T.doc,R.doc)),this.Wu(r);const f=t?this.zu():[],y=0===this.Lu.size&&this.current?1:0,E=y!==this.Bu;return this.Bu=y,0!==u.length||E?{snapshot:new ly(this.query,e.qu,o,u,e.mutatedKeys,0===y,E,!1),Hu:f}:{Hu:f}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new zA,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=fn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new QA(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new YA(r))}),t}Yu(e){this.$u=e.li,this.Lu=fn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return ly.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class _M{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vM{constructor(e){this.key=e,this.Zu=!1}}class wM{constructor(e,t,r,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.ta={},this.ea=new Wa(y=>dv(y),Nm),this.na=new Map,this.sa=new Set,this.ia=new Xn(je.comparator),this.ra=new Map,this.oa=new Jv,this.ua={},this.aa=new Map,this.ca=Ph.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function EM(n,e){return ND.apply(this,arguments)}function ND(){return ND=(0,ye.Z)(function*(n,e){const t=tT(n);let r,o;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Xu();else{const f=yield Ya(t.localStore,ds(e));t.isPrimaryClient&&Uh(t.remoteStore,f);const y=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield OD(t,e,r,"current"===y)}return o}),ND.apply(this,arguments)}function OD(n,e,t,r){return PD.apply(this,arguments)}function PD(){return PD=(0,ye.Z)(function*(n,e,t,r){n.la=(R,N,Z)=>{return(z=(0,ye.Z)(function*(se,Ne,Ze,lt){let Bt=Ne.view.Gu(Ze);Bt.ni&&(Bt=yield ry(se.localStore,Ne.query,!1).then(({documents:$t})=>Ne.view.Gu($t,Bt)));const xt=lt&&lt.targetChanges.get(Ne.targetId),It=Ne.view.applyChanges(Bt,se.isPrimaryClient,xt);return qD(se,Ne.targetId,It.Hu),It.snapshot}),function(se,Ne,Ze,lt){return z.apply(this,arguments)})(n,R,N,Z);var z};const o=yield ry(n.localStore,e,!0),u=new JA(e,o.li),f=u.Gu(o.documents),y=Th.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(f,n.isPrimaryClient,y);qD(n,t,E.Hu);const T=new _M(e,t,u);return n.ea.set(e,T),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),E.snapshot}),PD.apply(this,arguments)}function bM(n,e){return kD.apply(this,arguments)}function kD(){return kD=(0,ye.Z)(function*(n,e){const t=$e(n),r=t.ea.get(e),o=t.na.get(r.targetId);if(o.length>1)return t.na.set(r.targetId,o.filter(u=>!Nm(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Vh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Uc(t.remoteStore,r.targetId),cy(t,r.targetId)}).catch(Lc))):(cy(t,r.targetId),yield Vh(t.localStore,r.targetId,!0))}),kD.apply(this,arguments)}function FD(){return FD=(0,ye.Z)(function*(n,e,t){const r=nT(n);try{const o=yield function(u,f){const y=$e(u),E=Un.now(),T=f.reduce((N,Z)=>N.add(Z.key),fn());let R;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>y.ci.Ks(N,T).next(Z=>{R=Z;const z=[];for(const se of f){const Ne=MC(se,R.get(se.key));null!=Ne&&z.push(new pi(se.key,Ne,Sm(Ne.value.mapValue),yr.exists(!0)))}return y.Bs.addMutationBatch(N,E,z,f)})).then(N=>(N.applyToLocalDocumentSet(R),{batchId:N.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,y){let E=u.ua[u.currentUser.toKey()];E||(E=new Xn(Ot)),E=E.insert(f,y),u.ua[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Bc(r,o.changes),yield sy(r.remoteStore)}catch(o){const u=ay(o,"Failed to persist write");t.reject(u)}}),FD.apply(this,arguments)}function XA(n,e){return LD.apply(this,arguments)}function LD(){return LD=(0,ye.Z)(function*(n,e){const t=$e(n);try{const r=yield ny(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.ra.get(u);f&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Zu=!0:o.modifiedDocuments.size>0?Ct(f.Zu):o.removedDocuments.size>0&&(Ct(f.Zu),f.Zu=!1))}),yield Bc(t,r,e)}catch(r){yield Lc(r)}}),LD.apply(this,arguments)}function eS(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ea.forEach((u,f)=>{const y=f.view.Au(e);y.snapshot&&o.push(y.snapshot)}),function(u,f){const y=$e(u);y.onlineState=f;let E=!1;y.queries.forEach((T,R)=>{for(const N of R.listeners)N.Au(f)&&(E=!0)}),E&&MD(y)}(r.eventManager,e),o.length&&r.ta.Qo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function CM(n,e,t){return VD.apply(this,arguments)}function VD(){return VD=(0,ye.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ra.get(e),u=o&&o.key;if(u){let f=new Xn(je.comparator);f=f.insert(u,Mn.newNoDocument(u,bt.min()));const y=fn().add(u),E=new Sc(bt.min(),new Map,new Fn(Ot),f,y);yield XA(r,E),r.ia=r.ia.remove(u),r.ra.delete(e),ZD(r)}else yield Vh(r.localStore,e,!1).then(()=>cy(r,e,t)).catch(Lc)}),VD.apply(this,arguments)}function DM(n,e){return UD.apply(this,arguments)}function UD(){return UD=(0,ye.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const o=yield rD(t.localStore,e);$D(t,r,null),HD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bc(t,o)}catch(o){yield Lc(o)}}),UD.apply(this,arguments)}function TM(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=(0,ye.Z)(function*(n,e,t){const r=$e(n);try{const o=yield function(u,f){const y=$e(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let T;return y.Bs.lookupMutationBatch(E,f).next(R=>(Ct(null!==R),T=R.keys(),y.Bs.removeMutationBatch(E,R))).next(()=>y.Bs.performConsistencyCheck(E)).next(()=>y.ci.Ks(E,T))})}(r.localStore,e);$D(r,e,t),HD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bc(r,o)}catch(o){yield Lc(o)}}),BD.apply(this,arguments)}function jD(){return jD=(0,ye.Z)(function*(n,e){const t=$e(n);Bh(t.remoteStore)||Re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const f=$e(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>f.Bs.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const o=t.aa.get(r)||[];o.push(e),t.aa.set(r,o)}catch(r){const o=ay(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),jD.apply(this,arguments)}function HD(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function $D(n,e,t){const r=$e(n);let o=r.ua[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ua[r.currentUser.toKey()]=o}}function cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||tS(n,r)})}function tS(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(Uc(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),ZD(n))}function qD(n,e,t){for(const r of t)r instanceof YA?(n.oa.addReference(r.key,e),SM(n,r)):r instanceof QA?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||tS(n,r.key)):Qe()}function SM(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.sa.add(r),ZD(n))}function ZD(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new je(en.fromString(e)),r=n.ca.next();n.ra.set(r,new vM(t)),n.ia=n.ia.insert(t,r),Uh(n.remoteStore,new nl(ds(_h(t.path)),r,2,ls.A))}}function Bc(n,e,t){return GD.apply(this,arguments)}function GD(){return GD=(0,ye.Z)(function*(n,e,t){const r=$e(n),o=[],u=[],f=[];var y;r.ea.isEmpty()||(r.ea.forEach((y,E)=>{f.push(r.la(E,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,T.fromCache?"not-current":"current"),o.push(T);const R=qv.Ys(E.targetId,T);u.push(R)}}))}),yield Promise.all(f),r.ta.Qo(o),yield(y=(0,ye.Z)(function*(E,T){const R=$e(E);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ce.forEach(T,Z=>ce.forEach(Z.Hs,z=>R.persistence.referenceDelegate.addReference(N,Z.targetId,z)).next(()=>ce.forEach(Z.Js,z=>R.persistence.referenceDelegate.removeReference(N,Z.targetId,z)))))}catch(N){if(!el(N))throw N;Re("LocalStore","Failed to update sequence numbers: "+N)}for(const N of T){const Z=N.targetId;if(!N.fromCache){const z=R.ii.get(Z),Ne=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);R.ii=R.ii.insert(Z,Ne)}}}),function(E,T){return y.apply(this,arguments)})(r.localStore,u))}),GD.apply(this,arguments)}function xM(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,ye.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=yield Gv(t.localStore,e);t.currentUser=e,(o=t).aa.forEach(f=>{f.forEach(y=>{y.reject(new De(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bc(t,r.hi)}var o}),zD.apply(this,arguments)}function MM(n,e){const t=$e(n),r=t.ra.get(e);if(r&&r.Zu)return fn().add(r.key);{let o=fn();const u=t.na.get(e);if(!u)return o;for(const f of u){const y=t.ea.get(f);o=o.unionWith(y.view.Ku)}return o}}function RM(n,e){return WD.apply(this,arguments)}function WD(){return WD=(0,ye.Z)(function*(n,e){const t=$e(n),r=yield ry(t.localStore,e.query,!0),o=e.view.Yu(r);return t.isPrimaryClient&&qD(t,e.targetId,o.Hu),o}),WD.apply(this,arguments)}function NM(n,e){return KD.apply(this,arguments)}function KD(){return KD=(0,ye.Z)(function*(n,e){const t=$e(n);return sD(t.localStore,e).then(r=>Bc(t,r))}),KD.apply(this,arguments)}function OM(n,e,t,r){return YD.apply(this,arguments)}function YD(){return YD=(0,ye.Z)(function*(n,e,t,r){const o=$e(n),u=yield function(f,y){const E=$e(f),T=$e(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",R=>T.fn(R,y).next(N=>N?E.ci.Ks(R,N):ce.resolve(null)))}(o.localStore,e);var y;null!==u?("pending"===t?yield sy(o.remoteStore):"acknowledged"===t||"rejected"===t?($D(o,e,r||null),HD(o,e),y=e,$e($e(o.localStore).Bs)._n(y)):Qe(),yield Bc(o,u)):Re("SyncEngine","Cannot apply mutation batch with id: "+e)}),YD.apply(this,arguments)}function QD(){return QD=(0,ye.Z)(function*(n,e){const t=$e(n);if(tT(t),nT(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield nS(t,r.toArray());t.ha=!0,yield ID(t.remoteStore,!0);for(const u of o)Uh(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let o=Promise.resolve();t.na.forEach((u,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(cy(t,f),Vh(t.localStore,f,!0))),Uc(t.remoteStore,f)}),yield o,yield nS(t,r),function(u){const f=$e(u);f.ra.forEach((y,E)=>{Uc(f.remoteStore,E)}),f.oa.bi(),f.ra=new Map,f.ia=new Xn(je.comparator)}(t),t.ha=!1,yield ID(t.remoteStore,!1)}}),QD.apply(this,arguments)}function nS(n,e,t){return JD.apply(this,arguments)}function JD(){return JD=(0,ye.Z)(function*(n,e,t){const r=$e(n),o=[],u=[];for(const f of e){let y;const E=r.na.get(f);if(E&&0!==E.length){y=yield Ya(r.localStore,ds(E[0]));for(const T of E){const R=r.ea.get(T),N=yield RM(r,R);N.snapshot&&u.push(N.snapshot)}}else{const T=yield Db(r.localStore,f);y=yield Ya(r.localStore,T),yield OD(r,rS(T),f,!1)}o.push(y)}return r.ta.Qo(u),o}),JD.apply(this,arguments)}function rS(n){return xE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kM(n){const e=$e(n);return $e($e(e.localStore).persistence).Fs()}function FM(n,e,t,r){return XD.apply(this,arguments)}function XD(){return XD=(0,ye.Z)(function*(n,e,t,r){const o=$e(n);if(o.ha)return void Re("SyncEngine","Ignoring unexpected query state notification.");const u=o.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const f=yield sD(o.localStore,fv(u[0])),y=Sc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Bc(o,f,y);break}case"rejected":yield Vh(o.localStore,e,!0),cy(o,e,r);break;default:Qe()}}),XD.apply(this,arguments)}function LM(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=(0,ye.Z)(function*(n,e,t){const r=tT(n);if(r.ha){for(const o of e){if(r.na.has(o)){Re("SyncEngine","Adding an already active target "+o);continue}const u=yield Db(r.localStore,o),f=yield Ya(r.localStore,u);yield OD(r,rS(u),f.targetId,!1),Uh(r.remoteStore,f)}for(const o of t)r.na.has(o)&&(yield Vh(r.localStore,o,!1).then(()=>{Uc(r.remoteStore,o),cy(r,o)}).catch(Lc))}}),eT.apply(this,arguments)}function tT(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CM.bind(null,e),e.ta.Qo=pM.bind(null,e.eventManager),e.ta.fa=gM.bind(null,e.eventManager),e}function nT(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TM.bind(null,e),e}class iS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.M=Pe(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Zv(this.persistence,new bb,e.initialUser,this.M)}wa(e){return new cD(Ab.zi,this.M)}_a(e){return new w}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sS extends iS{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield nT(r.ya.syncEngine),yield sy(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return Zv(this.persistence,new bb,e.initialUser,this.M)}ma(e){return new _b(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=$v(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new Eb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Q(),pe(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new w}}class UM extends sS{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.ya.syncEngine;r.sharedClientState instanceof _&&(r.sharedClientState.syncEngine={Mr:OM.bind(null,o),Or:FM.bind(null,o),Fr:LM.bind(null,o),Fs:kM.bind(null,o),kr:NM.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,ye.Z)(function*(f){yield function PM(n,e){return QD.apply(this,arguments)}(r.ya.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}_a(e){const t=Q();if(!_.vt(t))throw new De(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$v(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class rT{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>eS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=xM.bind(null,r.syncEngine),yield ID(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fM}createDatastore(e){const t=Pe(e.databaseInfo.databaseId),r=new $(e.databaseInfo);return new zt(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=y=>eS(this.syncEngine,y,0),f=A.vt()?new A:new b,new hs(t,r,o,u,f);var t,r,o,u,f}createSyncEngine(e,t){return function(r,o,u,f,y,E,T){const R=new wM(r,o,u,f,y,E);return T&&(R.ha=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=$e(t);Re("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield ol(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oS(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BM{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Qn,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),o=Number(r);isNaN(o)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new mM(JSON.parse(u),t.length+o)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,ye.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class jM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new De(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,f){const y=$e(u),E=Ip(y.M)+"/documents",T={documents:f.map(z=>Mc(y.M,z))},R=yield y.ho("BatchGetDocuments",E,T),N=new Map;R.forEach(z=>{const se=function jm(n,e){return"found"in e?function(t,r){Ct(!!r.found);const o=ia(t,r.found.name),u=Gr(r.found.updateTime),f=new hi({mapValue:{fields:r.found.fields}});return Mn.newFoundDocument(o,u,f)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const o=ia(t,r.missing),u=Gr(r.readTime);return Mn.newNoDocument(o,u)}(n,e):Qe()}(y.M,z);N.set(se.key.toString(),se)});const Z=[];return f.forEach(z=>{const se=N.get(z.toString());Ct(!!se),Z.push(se)}),Z}),function(u,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=je.fromPath(o);e.mutations.push(new vv(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const f=$e(o),y=Ip(f.M)+"/documents",E={writes:u.map(T=>Hm(f.M,T))};yield f.oo("Commit",y,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qe();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new De(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yr.updateTime(t):yr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new De(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class HM{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.Sa=5,this.Do=new Be(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,ye.Z)(function*(){const t=new jM(e.datastore),r=e.Ca(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.xa(u)}))}).catch(o=>{e.xa(o)})}))}Ca(e){try{const t=this.updateFunction(e);return!Ha(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!VE(t)}return!1}}class $M{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Or.UNAUTHENTICATED,this.clientId=gC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,ye.Z)(function*(y){Re("FirestoreClient","Received user=",y.uid),yield u.authCredentialListener(y),u.user=y});return function(y){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Re("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ay(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function aS(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield Gv(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),iT.apply(this,arguments)}function uS(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield oT(n);Re("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>GA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>GA(e.remoteStore,u)),n.onlineComponents=e}),sT.apply(this,arguments)}function oT(n){return aT.apply(this,arguments)}function aT(){return aT=(0,ye.Z)(function*(n){return n.offlineComponents||(Re("FirestoreClient","Using default OfflineComponentProvider"),yield aS(n,new iS)),n.offlineComponents}),aT.apply(this,arguments)}function Mb(n){return uT.apply(this,arguments)}function uT(){return uT=(0,ye.Z)(function*(n){return n.onlineComponents||(Re("FirestoreClient","Using default OnlineComponentProvider"),yield uS(n,new rT)),n.onlineComponents}),uT.apply(this,arguments)}function lS(n){return oT(n).then(e=>e.persistence)}function lT(n){return oT(n).then(e=>e.localStore)}function cS(n){return Mb(n).then(e=>e.remoteStore)}function cT(n){return Mb(n).then(e=>e.syncEngine)}function dy(n){return dT.apply(this,arguments)}function dT(){return dT=(0,ye.Z)(function*(n){const e=yield Mb(n),t=e.eventManager;return t.onListen=EM.bind(null,e.syncEngine),t.onUnlisten=bM.bind(null,e.syncEngine),t}),dT.apply(this,arguments)}function dS(n,e,t={}){const r=new Qn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,f,y,E){const T=new xb({next:N=>{u.enqueueAndForget(()=>SD(o,R));const Z=N.docs.has(f);!Z&&N.fromCache?E.reject(new De(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&N.fromCache&&y&&"server"===y.source?E.reject(new De(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(N)},error:N=>E.reject(N)}),R=new RD(_h(f.path),T,{includeMetadataChanges:!0,Cu:!0});return TD(o,R)}(yield dy(n),n.asyncQueue,e,t,r)})),r.promise}function hS(n,e,t={}){const r=new Qn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,f,y,E){const T=new xb({next:N=>{u.enqueueAndForget(()=>SD(o,R)),N.fromCache&&"server"===y.source?E.reject(new De(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(N)},error:N=>E.reject(N)}),R=new RD(f,T,{includeMetadataChanges:!0,Cu:!0});return TD(o,R)}(yield dy(n),n.asyncQueue,e,t,r)})),r.promise}const fS=new Map;function hT(n,e,t){if(!t)throw new De(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pS(n,e,t,r){if(!0===e&&!0===r)throw new De(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gS(n){if(!je.isDocumentKey(n))throw new De(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mS(n){if(je.isDocumentKey(n))throw new De(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Qe()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rb(n);throw new De(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function yS(n,e){if(e<=0)throw new De(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _S{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new De(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _S({}),this._settingsFrozen=!1,e instanceof ja?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new De(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(o.options.projectId)}(e))}get app(){if(!this._app)throw new De(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _S(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fC;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new oE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new De(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fS.get(e);t&&(Re("ComponentProvider","Removing Datastore"),fS.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new al(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class al extends Yi{constructor(e,t,r){super(e,t,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new je(e))}withConverter(e){return new al(this.firestore,e,this._path)}}function vS(n,e,...t){if(n=(0,Zt.m9)(n),hT("collection","path",e),n instanceof Xv){const r=en.fromString(e,...t);return mS(r),new al(n,null,r)}{if(!(n instanceof $n||n instanceof al))throw new De(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return mS(r),new al(n.firestore,null,r)}}function Nb(n,e,...t){if(n=(0,Zt.m9)(n),1===arguments.length&&(e=gC.R()),hT("doc","path",e),n instanceof Xv){const r=en.fromString(e,...t);return gS(r),new $n(n,null,new je(r))}{if(!(n instanceof $n||n instanceof al))throw new De(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return gS(r),new $n(n.firestore,n instanceof al?n.converter:null,new je(r))}}function wS(n,e){return n=(0,Zt.m9)(n),e=(0,Zt.m9)(e),(n instanceof $n||n instanceof al)&&(e instanceof $n||e instanceof al)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ES(n,e){return n=(0,Zt.m9)(n),e=(0,Zt.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&Nm(n._query,e._query)&&n.converter===e.converter}class e1{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Be(this,"async_queue_retry"),this.qa=()=>{const t=pe();t&&Re("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=pe();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=pe();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Qn;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!el(t))throw t;Re("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,mr("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=DD.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(o),o}Ka(){this.$a&&Qe()}verifyOperationInProgress(){}Wa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function fT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class t1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class er extends Xv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new e1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bS(this),this._firestoreClient.terminate()}}function Lr(n){return n._firestoreClient||bS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dE(n._databaseId,u,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var u,y;n._firestoreClient=new $M(n._authCredentials,n._appCheckCredentials,n._queue,r)}function IS(n,e,t){const r=new Qn;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield aS(n,t),yield uS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===ae.FAILED_PRECONDITION||u.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function CS(n){if(n._initialized||n._terminated)throw new De(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new De(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(Tr.fromBase64String(e))}catch(t){throw new De(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ul(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vp{constructor(e){this._methodName=e}}class Ob{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const d1=/^__.*__$/;class h1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class DS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class Pb{constructor(e,t,r,o,u,f){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Pb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.nc(e),o}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Lb(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(TS(this.Xa)&&d1.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class f1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Pe(e)}ac(e,t,r,o=!1){return new Pb({Xa:e,methodName:t,uc:r,path:Pr.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Up(n){const e=n._freezeSettings(),t=Pe(n._databaseId);return new f1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kb(n,e,t,r,o,u={}){const f=n.ac(u.merge||u.mergeFields?2:0,e,t,o);yT("Data must be an object, but it was:",f,r);const y=xS(r,f);let E,T;if(u.merge)E=new fh(f.fieldMask),T=f.fieldTransforms;else if(u.mergeFields){const R=[];for(const N of u.mergeFields){const Z=_T(e,N,t);if(!f.contains(Z))throw new De(ae.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);RS(R,Z)||R.push(Z)}E=new fh(R),T=f.fieldTransforms.filter(N=>E.covers(N.field))}else E=null,T=f.fieldTransforms;return new h1(new hi(y),E,T)}class e0 extends Vp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e0}}function AS(n,e,t){return new Pb({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class pT extends Vp{_toFieldTransform(e){return new bh(e.path,new wh)}isEqual(e){return e instanceof pT}}class p1 extends Vp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=AS(this,e,!0),r=this.cc.map(u=>Bp(u,t)),o=new Ic(r);return new bh(e.path,o)}isEqual(e){return this===e}}class g1 extends Vp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=AS(this,e,!0),r=this.cc.map(u=>Bp(u,t)),o=new Cc(r);return new bh(e.path,o)}isEqual(e){return this===e}}class m1 extends Vp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Dc(e.M,gv(e.M,this.hc));return new bh(e.path,t)}isEqual(e){return this===e}}function gT(n,e,t,r){const o=n.ac(1,e,t);yT("Data must be an object, but it was:",o,r);const u=[],f=hi.empty();Ju(r,(E,T)=>{const R=Fb(e,E,t);T=(0,Zt.m9)(T);const N=o.sc(R);if(T instanceof e0)u.push(R);else{const Z=Bp(T,N);null!=Z&&(u.push(R),f.set(R,Z))}});const y=new fh(u);return new DS(f,y,o.fieldTransforms)}function mT(n,e,t,r,o,u){const f=n.ac(1,e,t),y=[_T(e,r,t)],E=[o];if(u.length%2!=0)throw new De(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<u.length;Z+=2)y.push(_T(e,u[Z])),E.push(u[Z+1]);const T=[],R=hi.empty();for(let Z=y.length-1;Z>=0;--Z)if(!RS(T,y[Z])){const z=y[Z];let se=E[Z];se=(0,Zt.m9)(se);const Ne=f.sc(z);if(se instanceof e0)T.push(z);else{const Ze=Bp(se,Ne);null!=Ze&&(T.push(z),R.set(z,Ze))}}const N=new fh(T);return new DS(R,N,f.fieldTransforms)}function SS(n,e,t,r=!1){return Bp(t,n.ac(r?4:3,e))}function Bp(n,e){if(MS(n=(0,Zt.m9)(n)))return yT("Unsupported field value:",e,n),xS(n,e);if(n instanceof Vp)return function(t,r){if(!TS(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const f of t){let y=Bp(f,r.ic(u));null==y&&(y={nullValue:"NULL_VALUE"}),o.push(y),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gv(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Un.fromDate(t);return{timestampValue:ra(r.M,o)}}if(t instanceof Un){const o=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ra(r.M,o)}}if(t instanceof Ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ul)return{bytesValue:GE(r.M,t._byteString)};if(t instanceof $n){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xc(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${Rb(t)}`)}(n,e)}function xS(n,e){const t={};return hh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ju(n,(r,o)=>{const u=Bp(o,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function MS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof Ob||n instanceof ul||n instanceof $n||n instanceof Vp)}function yT(n,e,t){if(!MS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Rb(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function _T(n,e,t){if((e=(0,Zt.m9)(e))instanceof jc)return e._internalPath;if("string"==typeof e)return Fb(n,e);throw Lb("Field path arguments must be of type string or ",n,!1,void 0,t)}const y1=new RegExp("[~\\*/\\[\\]]");function Fb(n,e,t){if(e.search(y1)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jc(...e.split("."))._internalPath}catch(r){throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lb(n,e,t,r,o){const u=r&&!r.isEmpty(),f=void 0!==o;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(u||f)&&(E+=" (found",u&&(E+=` in field ${r}`),f&&(E+=` in document ${o}`),E+=")"),new De(ae.INVALID_ARGUMENT,y+n+E)}function RS(n,e){return n.some(t=>t.isEqual(e))}class t0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _1 extends t0{data(){return super.data()}}function Vb(n,e){return"string"==typeof e?Fb(n,e):e instanceof jc?e._internalPath:e._delegate._internalPath}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hc extends t0{constructor(e,t,r,o,u,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new n0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class n0 extends Hc{data(e={}){return super.data(e)}}class Hh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new jp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new n0(this._firestore,this._userDataWriter,r.key,r,new jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new n0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new jp(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const y=new n0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new jp(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,T=-1;return 0!==f.type&&(E=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),T=u.indexOf(f.doc.key)),{type:v1(f.type),doc:y,oldIndex:E,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function v1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function NS(n,e){return n instanceof Hc&&e instanceof Hc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hh&&e instanceof Hh&&n._firestore===e._firestore&&ES(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function OS(n){if(Rm(n)&&0===n.explicitOrderBy.length)throw new De(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}function $h(n,...e){for(const t of e)n=t._apply(n);return n}class w1 extends r0{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Up(e.firestore),r=function(o,u,f,y,E,T,R){let N;if(E.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new De(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){US(R,T);const z=[];for(const se of R)z.push(VS(y,o,se));N={arrayValue:{values:z}}}else N=VS(y,o,R)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||US(R,T),N=SS(f,"where",R,"in"===T||"not-in"===T);const Z=fi.create(E,T,N);return function(z,se){if(se.S()){const Ze=lv(z);if(null!==Ze&&!Ze.isEqual(se.field))throw new De(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ze.toString()}' and '${se.field.toString()}'`);const lt=ME(z);null!==lt&&BS(0,se.field,lt)}const Ne=function(Ze,lt){for(const Bt of Ze.filters)if(lt.indexOf(Bt.op)>=0)return Bt.op;return null}(z,function(Ze){switch(Ze){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Ne)throw new De(ae.INVALID_ARGUMENT,Ne===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Ne.toString()}' filters.`)}(o,Z),Z}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Yi(e.firestore,e.converter,function(o,u){const f=o.filters.concat([u]);return new za(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class b1 extends r0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new De(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new De(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new na(o,u);return function(y,E){if(null===ME(y)){const T=lv(y);null!==T&&BS(0,T,E.field)}}(r,f),f}(e._query,this.lc,this._c);return new Yi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new za(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class PS extends r0{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Yi(e.firestore,e.converter,bc(e._query,this.wc,this.mc))}}class kS extends r0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=LS(e,this.type,this.gc,this.yc);return new Yi(e.firestore,e.converter,(o=t,new za((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class FS extends r0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=LS(e,this.type,this.gc,this.yc);return new Yi(e.firestore,e.converter,(o=t,new za((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function LS(n,e,t,r){if(t[0]=(0,Zt.m9)(t[0]),t[0]instanceof t0)return function(o,u,f,y,E){if(!y)throw new De(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const T=[];for(const R of bo(o))if(R.field.isKeyField())T.push(vc(u,y.key));else{const N=y.data.field(R.field);if(ev(N))throw new De(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const Z=R.field.canonicalString();throw new De(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}T.push(N)}return new Eo(T,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Up(n.firestore);return function(u,f,y,E,T,R){const N=u.explicitOrderBy;if(T.length>N.length)throw new De(ae.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let z=0;z<T.length;z++){const se=T[z];if(N[z].field.isKeyField()){if("string"!=typeof se)throw new De(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof se}`);if(!cv(u)&&-1!==se.indexOf("/"))throw new De(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${se}' contains a slash.`);const Ne=u.path.child(en.fromString(se));if(!je.isDocumentKey(Ne))throw new De(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ne}' is not because it contains an odd number of segments.`);const Ze=new je(Ne);Z.push(vc(f,Ze))}else{const Ne=SS(y,E,se);Z.push(Ne)}}return new Eo(Z,R)}(n._query,n.firestore._databaseId,o,e,t,r)}}function VS(n,e,t){if("string"==typeof(t=(0,Zt.m9)(t))){if(""===t)throw new De(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cv(e)&&-1!==t.indexOf("/"))throw new De(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!je.isDocumentKey(r))throw new De(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vc(n,new je(r))}if(t instanceof $n)return vc(n,t._key);throw new De(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rb(t)}.`)}function US(n,e){if(!Array.isArray(n)||0===n.length)throw new De(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new De(ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function BS(n,e,t){if(!t.isEqual(e))throw new De(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vT{convertValue(e,t="none"){switch(_c(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qe()}}convertObject(e,t){const r={};return Ju(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Ob(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hp(e));default:return null}}convertTimestamp(e){const t=cs(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);Ct(Mv(r));const o=new ja(r.get(1),r.get(3)),u=new je(r.popFirst(5));return o.isEqual(t)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ub(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class M1 extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class jS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Up(e)}set(e,t,r){this._verifyNotCommitted();const o=qh(e,this._firestore),u=Ub(o.converter,t,r),f=kb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,yr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=qh(e,this._firestore);let f;return f="string"==typeof(t=(0,Zt.m9)(t))||t instanceof jc?mT(this._dataReader,"WriteBatch.update",u._key,t,r,o):gT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qh(e,this._firestore);return this._mutations=this._mutations.concat(new vp(t._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qh(n,e){if((n=(0,Zt.m9)(n)).firestore!==e)throw new De(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hp extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function HS(n,e,t){n=rn(n,$n);const r=rn(n.firestore,er),o=Ub(n.converter,e,t);return hy(r,[kb(Up(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,yr.none())])}function $S(n,e,t,...r){n=rn(n,$n);const o=rn(n.firestore,er),u=Up(o);let f;return f="string"==typeof(e=(0,Zt.m9)(e))||e instanceof jc?mT(u,"updateDoc",n._key,e,t,r):gT(u,"updateDoc",n._key,e),hy(o,[f.toMutation(n._key,yr.exists(!0))])}function qS(n,...e){var t,r,o;n=(0,Zt.m9)(n);let u={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||fT(e[f])||(u=e[f],f++);const y={includeMetadataChanges:u.includeMetadataChanges};if(fT(e[f])){const N=e[f];e[f]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[f+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[f+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let E,T,R;if(n instanceof $n)T=rn(n.firestore,er),R=_h(n._key.path),E={next:N=>{e[f]&&e[f](wT(T,n,N))},error:e[f+1],complete:e[f+2]};else{const N=rn(n,Yi);T=rn(N.firestore,er),R=N._query;const Z=new Hp(T);E={next:z=>{e[f]&&e[f](new Hh(T,Z,N,z))},error:e[f+1],complete:e[f+2]},OS(n._query)}return function(N,Z,z,se){const Ne=new xb(se),Ze=new RD(Z,Ne,z);return N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return TD(yield dy(N),Ze)})),()=>{Ne.Ia(),N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return SD(yield dy(N),Ze)}))}}(Lr(T),R,y,E)}function hy(n,e){return function(t,r){const o=new Qn;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function IM(n,e,t){return FD.apply(this,arguments)}(yield cT(t),r,o)})),o.promise}(Lr(n),e)}function wT(n,e,t){const r=t.docs.get(e._key),o=new Hp(n);return new Hc(n,o,e._key,r,new jp(t.hasPendingWrites,t.fromCache),e.converter)}class B1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Up(e)}get(e){const t=qh(e,this._firestore),r=new M1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Qe();const u=o[0];if(u.isFoundDocument())return new t0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new t0(this._firestore,r,t._key,null,t.converter);throw Qe()})}set(e,t,r){const o=qh(e,this._firestore),u=Ub(o.converter,t,r),f=kb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const u=qh(e,this._firestore);let f;return f="string"==typeof(t=(0,Zt.m9)(t))||t instanceof jc?mT(this._dataReader,"Transaction.update",u._key,t,r,o):gT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=qh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qh(e,this._firestore),r=new Hp(this._firestore);return super.get(e).then(o=>new Hc(this._firestore,r,t._key,o._document,new jp(!1,!1),t.converter))}}function ET(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new De("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function GS(){if("undefined"==typeof Uint8Array)throw new De("unimplemented","Uint8Arrays are not available in this environment.")}function zS(){if(!function cE(){return"undefined"!=typeof atob}())throw new De("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yc=Hu.SDK_VERSION,(0,Hu._registerComponent)(new Zg.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new er(o,new iE(t.getProvider("auth-internal")),new uE(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Hu.registerVersion)(Y_,"3.4.8",n),(0,Hu.registerVersion)(Y_,"3.4.8","esm2017")}();class s0{constructor(e){this._delegate=e}static fromBase64String(e){return zS(),new s0(ul.fromBase64String(e))}static fromUint8Array(e){return GS(),new s0(ul.fromUint8Array(e))}toBase64(){return zS(),this._delegate.toBase64()}toUint8Array(){return GS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bT(n){return function K1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Y1{enableIndexedDbPersistence(e,t){return function r1(n,e){CS(n=rn(n,er));const t=Lr(n),r=n._freezeSettings(),o=new rT;return IS(t,o,new sS(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function i1(n){CS(n=rn(n,er));const e=Lr(n),t=n._freezeSettings(),r=new rT;return IS(e,r,new UM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function s1(n){if(n._initialized&&!n._terminated)throw new De(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Qn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!qs.vt())return Promise.resolve();const o=r+"main";yield qs.delete(o)}),function(r){return t.apply(this,arguments)})($v(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class WS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function JM(n,e,t,r={}){var o;const u=(n=rn(n,Xv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&lp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Or.MOCK_USER;else{f=(0,Zt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new De(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Or(E)}n._authCredentials=new pC(new rE(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function a1(n){return function qM(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield lS(n),t=yield cS(n);return e.setNetworkEnabled(!0),function(r){const o=$e(r);return o.fu.delete(0),Co(o)}(t)}))}(Lr(n=rn(n,er)))}(this._delegate)}disableNetwork(){return function u1(n){return function ZM(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield lS(n),t=yield cS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=$e(o);u.fu.add(0),yield ol(u),u.wu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Lr(n=rn(n,er)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function o1(n){return function(e){const t=new Qn;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function AM(n,e){return jD.apply(this,arguments)}(yield cT(e),t)})),t.promise}(Lr(n=rn(n,er)))}(this._delegate)}onSnapshotsInSync(e){return function U1(n,e){return function WM(n,e){const t=new xb(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield dy(n),o=t,$e(r).Eu.add(o),void o.next();var r,o})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield dy(n),o=t,void $e(r).Eu.delete(o);var r,o}))}}(Lr(n=rn(n,er)),fT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new De("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fy(this,vS(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,Nb(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function XM(n,e){if(n=rn(n,Xv),hT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new De(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(t=e,new za(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function j1(n,e){return function KM(n,e){const t=new Qn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,Mb(o).then(u=>u.datastore));var o;new HM(n.asyncQueue,r,e,t).run()})),t.promise}(Lr(n=rn(n,er)),t=>e(new B1(n,t)))}(this._delegate,t=>e(new KS(this,t)))}batch(){return Lr(this._delegate),new YS(new jS(this._delegate,e=>hy(this._delegate,e)))}loadBundle(e){return function l1(n,e){const t=Lr(n=rn(n,er)),r=new t1;return function YM(n,e,t,r){const o=function(u,f){let y;return y="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,T){if(E instanceof Uint8Array)return oS(E,T);if(E instanceof ArrayBuffer)return oS(new Uint8Array(E),T);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new BM(E,f);var E}(t,Pe(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function VM(n,e,t){const r=$e(n);var o;(o=(0,ye.Z)(function*(u,f,y){try{const E=yield f.getMetadata();if(yield function(Z,z){const se=$e(Z),Ne=Gr(z.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",Ze=>se._s.getBundleMetadata(Ze,z.id)).then(Ze=>!!Ze&&Ze.createTime.compareTo(Ne)>=0)}(u.localStore,E))return yield f.close(),y._completeWith({taskState:"Success",documentsLoaded:(Z=E).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);y._updateProgress(KA(E));const T=new yM(E,u.localStore,f.M);let R=yield f.da();for(;R;){const Z=yield T.ku(R);Z&&y._updateProgress(Z),R=yield f.da()}const N=yield T.complete();return yield Bc(u,N.Fu,void 0),yield function(Z,z){const se=$e(Z);return se.persistence.runTransaction("Save bundle","readwrite",Ne=>se._s.saveBundleMetadata(Ne,z))}(u.localStore,E),y._completeWith(N.progress),Promise.resolve(N.Ou)}catch(E){return lp("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E),Promise.resolve(new Set)}var Z}),function(u,f,y){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield cT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function c1(n,e){return function QM(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=$e(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield lT(n),e)}))}(Lr(n=rn(n,er)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class Bb extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new s0(new ul(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class KS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Bb(e)}get(e){const t=qp(e);return this._delegate.get(t).then(r=>new o0(this._firestore,new Hc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=qp(e);return r?(ET("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}}class YS{constructor(e){this._delegate=e}set(e,t,r){const o=qp(e);return r?(ET("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $p{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new n0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new a0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=$p.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new $p(e,new Bb(e),t),o.set(t,u)),u}}$p.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new De("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new $n(t._delegate,r,new je(e)))}static forKey(e,t,r){return new sa(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fy(this.firestore,vS(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Zt.m9)(e))instanceof $n&&wS(this._delegate,e)}set(e,t){t=ET("DocumentReference.set",t);try{return t?HS(this._delegate,e,t):HS(this._delegate,e)}catch(r){throw fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?$S(this._delegate,e):$S(this._delegate,e,t,...r)}catch(o){throw fs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function L1(n){return hy(rn(n.firestore,er),[new vp(n._key,yr.none())])}(this._delegate)}onSnapshot(...e){const t=QS(e),r=JS(e,o=>new o0(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return qS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function N1(n){n=rn(n,$n);const e=rn(n.firestore,er),t=Lr(e),r=new Hp(e);return function GM(n,e){const t=new Qn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,f){try{const y=yield function(E,T){const R=$e(E);return R.persistence.runTransaction("read document","readonly",N=>R.ci.Ls(N,T))}(o,u);y.isFoundDocument()?f.resolve(y):y.isNoDocument()?f.resolve(null):f.reject(new De(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=ay(y,`Failed to get document '${u} from cache`);f.reject(E)}}),function(o,u,f){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Hc(e,r,n._key,o,new jp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function O1(n){n=rn(n,$n);const e=rn(n.firestore,er);return dS(Lr(e),n._key,{source:"server"}).then(t=>wT(e,n,t))}(this._delegate):function R1(n){n=rn(n,$n);const e=rn(n.firestore,er);return dS(Lr(e),n._key).then(t=>wT(e,n,t))}(this._delegate),t.then(r=>new o0(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function QS(n){for(const e of n)if("object"==typeof e&&!bT(e))return e;return{}}function JS(n,e){var t,r;let o;return o=bT(n[0])?n[0]:bT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class o0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NS(this._delegate,e._delegate)}}class a0 extends o0{data(e){const t=this._delegate.data(e);return function nE(n,e){n||Qe()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bb(e)}where(e,t,r){try{return new ps(this.firestore,$h(this._delegate,function E1(n,e,t){const r=e,o=Vb("where",n);return new w1(o,r,t)}(e,t,r)))}catch(o){throw fs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,$h(this._delegate,function I1(n,e="asc"){const t=e,r=Vb("orderBy",n);return new b1(r,t)}(e,t)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,$h(this._delegate,function C1(n){return yS("limit",n),new PS("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,$h(this._delegate,function D1(n){return yS("limitToLast",n),new PS("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,$h(this._delegate,function T1(...n){return new kS("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,$h(this._delegate,function A1(...n){return new kS("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,$h(this._delegate,function S1(...n){return new FS("endBefore",n,!1)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,$h(this._delegate,function x1(...n){return new FS("endAt",n,!0)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return ES(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function k1(n){n=rn(n,Yi);const e=rn(n.firestore,er),t=Lr(e),r=new Hp(e);return function zM(n,e){const t=new Qn;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,f){try{const y=yield ry(o,u,!0),E=new JA(u,y.li),T=E.Gu(y.documents),R=E.applyChanges(T,!1);f.resolve(R.snapshot)}catch(y){const E=ay(y,`Failed to execute query '${u} against cache`);f.reject(E)}}),function(o,u,f){return r.apply(this,arguments)})(yield lT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Hh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function F1(n){n=rn(n,Yi);const e=rn(n.firestore,er),t=Lr(e),r=new Hp(e);return hS(t,n._query,{source:"server"}).then(o=>new Hh(e,r,n,o))}(this._delegate):function P1(n){n=rn(n,Yi);const e=rn(n.firestore,er),t=Lr(e),r=new Hp(e);return OS(n._query),hS(t,n._query).then(o=>new Hh(e,r,n,o))}(this._delegate),t.then(r=>new IT(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=QS(e),r=JS(e,o=>new IT(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return qS(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}class J1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new a0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new a0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new J1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new a0(this._firestore,r))})}isEqual(e){return NS(this._delegate,e._delegate)}}class fy extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?Nb(this._delegate):Nb(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function V1(n,e){const t=rn(n.firestore,er),r=Nb(n),o=Ub(n.converter,e);return hy(t,[kb(Up(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return wS(this._delegate,e._delegate)}withConverter(e){return new fy(this.firestore,this._delegate.withConverter(e?$p.getInstance(this.firestore,e):null))}}function qp(n){return rn(n,$n)}class CT{constructor(...e){this._delegate=new jc(...e)}static documentId(){return new CT(Pr.keyField().canonicalString())}isEqual(e){return(e=(0,Zt.m9)(e))instanceof jc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $1(){return new pT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zp(e)}static delete(){const e=function H1(){return new e0("deleteField")}();return e._methodName="FieldValue.delete",new Zp(e)}static arrayUnion(...e){const t=function q1(...n){return new p1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zp(t)}static arrayRemove(...e){const t=function Z1(...n){return new g1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zp(t)}static increment(e){const t=function G1(n){return new m1("increment",n)}(e);return t._methodName="FieldValue.increment",new Zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const X1={Firestore:WS,GeoPoint:Ob,Timestamp:Un,Blob:s0,Transaction:KS,WriteBatch:YS,DocumentReference:sa,DocumentSnapshot:o0,Query:ps,QueryDocumentSnapshot:a0,QuerySnapshot:IT,CollectionReference:fy,FieldPath:CT,FieldValue:Zp,setLogLevel:function Q1(n){!function hC(n){Qu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function tR(n){(function eR(n,e){n.INTERNAL.registerComponent(new Zg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},X1)))})(n,(e,t)=>new WS(e,t,new Y1)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(rw.Z);var nR=P(6451),jb=P(5363),rR=P(6063);class iR extends si.x{constructor(e=1/0,t=1/0,r=rR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:f}=this;t||(r.push(e),!o&&r.push(u.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let f=0;f<u.length&&!e.closed;f+=r?1:2)e.next(u[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const f=t.now();let y=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)y=E;y&&r.splice(0,y+1)}}}var sR=P(3099);function XS(n,e,t){var r,o;let u,f=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,f=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,sR.B)({connector:()=>new iR(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}function ex(n,e){return(0,Tf.m)(e)?Mr(()=>n,e):Mr(()=>n)}var DT=P(9468);P(5867);const nx=new Map,cR={activated:!1,tokenObservers:[]},dR={initialized:!1,enabled:!1};function mi(n){return nx.get(n)||cR}function Qa(n,e){nx.set(n,e)}function $b(){return dR}class mR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Zt.BH,yield function yR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gs=new Zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ix(n){if(!mi(n).activated)throw gs.create("use-before-activation",{appName:n.name})}function xT(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let f,y;try{f=yield fetch(n,u)}catch(N){throw gs.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==f.status)throw gs.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(N){throw gs.create("fetch-parse-error",{originalErrorMessage:N.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(E[1]),R=Date.now();return{token:y.attestationToken,expireTimeMillis:R+T,issuedAtTimeMillis:R}}),MT.apply(this,arguments)}function bR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const u0="firebase-app-check-store";let Gb=null;function ox(){return Gb||(Gb=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(gs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(u0,{keyPath:"compositeKey"})}}catch(t){e(gs.create("storage-open",{originalErrorMessage:t.message}))}}),Gb)}function RT(){return RT=(0,ye.Z)(function*(n,e){const r=(yield ox()).transaction(u0,"readwrite"),u=r.objectStore(u0).put({compositeKey:n,value:e});return new Promise((f,y)=>{u.onsuccess=E=>{f()},r.onerror=E=>{var T;y(gs.create("storage-set",{originalErrorMessage:null===(T=E.target.error)||void 0===T?void 0:T.message}))}})}),RT.apply(this,arguments)}const l0=new $u.Yd("@firebase/app-check");function cx(n,e){return(0,Zt.hl)()?function TR(n,e){return function ax(n,e){return RT.apply(this,arguments)}(function lx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{l0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function dx(){return $b().enabled}function hx(){return kT.apply(this,arguments)}function kT(){return kT=(0,ye.Z)(function*(){const n=$b();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kT.apply(this,arguments)}const NR={error:"UNKNOWN_ERROR"};function OR(n){return Zt.US.encodeString(JSON.stringify(n),!1)}function zb(n){return FT.apply(this,arguments)}function FT(){return FT=(0,ye.Z)(function*(n,e=!1){const t=n.app;ix(t);const r=mi(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&Wb(E)&&(o=E)}if(!e&&o&&Wb(o))return{token:o.token};let y,f=!1;if(dx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=xT(bR(t,yield hx()),n.heartbeatServiceProvider).then(T=>(r.exchangeTokenPromise=void 0,T)),f=!0);const E=yield r.exchangeTokenPromise;return yield cx(t,E),Qa(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?l0.warn(E.message):l0.error(E),u=E}return o?(y={token:o.token},Qa(t,Object.assign(Object.assign({},r),{token:o})),yield cx(t,o)):y=kR(u),f&&px(t,y),y}),FT.apply(this,arguments)}function VT(n,e){const t=mi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function fx(n){const{app:e}=n,t=mi(e);let r=t.tokenRefresher;r||(r=function PR(n){const{app:e}=n;return new mR((0,ye.Z)(function*(){let r;if(r=mi(e).token?yield zb(n,!0):yield zb(n),r.error)throw r.error}),()=>!0,()=>{const t=mi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Qa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function px(n,e){const t=mi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Wb(n){return n.expireTimeMillis-Date.now()>0}function kR(n){return{token:OR(NR),error:n}}class FR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=mi(this.app);for(const t of e)VT(this.app,t.next);return Promise.resolve()}}const bx="app-check-internal";!function YR(){(0,Hu._registerComponent)(new Zg.wA("app-check",n=>function LR(n,e){return new FR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bx).initialize()})),(0,Hu._registerComponent)(new Zg.wA(bx,n=>function VR(n){return{getToken:e=>zb(n,e),addTokenListener:e=>function LT(n,e,t,r){const{app:o}=n,u=mi(o),f={next:t,error:r,type:e};if(Qa(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,f]})),u.token&&Wb(u.token)){const y=u.token;Promise.resolve().then(()=>{t({token:y.token}),fx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>fx(n))}(n,"INTERNAL",e),removeTokenListener:e=>VT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hu.registerVersion)("@firebase/app-check","0.5.6")}();class HT{constructor(){return(0,Nr.vb)("app-check")}}"undefined"!=typeof window&&window;var tN=P(127);const Cx=new c.OlP("angularfire2.auth.use-emulator"),Dx=new c.OlP("angularfire2.auth.settings"),Tx=new c.OlP("angularfire2.auth.tenant-id"),Ax=new c.OlP("angularfire2.auth.langugage-code"),Sx=new c.OlP("angularfire2.auth.use-device-language"),xx=new c.OlP("angularfire.auth.persistence"),Mx=(n,e,t,r,o,u,f,y)=>(0,mo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),f)for(const[T,R]of Object.entries(f))E.settings[T]=R;return y&&E.setPersistence(y),E},[t,r,o,u,f,y]);let Rx=(()=>{class n{constructor(t,r,o,u,f,y,E,T,R,N,Z,z){const se=new si.x,Ne=Xe(void 0).pipe((0,jb.Q)(f.outsideAngular),Mr(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,1390)))),(0,yt.U)(()=>(0,mo.on)(t,u,r)),(0,yt.U)(Ze=>Mx(Ze,u,y,T,R,N,E,Z)),XS({bufferSize:1,refCount:!1}));if(So(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{Ne.pipe(Rr()).subscribe();const lt=Ne.pipe(Mr(It=>It.getRedirectResult().then($t=>$t,()=>null)),Nr.iC,XS({bufferSize:1,refCount:!1})),Bt=Ne.pipe(Mr(It=>new an.y($t=>({unsubscribe:u.runOutsideAngular(()=>It.onAuthStateChanged(vn=>$t.next(vn),vn=>$t.error(vn),()=>$t.complete()))})))),xt=Ne.pipe(Mr(It=>new an.y($t=>({unsubscribe:u.runOutsideAngular(()=>It.onIdTokenChanged(vn=>$t.next(vn),vn=>$t.error(vn),()=>$t.complete()))}))));this.authState=lt.pipe(ex(Bt),(0,DT.R)(f.outsideAngular),(0,jb.Q)(f.insideAngular)),this.user=lt.pipe(ex(xt),(0,DT.R)(f.outsideAngular),(0,jb.Q)(f.insideAngular)),this.idToken=this.user.pipe(Mr(It=>It?(0,Sn.D)(It.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Mr(It=>It?(0,Sn.D)(It.getIdTokenResult()):Xe(null))),this.credential=(0,nR.T)(lt,se,this.authState.pipe($i(It=>!It))).pipe((0,yt.U)(It=>(null==It?void 0:It.user)?It:null),(0,DT.R)(f.outsideAngular),(0,jb.Q)(f.insideAngular))}return(0,mo.pX)(this,Ne,u,{spy:{apply:(Ze,lt,Bt)=>{(Ze.startsWith("signIn")||Ze.startsWith("createUser"))&&Bt.then(xt=>se.next(xt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mo.Dh),c.LFG(mo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Nr.HU),c.LFG(Cx,8),c.LFG(Dx,8),c.LFG(Tx,8),c.LFG(Ax,8),c.LFG(Sx,8),c.LFG(xx,8),c.LFG(HT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Nx(n,e){return function rN(n,e=nw.z){return new an.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function qT(n,e){return Nx(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function Yb(n,e){return qT(n,e).pipe(Rd(void 0),qg(),(0,yt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,y)=>{const E=o.find(R=>R.doc.ref.isEqual(f.ref)),T=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&T&&JSON.stringify(T.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:f}})}),u}))}function Ox(n,e,t){return Yb(n,t).pipe(zl((r,o)=>function sN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function oN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ZT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ZT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ZT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function UI(n,e=$l.y){return n=null!=n?n:BI,(0,xi.e)((t,r)=>{let o,u=!0;t.subscribe(new ar.Q(r,f=>{const y=e(f);(u||!n(o,y))&&(u=!1,o=y,r.next(f))}))})}(),(0,yt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function ZT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Px(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Yb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Rd(void 0),qg(),$i(([r,o])=>o.length>0||!r),(0,yt.U)(([r,o])=>o),Nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(zl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Px(e);return Ox(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}valueChanges(e={}){return qT(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Nr.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Nr.iC)}add(e){return this.ref.add(e)}doc(e){return new Fx(this.ref.doc(e),this.afs)}}class Fx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Ux(r,t);return new kx(o,u,this.afs)}snapshotChanges(){return function iN(n,e){return Nx(n,e).pipe(Rd(void 0),qg(),(0,yt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sn.D)(this.ref.get(e)).pipe(Nr.iC)}}class aN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Yb(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),$i(t=>t.length>0),Nr.iC):Yb(this.query,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}auditTrail(e){return this.stateChanges(e).pipe(zl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Px(e);return Ox(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nr.iC)}valueChanges(e={}){return qT(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Nr.iC)}get(e){return(0,Sn.D)(this.query.get(e)).pipe(Nr.iC)}}const Lx=new c.OlP("angularfire2.enableFirestorePersistence"),Vx=new c.OlP("angularfire2.firestore.persistenceSettings"),uN=new c.OlP("angularfire2.firestore.settings"),lN=new c.OlP("angularfire2.firestore.use-emulator");function Ux(n,e=(t=>t)){return{query:e(n),ref:n}}let Bx=(()=>{class n{constructor(t,r,o,u,f,y,E,T,R,N,Z,z,se,Ne,Ze,lt,Bt){this.schedulers=E;const xt=(0,mo.on)(t,y,r),It=R;N&&Mx(xt,y,Z,se,Ne,Ze,z,lt),[this.firestore,this.persistenceEnabled$]=(0,mo.cc)(`${xt.name}.firestore`,"AngularFirestore",xt.name,()=>{const $t=y.runOutsideAngular(()=>xt.firestore());if(u&&$t.settings(u),It&&$t.useEmulator(...It),o&&!So(f)){const vn=()=>{try{return(0,Sn.D)($t.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Qi){return"undefined"!=typeof console&&console.warn(Qi),Xe(!1)}};return[$t,y.runOutsideAngular(vn)]}return[$t,Xe(!1)]},[u,It,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:f}=Ux(o,r),y=this.schedulers.ngZone.run(()=>u);return new kx(y,f,this)}collectionGroup(t,r){const o=r||(f=>f),u=this.firestore.collectionGroup(t);return new aN(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Fx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mo.Dh),c.LFG(mo.xv,8),c.LFG(Lx,8),c.LFG(uN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Nr.HU),c.LFG(Vx,8),c.LFG(lN,8),c.LFG(Rx,8),c.LFG(Cx,8),c.LFG(Dx,8),c.LFG(Tx,8),c.LFG(Ax,8),c.LFG(Sx,8),c.LFG(xx,8),c.LFG(HT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cN=(()=>{class n{constructor(){tN.Z.registerVersion("angularfire",Nr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Lx,useValue:!0},{provide:Vx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Bx]}),n})(),jx=(()=>{class n{constructor(t){this.afs=t,this.contactCollection=t.collection("contacts")}saveMessage(t){this.contactCollection.add(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"Este campo es requerido"),c.qZA())}function hN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"El minimo de caracteres es 2"),c.qZA())}function fN(n,e){if(1&n&&(c.TgZ(0,"div",12),c.YNc(1,dN,2,0,"div",13),c.YNc(2,hN,2,0,"div",13),c._UZ(3,"img",14),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.name.hasError("required")),c.xp6(1),c.Q6J("ngIf",t.name.hasError("minlength"))}}function pN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"Este campo es requerido"),c.qZA())}function gN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"Email no valido"),c.qZA())}function mN(n,e){if(1&n&&(c.TgZ(0,"div",12),c.YNc(1,pN,2,0,"div",13),c.YNc(2,gN,2,0,"div",13),c._UZ(3,"img",14),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.email.hasError("required")),c.xp6(1),c.Q6J("ngIf",t.email.hasError("pattern"))}}function yN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"Este campo es requerido"),c.qZA())}function _N(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"El minimo de caracteres es 5"),c.qZA())}function vN(n,e){if(1&n&&(c.TgZ(0,"div",12),c.YNc(1,yN,2,0,"div",13),c.YNc(2,_N,2,0,"div",13),c._UZ(3,"img",14),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.asunto.hasError("required")),c.xp6(1),c.Q6J("ngIf",t.asunto.hasError("minlength"))}}function wN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"Este campo es requerido"),c.qZA())}function EN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"El minimo de caracteres es 5"),c.qZA())}function bN(n,e){1&n&&(c.TgZ(0,"div",15),c._uU(1,"El maximo de caracteres es 350"),c.qZA())}function IN(n,e){if(1&n&&(c.TgZ(0,"div",12),c.YNc(1,wN,2,0,"div",13),c.YNc(2,EN,2,0,"div",13),c.YNc(3,bN,2,0,"div",13),c._UZ(4,"img",14),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.message.hasError("required")),c.xp6(1),c.Q6J("ngIf",t.message.hasError("minlength")),c.xp6(1),c.Q6J("ngIf",t.message.hasError("maxlength"))}}function CN(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Llenar campos"),c.qZA())}function DN(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Enviar"),c.qZA())}let TN=(()=>{class n{constructor(t,r){this.el=t,this.dbData=r,this.slideAsunto=!1,this.textAsunto="Frontend",this.emailPattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.contactForm=this.createFormGroup()}createFormGroup(){return new Au({name:new Tu("",[Sr.required,Sr.minLength(2)]),email:new Tu("",[Sr.required,Sr.pattern(this.emailPattern)]),asunto:new Tu("",[Sr.required,Sr.minLength(5)]),message:new Tu("",[Sr.required,Sr.minLength(5),Sr.maxLength(350)])})}ngOnInit(){this.styleInputContact()}styleInputContact(){[].slice.call(this.el.nativeElement.querySelectorAll(".input")).forEach(r=>{r.addEventListener("focus",()=>{r.parentElement.classList.add("labelInputFocus"),r.parentElement.classList.remove("labelInputTop")}),r.addEventListener("blur",()=>{0==r.value.length?r.parentElement.classList.remove("labelInputFocus"):(r.parentElement.classList.remove("labelInputFocus"),r.parentElement.classList.add("labelInputTop"))})})}selectAsunto(){this.slideAsunto=!this.slideAsunto}changeAsunto(t){this.textAsunto=t}onResetForm(){this.contactForm.reset()}onSaveForm(){this.contactForm.valid&&(this.dbData.saveMessage(this.contactForm.value),alert("Mensaje enviado"),this.styleInputContact(),this.onResetForm())}get name(){return this.contactForm.get("name")}get email(){return this.contactForm.get("email")}get asunto(){return this.contactForm.get("asunto")}get message(){return this.contactForm.get("message")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(jx))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contact"]],decls:32,vars:8,consts:[[1,"wrapContact"],["action","",3,"formGroup","ngSubmit"],[1,"contentInput"],[1,"labelInput"],["type","text","formControlName","name",1,"input"],["class","alertDanger",4,"ngIf"],["type","text","formControlName","email",1,"input"],["type","text","formControlName","asunto",1,"input"],["name","","id","","cols","30","rows","10","formControlName","message",1,"input"],[1,"alterSucces"],["type","submit",3,"disabled"],[4,"ngIf"],[1,"alertDanger"],["class","containerErrorMessage",4,"ngIf"],["src","assets/Images/Icons/warning.png","alt","icon warning"],[1,"containerErrorMessage"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2"),c._uU(2,"CONTACTO"),c.qZA(),c.TgZ(3,"form",1),c.NdJ("ngSubmit",function(){return r.onSaveForm()}),c.TgZ(4,"div",2),c.TgZ(5,"label",3),c.TgZ(6,"span"),c._uU(7,"Nombre:"),c.qZA(),c._UZ(8,"input",4),c.qZA(),c.YNc(9,fN,4,2,"div",5),c.qZA(),c.TgZ(10,"div",2),c.TgZ(11,"label",3),c.TgZ(12,"span"),c._uU(13,"Correo:"),c.qZA(),c._UZ(14,"input",6),c.qZA(),c.YNc(15,mN,4,2,"div",5),c.qZA(),c.TgZ(16,"div",2),c.TgZ(17,"label",3),c.TgZ(18,"span"),c._uU(19,"Asunto:"),c.qZA(),c._UZ(20,"input",7),c.qZA(),c.YNc(21,vN,4,2,"div",5),c.qZA(),c.TgZ(22,"div",2),c.TgZ(23,"label",3),c.TgZ(24,"span"),c._uU(25,"Mensaje:"),c.qZA(),c._UZ(26,"textarea",8),c.qZA(),c.YNc(27,IN,5,3,"div",5),c.qZA(),c.TgZ(28,"div",9),c.TgZ(29,"button",10),c.YNc(30,CN,2,0,"p",11),c.YNc(31,DN,2,0,"p",11),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(3),c.Q6J("formGroup",r.contactForm),c.xp6(6),c.Q6J("ngIf",r.name.invalid&&(r.name.dirty||r.name.touched)),c.xp6(6),c.Q6J("ngIf",r.email.invalid&&(r.email.dirty||r.email.touched)),c.xp6(6),c.Q6J("ngIf",r.asunto.invalid&&(r.asunto.dirty||r.asunto.touched)),c.xp6(6),c.Q6J("ngIf",r.message.invalid&&(r.message.dirty||r.message.touched)),c.xp6(2),c.Q6J("disabled",!r.contactForm.valid),c.xp6(1),c.Q6J("ngIf",!r.contactForm.valid),c.xp6(1),c.Q6J("ngIf",r.contactForm.valid))},directives:[pf,Eu,Ed,yu,Nl,Hi,jr],styles:[""]}),n})();var AN=P(6808),SN=P.n(AN);const xN=function(){return["contact"]};let MN=(()=>{class n{constructor(){}ngOnInit(){this.typed=new(SN())(".typed",{strings:["<b>Frontend</b>","<b>Backend</b>","<b>Full Stack</b>"],typeSpeed:60,backSpeed:50,backDelay:1500,loop:!0})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main"]],decls:18,vars:2,consts:[[1,"wrapMain"],[1,"contentPresentation"],[1,"text"],[1,"typed"],[1,"buttons"],[1,"btns",3,"routerLink"],["href","assets/Resource/CV-OmarMitmaJulcapoma.docx","download","CV-OmarMitmaJulcapoma.docx",1,"btns"],[1,"image"],["src","assets/Images/undraw/undraw_programming_re_kg9v.svg","alt","undraw programming re kg9v"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"h2"),c._uU(4,"Hola, soy Omar Mitma "),c._UZ(5,"br"),c._uU(6," Soy especialista en "),c._UZ(7,"br"),c._UZ(8,"span",3),c.qZA(),c.TgZ(9,"p"),c._uU(10,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Maxime dolorem expedita excepturi unde, voluptates animi perspiciatis fuga in voluptatem quos suscipit ea ipsam nihil enim rem adipisci quam aliquid? Incidunt!"),c.qZA(),c.TgZ(11,"div",4),c.TgZ(12,"a",5),c._uU(13,"CONTACTAME"),c.qZA(),c.TgZ(14,"a",6),c._uU(15,"DESCARGA MI CV"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",7),c._UZ(17,"img",8),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(12),c.Q6J("routerLink",c.DdM(1,xN)))},directives:[os],styles:[""]}),n})();class Hx{}class $x{}class $c{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),f=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof $c?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new $c;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof $c?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let f=this.headers.get(t);if(!f)return;f=f.filter(y=>-1===u.indexOf(y)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class RN{encodeKey(e){return qx(e)}encodeValue(e){return qx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ON=/%(\d[a-f0-9])/gi,PN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qx(n){return encodeURIComponent(n).replace(ON,(e,t)=>{var r;return null!==(r=PN[t])&&void 0!==r?r:e})}function Zx(n){return`${n}`}class Zh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RN,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function NN(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,y]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],E=t.get(f)||[];E.push(y),t.set(f,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Zh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Zx(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Zx(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kN{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Gx(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zx(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Wx(n){return"undefined"!=typeof FormData&&n instanceof FormData}class c0{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function FN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new $c),this.context||(this.context=new kN),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const y=t.indexOf("?");this.urlWithParams=t+(-1===y?"?":y<t.length-1?"&":"")+f}}else this.params=new Zh,this.urlWithParams=t}serializeBody(){return null===this.body?null:Gx(this.body)||zx(this.body)||Wx(this.body)||function LN(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Wx(this.body)?null:zx(this.body)?this.body.type||null:Gx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,f=void 0!==e.body?e.body:this.body,y=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let T=e.headers||this.headers,R=e.params||this.params;const N=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(T=Object.keys(e.setHeaders).reduce((Z,z)=>Z.set(z,e.setHeaders[z]),T)),e.setParams&&(R=Object.keys(e.setParams).reduce((Z,z)=>Z.set(z,e.setParams[z]),R)),new c0(r,o,f,{params:R,headers:T,context:N,reportProgress:E,responseType:u,withCredentials:y})}}var Vr=(()=>((Vr=Vr||{})[Vr.Sent=0]="Sent",Vr[Vr.UploadProgress=1]="UploadProgress",Vr[Vr.ResponseHeader=2]="ResponseHeader",Vr[Vr.DownloadProgress=3]="DownloadProgress",Vr[Vr.Response=4]="Response",Vr[Vr.User=5]="User",Vr))();class GT{constructor(e,t=200,r="OK"){this.headers=e.headers||new $c,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zT extends GT{constructor(e={}){super(e),this.type=Vr.ResponseHeader}clone(e={}){return new zT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Qb extends GT{constructor(e={}){super(e),this.type=Vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Qb({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Kx extends GT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function WT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yx=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof c0)u=t;else{let E,T;E=o.headers instanceof $c?o.headers:new $c(o.headers),o.params&&(T=o.params instanceof Zh?o.params:new Zh({fromObject:o.params})),u=new c0(t,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=Xe(u).pipe(Ru(E=>this.handler.handle(E)));if(t instanceof c0||"events"===o.observe)return f;const y=f.pipe($i(E=>E instanceof Qb));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe((0,yt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return y.pipe((0,yt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return y.pipe((0,yt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return y.pipe((0,yt.U)(E=>E.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Zh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,WT(o,r))}post(t,r,o={}){return this.request("POST",t,WT(o,r))}put(t,r,o={}){return this.request("PUT",t,WT(o,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Hx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Qx{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Jx=new c.OlP("HTTP_INTERCEPTORS");let VN=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const UN=/^\)\]\}',?\n/;let Xx=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new an.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((z,se)=>o.setRequestHeader(z,se.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&o.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();o.responseType="json"!==z?z:"text"}const u=t.serializeBody();let f=null;const y=()=>{if(null!==f)return f;const z=1223===o.status?204:o.status,se=o.statusText||"OK",Ne=new $c(o.getAllResponseHeaders()),Ze=function BN(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return f=new zT({headers:Ne,status:z,statusText:se,url:Ze}),f},E=()=>{let{headers:z,status:se,statusText:Ne,url:Ze}=y(),lt=null;204!==se&&(lt=void 0===o.response?o.responseText:o.response),0===se&&(se=lt?200:0);let Bt=se>=200&&se<300;if("json"===t.responseType&&"string"==typeof lt){const xt=lt;lt=lt.replace(UN,"");try{lt=""!==lt?JSON.parse(lt):null}catch(It){lt=xt,Bt&&(Bt=!1,lt={error:It,text:lt})}}Bt?(r.next(new Qb({body:lt,headers:z,status:se,statusText:Ne,url:Ze||void 0})),r.complete()):r.error(new Kx({error:lt,headers:z,status:se,statusText:Ne,url:Ze||void 0}))},T=z=>{const{url:se}=y(),Ne=new Kx({error:z,status:o.status||0,statusText:o.statusText||"Unknown Error",url:se||void 0});r.error(Ne)};let R=!1;const N=z=>{R||(r.next(y()),R=!0);let se={type:Vr.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(se.total=z.total),"text"===t.responseType&&!!o.responseText&&(se.partialText=o.responseText),r.next(se)},Z=z=>{let se={type:Vr.UploadProgress,loaded:z.loaded};z.lengthComputable&&(se.total=z.total),r.next(se)};return o.addEventListener("load",E),o.addEventListener("error",T),o.addEventListener("timeout",T),o.addEventListener("abort",T),t.reportProgress&&(o.addEventListener("progress",N),null!==u&&o.upload&&o.upload.addEventListener("progress",Z)),o.send(u),r.next({type:Vr.Sent}),()=>{o.removeEventListener("error",T),o.removeEventListener("abort",T),o.removeEventListener("load",E),o.removeEventListener("timeout",T),t.reportProgress&&(o.removeEventListener("progress",N),null!==u&&o.upload&&o.upload.removeEventListener("progress",Z)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const KT=new c.OlP("XSRF_COOKIE_NAME"),YT=new c.OlP("XSRF_HEADER_NAME");class eM{}let jN=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ws(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(c.Lbi),c.LFG(KT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),QT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(eM),c.LFG(YT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),HN=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Jx,[]);this.chain=r.reduceRight((o,u)=>new Qx(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($x),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$N=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:QT,useClass:VN}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:KT,useValue:t.cookieName}:[],t.headerName?{provide:YT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QT,{provide:Jx,useExisting:QT,multi:!0},{provide:eM,useClass:jN},{provide:KT,useValue:"XSRF-TOKEN"},{provide:YT,useValue:"X-XSRF-TOKEN"}]}),n})(),qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Yx,{provide:Hx,useClass:HN},Xx,{provide:$x,useExisting:Xx}],imports:[[$N.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function ZN(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}function GN(n,e){if(1&n&&(c.TgZ(0,"a",7),c.TgZ(1,"div",8),c.TgZ(2,"div",9),c.TgZ(3,"h3"),c._uU(4),c.qZA(),c.TgZ(5,"div",10),c.YNc(6,ZN,2,1,"p",4),c.qZA(),c.TgZ(7,"span"),c._uU(8),c.qZA(),c.qZA(),c.qZA(),c._UZ(9,"img",11),c.qZA()),2&n){const t=c.oxw().$implicit;c.s9C("href",t.link,c.LSH),c.s9C("download",t.download),c.xp6(4),c.Oqu(t.title),c.xp6(2),c.Q6J("ngForOf",t.tools),c.xp6(2),c.Oqu(t.filter),c.xp6(1),c.s9C("src",t.imagen,c.LSH),c.s9C("alt",t.alt)}}function zN(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}function WN(n,e){if(1&n&&(c.TgZ(0,"a",12),c.TgZ(1,"div",8),c.TgZ(2,"div",9),c.TgZ(3,"h3"),c._uU(4),c.qZA(),c.TgZ(5,"div",10),c.YNc(6,zN,2,1,"p",4),c.qZA(),c.TgZ(7,"span"),c._uU(8),c.qZA(),c.qZA(),c.qZA(),c._UZ(9,"img",11),c.qZA()),2&n){const t=c.oxw().$implicit;c.s9C("href",t.link,c.LSH),c.xp6(4),c.Oqu(t.title),c.xp6(2),c.Q6J("ngForOf",t.tools),c.xp6(2),c.Oqu(t.filter),c.xp6(1),c.s9C("src",t.imagen,c.LSH),c.s9C("alt",t.alt)}}function KN(n,e){if(1&n&&(c.TgZ(0,"div"),c.YNc(1,GN,10,7,"a",5),c.YNc(2,WN,10,6,"a",6),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngIf",null!=t.download),c.xp6(1),c.Q6J("ngIf",null==t.download)}}const JT=function(n){return{filterActive:n}},YN=[{path:"",component:MN},{path:"about",component:tw},{path:"contact",component:TN},{path:"projects",component:(()=>{class n{constructor(t){this.http=t,this.projectsListAll=[],this.projectsListFilter=[],this.filterText=""}ngOnInit(){this.http.get("assets/Json/data.json").subscribe(t=>{this.projectsListAll=t,this.projectsListFilter=t})}filterProject(t){this.projectsListFilter=this.projectsListAll.filter(r=>r.filter.includes(t)),this.filterText=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yx))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-projects"]],decls:12,vars:10,consts:[[1,"wrapProjects"],[1,"filterList"],[3,"ngClass","click"],["id","projectList",1,"projectList"],[4,"ngFor","ngForOf"],["class","projectItem","target","_BLANK",3,"href","download",4,"ngIf"],["class","projectItem","target","_BLANK",3,"href",4,"ngIf"],["target","_BLANK",1,"projectItem",3,"href","download"],[1,"wrapText"],[1,"text"],[1,"tools"],[3,"src","alt"],["target","_BLANK",1,"projectItem",3,"href"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h2"),c._uU(2,"Proyectos Recientes"),c.qZA(),c.TgZ(3,"div",1),c.TgZ(4,"button",2),c.NdJ("click",function(){return r.filterProject("")}),c._uU(5,"Todos"),c.qZA(),c.TgZ(6,"button",2),c.NdJ("click",function(){return r.filterProject("Webs")}),c._uU(7,"Webs"),c.qZA(),c.TgZ(8,"button",2),c.NdJ("click",function(){return r.filterProject("Sistemas")}),c._uU(9,"Sistemas"),c.qZA(),c.qZA(),c.TgZ(10,"section",3),c.YNc(11,KN,3,2,"div",4),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Q6J("ngClass",c.VKq(4,JT,""===r.filterText)),c.xp6(2),c.Q6J("ngClass",c.VKq(6,JT,"Webs"===r.filterText)),c.xp6(2),c.Q6J("ngClass",c.VKq(8,JT,"Sistemas"===r.filterText)),c.xp6(3),c.Q6J("ngForOf",r.projectsListFilter))},directives:[Vi,Er,jr],styles:[""]}),n})()},{path:"studies",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-studies"]],decls:159,vars:0,consts:[[1,"wrapStudies"],[1,"contentStudies"],[1,"studyList"],[1,"item"],[1,"contentImg"],["src","assets/Images/Images/Colegio.jpg","alt","colegio fe y alegria 13"],[1,"circleStudie"],[1,"contentData"],[1,"data"],[1,"training"],[1,"date"],[1,"title"],[1,"text"],["src","assets/Images/Images/Sise.jpg","alt","instituto sise"],["src","assets/Images/Images/Office.png","alt","image office"],["src","assets/Images/Images/DesarrolloWeb.jpg","alt","imagen Desarrollo Web"],["src","assets/Images/Images/Frameworks.png","alt","Angular y spring boot"],[1,"contentSkills"],[1,"textContentSkills"],[1,"wrapSkills"],[1,"content"],[1,"titleSkill"],[1,"skill"],[1,"textSkill"],[1,"percentage"],[1,"progressBar"],[1,"backgroundProgress",2,"width","85%"],[1,"backgroundProgress",2,"width","80%"],[1,"backgroundProgress",2,"width","70%"],[1,"backgroundProgress",2,"width","60%"],[1,"backgroundProgress",2,"width","50%"],[1,"backgroundProgress",2,"width","40%"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h2"),c._uU(3,"Estudios"),c.qZA(),c.TgZ(4,"div",2),c.TgZ(5,"div",3),c.TgZ(6,"div",4),c._UZ(7,"img",5),c.qZA(),c._UZ(8,"div",6),c.TgZ(9,"div",7),c.TgZ(10,"div",8),c.TgZ(11,"p",9),c._uU(12,"Fe y Alegria"),c.qZA(),c.TgZ(13,"span",10),c._uU(14,"2008 - 2019"),c.qZA(),c.TgZ(15,"h3",11),c._uU(16,"Primaria y Secundaria"),c.qZA(),c.TgZ(17,"p",12),c._uU(18,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos reprehenderit repellat voluptas fuga commodi explicabo velit voluptatibus fugit quibusdam aspernatur. Ipsum odio pariatur nam sed? Doloribus nesciunt libero ex nobis."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"div",3),c.TgZ(20,"div",4),c._UZ(21,"img",13),c.qZA(),c._UZ(22,"div",6),c.TgZ(23,"div",7),c.TgZ(24,"div",8),c.TgZ(25,"p",9),c._uU(26,"SISE"),c.qZA(),c.TgZ(27,"span",10),c._uU(28,"2020 - 2023"),c.qZA(),c.TgZ(29,"h3",11),c._uU(30,"Computacion e informatica"),c.qZA(),c.TgZ(31,"p",12),c._uU(32,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Veniam iusto laborum eaque cum quo in vero nostrum possimus amet nesciunt accusantium repellat ab eum, quae accusamus minima quos. Possimus, officiis?"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(33,"div",3),c.TgZ(34,"div",4),c._UZ(35,"img",14),c.qZA(),c._UZ(36,"div",6),c.TgZ(37,"div",7),c.TgZ(38,"div",8),c.TgZ(39,"p",9),c._uU(40,"Formacion a distancia"),c.qZA(),c.TgZ(41,"span",10),c._uU(42,"2020 - 2021"),c.qZA(),c.TgZ(43,"h3",11),c._uU(44,"Office"),c.qZA(),c.TgZ(45,"p",12),c._uU(46,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Facere, reiciendis? Consequatur fugiat cupiditate quaerat ipsum nulla quas laborum id ad ab, assumenda iusto ex, eius exercitationem dicta tempore, magnam magni!"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(47,"div",3),c.TgZ(48,"div",4),c._UZ(49,"img",15),c.qZA(),c._UZ(50,"div",6),c.TgZ(51,"div",7),c.TgZ(52,"div",8),c.TgZ(53,"p",9),c._uU(54,"Formacion a distancia"),c.qZA(),c.TgZ(55,"span",10),c._uU(56,"2020 - 2022"),c.qZA(),c.TgZ(57,"h3",11),c._uU(58,"Desarrollo web - Frontend"),c.qZA(),c.TgZ(59,"p",12),c._uU(60,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Aut maxime libero unde numquam, in provident deleniti culpa odio cumque repudiandae quo eaque labore asperiores dicta vitae! Sit delectus vel blanditiis."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(61,"div",3),c.TgZ(62,"div",4),c._UZ(63,"img",16),c.qZA(),c._UZ(64,"div",6),c.TgZ(65,"div",7),c.TgZ(66,"div",8),c.TgZ(67,"p",9),c._uU(68,"Formacion a distancia"),c.qZA(),c.TgZ(69,"span",10),c._uU(70,"2021 - 2022"),c.qZA(),c.TgZ(71,"h3",11),c._uU(72,"Spring boot - Angular"),c.qZA(),c.TgZ(73,"p",12),c._uU(74,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Modi sequi nesciunt, pariatur asperiores aperiam rerum dicta nisi reprehenderit illum maxime architecto fuga dolorum? Eum iusto temporibus porro veritatis quis ea?"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(75,"div",17),c.TgZ(76,"h3"),c._uU(77,"Habilidades"),c.qZA(),c.TgZ(78,"p",18),c._uU(79,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt, sit officiis. Odit nisi consectetur quis rem quam! Quia alias aut, perferendis facere nihil sed at non, magni eum obcaecati nisi."),c.qZA(),c.TgZ(80,"div",19),c.TgZ(81,"div",20),c.TgZ(82,"p",21),c._uU(83,"Frontend"),c.qZA(),c.TgZ(84,"div",22),c.TgZ(85,"div",23),c.TgZ(86,"p",12),c._uU(87,"HTML"),c.qZA(),c.TgZ(88,"p",24),c._uU(89,"85%"),c.qZA(),c.qZA(),c.TgZ(90,"div",25),c._UZ(91,"div",26),c.qZA(),c.qZA(),c.TgZ(92,"div",22),c.TgZ(93,"div",23),c.TgZ(94,"p",12),c._uU(95,"CSS/SASS"),c.qZA(),c.TgZ(96,"p",24),c._uU(97,"80%"),c.qZA(),c.qZA(),c.TgZ(98,"div",25),c._UZ(99,"div",27),c.qZA(),c.qZA(),c.TgZ(100,"div",22),c.TgZ(101,"div",23),c.TgZ(102,"p",12),c._uU(103,"Javascript/Typescript"),c.qZA(),c.TgZ(104,"p",24),c._uU(105,"70%"),c.qZA(),c.qZA(),c.TgZ(106,"div",25),c._UZ(107,"div",28),c.qZA(),c.qZA(),c.TgZ(108,"div",22),c.TgZ(109,"div",23),c.TgZ(110,"p",12),c._uU(111,"Angular"),c.qZA(),c.TgZ(112,"p",24),c._uU(113,"60%"),c.qZA(),c.qZA(),c.TgZ(114,"div",25),c._UZ(115,"div",29),c.qZA(),c.qZA(),c.qZA(),c.TgZ(116,"div",20),c.TgZ(117,"p",21),c._uU(118,"Backend"),c.qZA(),c.TgZ(119,"div",22),c.TgZ(120,"div",23),c.TgZ(121,"p",12),c._uU(122,"Java"),c.qZA(),c.TgZ(123,"p",24),c._uU(124,"50%"),c.qZA(),c.qZA(),c.TgZ(125,"div",25),c._UZ(126,"div",30),c.qZA(),c.qZA(),c.TgZ(127,"div",22),c.TgZ(128,"div",23),c.TgZ(129,"p",12),c._uU(130,"C#"),c.qZA(),c.TgZ(131,"p",24),c._uU(132,"50%"),c.qZA(),c.qZA(),c.TgZ(133,"div",25),c._UZ(134,"div",30),c.qZA(),c.qZA(),c.TgZ(135,"div",22),c.TgZ(136,"div",23),c.TgZ(137,"p",12),c._uU(138,"Struts"),c.qZA(),c.TgZ(139,"p",24),c._uU(140,"60%"),c.qZA(),c.qZA(),c.TgZ(141,"div",25),c._UZ(142,"div",29),c.qZA(),c.qZA(),c.TgZ(143,"div",22),c.TgZ(144,"div",23),c.TgZ(145,"p",12),c._uU(146,"Spring Boot"),c.qZA(),c.TgZ(147,"p",24),c._uU(148,"40%"),c.qZA(),c.qZA(),c.TgZ(149,"div",25),c._UZ(150,"div",31),c.qZA(),c.qZA(),c.TgZ(151,"div",22),c.TgZ(152,"div",23),c.TgZ(153,"p",12),c._uU(154,"Base de datos"),c.qZA(),c.TgZ(155,"p",24),c._uU(156,"80%"),c.qZA(),c.qZA(),c.TgZ(157,"div",25),c._UZ(158,"div",27),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},styles:[""]}),n})()}];let QN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[J0.forRoot(YN)],J0]}),n})();const tM=function(){return{exact:!0}},JN=function(n){return{modelNavActive:n}},XN=function(){return["/about"]},eO=function(){return["/contact"]};let tO=(()=>{class n{constructor(t){this.route=t,this.openNavMobile=!1}ngOnInit(){}navMobile(){this.openNavMobile=!this.openNavMobile}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ri))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:95,vars:11,consts:[["lang","es"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Orbitron:wght@500;600&display=swap","rel","stylesheet"],["id","navDesktop",1,"navDesktop"],["routerLinkActive","liActive",3,"routerLinkActiveOptions"],["routerLink","/"],["routerLinkActive","liActive"],["routerLink","/about"],["routerLink","/projects"],["routerLink","/studies"],["routerLink","/contact"],[1,"navMobile"],[3,"click"],["src","assets/Images/Icons/icon-hamburger.svg","alt","icon-hamburger"],[1,"modelNav",3,"ngClass"],[1,"divBtnClose"],["src","assets/Images/Icons/icon-close.svg","alt","icon-close"],["routerLink","/",3,"click"],["routerLink","/about",3,"click"],["routerLink","/projects",3,"click"],["routerLink","/studies",3,"click"],["routerLink","/contact",3,"click"],[1,"navRedes"],["href","https://www.facebook.com/omar.mitma.14/","target","_BLANK"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20"],["fill","#FFF","d","M18.896 0H1.104C.494 0 0 .494 0 1.104v17.793C0 19.506.494 20 1.104 20h9.58v-7.745H8.076V9.237h2.606V7.01c0-2.583 1.578-3.99 3.883-3.99 1.104 0 2.052.082 2.329.119v2.7h-1.598c-1.254 0-1.496.597-1.496 1.47v1.928h2.989l-.39 3.018h-2.6V20h5.098c.608 0 1.102-.494 1.102-1.104V1.104C20 .494 19.506 0 18.896 0z"],["href","https://www.instagram.com/omar.mitma.14/?hl=es","target","_BLANK"],["xmlns","http://www.w3.org/2000/svg","width","21","height","20"],["fill","#FFF","d","M10.333 1.802c2.67 0 2.987.01 4.042.059 2.71.123 3.976 1.409 4.1 4.099.048 1.054.057 1.37.057 4.04 0 2.672-.01 2.988-.058 4.042-.124 2.687-1.386 3.975-4.099 4.099-1.055.048-1.37.058-4.042.058-2.67 0-2.986-.01-4.04-.058-2.717-.124-3.976-1.416-4.1-4.1-.048-1.054-.058-1.37-.058-4.041 0-2.67.01-2.986.058-4.04.124-2.69 1.387-3.977 4.1-4.1 1.054-.048 1.37-.058 4.04-.058zm0-1.802C7.618 0 7.278.012 6.211.06 2.579.227.56 2.242.394 5.877.345 6.944.334 7.284.334 10s.011 3.057.06 4.123c.166 3.632 2.181 5.65 5.816 5.817 1.068.048 1.408.06 4.123.06 2.716 0 3.057-.012 4.124-.06 3.628-.167 5.651-2.182 5.816-5.817.049-1.066.06-1.407.06-4.123s-.011-3.056-.06-4.122C20.11 2.249 18.093.228 14.458.06 13.39.01 13.049 0 10.333 0zm0 4.865a5.135 5.135 0 100 10.27 5.135 5.135 0 000-10.27zm0 8.468a3.333 3.333 0 110-6.666 3.333 3.333 0 010 6.666zm5.339-9.87a1.2 1.2 0 10-.001 2.4 1.2 1.2 0 000-2.4z"],["href","https://twitter.com/OmarKevin6","target","_BLANK"],["xmlns","http://www.w3.org/2000/svg","width","21","height","18"],["fill","#FFF","d","M20.667 2.797a8.192 8.192 0 01-2.357.646 4.11 4.11 0 001.804-2.27 8.22 8.22 0 01-2.606.996A4.096 4.096 0 0014.513.873c-2.649 0-4.595 2.472-3.997 5.038a11.648 11.648 0 01-8.457-4.287 4.109 4.109 0 001.27 5.478A4.086 4.086 0 011.47 6.59c-.045 1.901 1.317 3.68 3.29 4.075a4.113 4.113 0 01-1.853.07 4.106 4.106 0 003.834 2.85 8.25 8.25 0 01-6.075 1.7 11.616 11.616 0 006.29 1.843c7.618 0 11.922-6.434 11.662-12.205a8.354 8.354 0 002.048-2.124z"],[1,"divFooterName"],[1,"divFooterContacto"],[3,"routerLink"],[1,"divContacto"],["src","assets/Images/Icons/logotipo-de-gmail.png","alt","icon-gmail"],["src","assets/Images/Icons/whatsapp.png","alt","icon-whatsapp"],[1,"copyright"],["href","#"]],template:function(t,r){1&t&&(c.TgZ(0,"html",0),c.TgZ(1,"head"),c._UZ(2,"meta",1),c._UZ(3,"meta",2),c._UZ(4,"meta",3),c.TgZ(5,"title"),c._uU(6,"Portafolio"),c.qZA(),c._UZ(7,"link",4),c._UZ(8,"link",5),c._UZ(9,"link",6),c.qZA(),c.TgZ(10,"body"),c.TgZ(11,"header"),c.TgZ(12,"h1"),c._uU(13,"Portafolio"),c.qZA(),c.TgZ(14,"nav",7),c.TgZ(15,"ul"),c.TgZ(16,"li",8),c.TgZ(17,"a",9),c._uU(18,"Inicio"),c.qZA(),c.qZA(),c.TgZ(19,"li",10),c.TgZ(20,"a",11),c._uU(21,"Sobre mi"),c.qZA(),c.qZA(),c.TgZ(22,"li",10),c.TgZ(23,"a",12),c._uU(24,"Proyectos"),c.qZA(),c.qZA(),c.TgZ(25,"li",10),c.TgZ(26,"a",13),c._uU(27,"Estudios"),c.qZA(),c.qZA(),c.TgZ(28,"li",10),c.TgZ(29,"a",14),c._uU(30,"Contacto"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(31,"nav",15),c.TgZ(32,"button",16),c.NdJ("click",function(){return r.navMobile()}),c._UZ(33,"img",17),c.qZA(),c.TgZ(34,"div",18),c.TgZ(35,"div",19),c.TgZ(36,"button",16),c.NdJ("click",function(){return r.navMobile()}),c._UZ(37,"img",20),c.qZA(),c.qZA(),c.TgZ(38,"ul"),c.TgZ(39,"li",8),c.TgZ(40,"a",21),c.NdJ("click",function(){return r.navMobile()}),c._uU(41,"Inicio"),c.qZA(),c.qZA(),c.TgZ(42,"li",10),c.TgZ(43,"a",22),c.NdJ("click",function(){return r.navMobile()}),c._uU(44,"Sobre mi"),c.qZA(),c.qZA(),c.TgZ(45,"li",10),c.TgZ(46,"a",23),c.NdJ("click",function(){return r.navMobile()}),c._uU(47,"Proyectos"),c.qZA(),c.qZA(),c.TgZ(48,"li",10),c.TgZ(49,"a",24),c.NdJ("click",function(){return r.navMobile()}),c._uU(50,"Estudios"),c.qZA(),c.qZA(),c.TgZ(51,"li",10),c.TgZ(52,"a",25),c.NdJ("click",function(){return r.navMobile()}),c._uU(53,"Contacto"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(54,"div",26),c.TgZ(55,"a",27),c.O4$(),c.TgZ(56,"svg",28),c._UZ(57,"path",29),c.qZA(),c.qZA(),c.kcU(),c.TgZ(58,"a",30),c.O4$(),c.TgZ(59,"svg",31),c._UZ(60,"path",32),c.qZA(),c.qZA(),c.kcU(),c.TgZ(61,"a",33),c.O4$(),c.TgZ(62,"svg",34),c._UZ(63,"path",35),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.kcU(),c.TgZ(64,"main"),c._UZ(65,"router-outlet"),c.qZA(),c.TgZ(66,"footer"),c.TgZ(67,"div",36),c.TgZ(68,"h2"),c._uU(69,"OMAR MITMA"),c.qZA(),c.TgZ(70,"p"),c._uU(71,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Animi officiis deleniti ipsam error et voluptatem neque iure distinctio rerum corrupti? Illo provident, voluptas reprehenderit recusandae dolor ut eveniet similique hic!"),c.qZA(),c.qZA(),c.TgZ(72,"div",37),c.TgZ(73,"ul"),c.TgZ(74,"li"),c.TgZ(75,"a",38),c._uU(76,"Sobre Mi"),c.qZA(),c.qZA(),c.TgZ(77,"li"),c.TgZ(78,"a",38),c._uU(79,"Contacto"),c.qZA(),c.qZA(),c.TgZ(80,"li"),c.TgZ(81,"div",39),c._UZ(82,"img",40),c.TgZ(83,"p"),c._uU(84,"omarmitma123@gmail.com"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(85,"li"),c.TgZ(86,"div",39),c._UZ(87,"img",41),c.TgZ(88,"p"),c._uU(89,"+51 931 899 489"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(90,"div",42),c.TgZ(91,"p"),c._uU(92,"\xa9 Todos los derechos reservador "),c.TgZ(93,"a",43),c._uU(94,"OMAR MITMA"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(16),c.Q6J("routerLinkActiveOptions",c.DdM(5,tM)),c.xp6(18),c.Q6J("ngClass",c.VKq(6,JN,r.openNavMobile)),c.xp6(5),c.Q6J("routerLinkActiveOptions",c.DdM(8,tM)),c.xp6(36),c.Q6J("routerLink",c.DdM(9,XN)),c.xp6(3),c.Q6J("routerLink",c.DdM(10,eO)))},directives:[K0,os,Vi,Ff],styles:[""]}),n})();const nM_firebaseConfig={apiKey:"AIzaSyBnv7A_g8PyQOuk_YIb74sJ-RYQuet2504",authDomain:"contactportafolio.firebaseapp.com",projectId:"contactportafolio",storageBucket:"contactportafolio.appspot.com",messagingSenderId:"955111011817",appId:"1:955111011817:web:3ae80d5f24114858b5c778",measurementId:"G-XXSC5ZEL7L"};let nO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[tO]}),n.\u0275inj=c.cJS({providers:[jx],imports:[[ma,Hl,QN,qN,mo.hO.initializeApp(nM_firebaseConfig),cN,Hr]]}),n})();(0,c.G48)(),Lo().bootstrapModule(nO).catch(n=>console.error(n))},5867:(it,_e,P)=>{"use strict";P.d(_e,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=P(9681);(0,c.registerVersion)("firebase","9.6.11","app")},127:(it,_e,P)=>{"use strict";P.d(_e,{Z:()=>c.Z});var c=P(3942);c.Z.registerVersion("firebase","9.6.11","app-compat")},1390:(it,_e,P)=>{"use strict";P.r(_e);var c=P(5861),W=P(3942),O=P(2090),ie=P(9681);function K(m,h){var p={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&h.indexOf(v)<0&&(p[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(v=Object.getOwnPropertySymbols(m);D<v.length;D++)h.indexOf(v[D])<0&&Object.prototype.propertyIsEnumerable.call(m,v[D])&&(p[v[D]]=m[v[D]])}return p}var Le=P(1877),le=P(4859);const Fi=function Dn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},sn=function ln(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Li=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zn=new Le.Yd("@firebase/auth");function tr(m,...h){Zn.logLevel<=Le.in.ERROR&&Zn.error(`Auth (${ie.SDK_VERSION}): ${m}`,...h)}function on(m,...h){throw _r(m,...h)}function Rn(m,...h){return _r(m,...h)}function Zs(m,h,p){const v=Object.assign(Object.assign({},sn()),{[h]:p});return new O.LL("auth","Firebase",v).create(h,{appName:m.name})}function Ur(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&on(m,"argument-error"),Zs(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _r(m,...h){if("string"!=typeof m){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(p,...v)}return Li.create(m,...h)}function Ae(m,h,...p){if(!m)throw _r(h,...p)}function vr(m){const h="INTERNAL ASSERTION FAILED: "+m;throw tr(h),new Error(h)}function nt(m,h){m||vr(h)}const Wr=new Map;function tn(m){nt(m instanceof Function,"Expected a class definition");let h=Wr.get(m);return h?(nt(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,Wr.set(m,h),h)}function Ji(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Nn(){return"http:"===Bn()||"https:"===Bn()}function Bn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Pt{constructor(h,p){this.shortDelay=h,this.longDelay=p,nt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ms(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nn()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(m,h){nt(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class vt{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ys={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},_s=new Pt(3e4,6e4);function ut(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function wn(m,h,p,v){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(m,h,p,v,D={}){return Br(m,D,(0,c.Z)(function*(){let S={},j={};v&&("GET"===h?j=v:S={body:JSON.stringify(v)});const J=(0,O.xO)(Object.assign({key:m.config.apiKey},j)).slice(1),xe=yield m._getAdditionalHeaders();return xe["Content-Type"]="application/json",m.languageCode&&(xe["X-Firebase-Locale"]=m.languageCode),vt.fetch()(ze(m,m.config.apiHost,p,J),Object.assign({method:h,headers:xe,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Br(m,h,p){return dt.apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(m,h,p){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},ys),h);try{const D=new Ee(m),S=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const j=yield S.json();if("needConfirmation"in j)throw We(m,"account-exists-with-different-credential",j);if(S.ok&&!("errorMessage"in j))return j;{const J=S.ok?j.errorMessage:j.error.message,[xe,Se]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw We(m,"credential-already-in-use",j);if("EMAIL_EXISTS"===xe)throw We(m,"email-already-in-use",j);const qe=v[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(Se)throw Zs(m,qe,Se);on(m,qe)}}catch(D){if(D instanceof O.ZR)throw D;on(m,"network-request-failed")}})).apply(this,arguments)}function Tn(m,h,p,v){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(m,h,p,v,D={}){const S=yield wn(m,h,p,v,D);return"mfaPendingCredential"in S&&on(m,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ze(m,h,p,v){const D=`${h}${p}?${v}`;return m.config.emulator?st(m.config,D):`${m.config.apiScheme}://${D}`}class Ee{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(Rn(this.auth,"network-request-failed")),_s.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function We(m,h,p){const v={appName:m.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const D=Rn(m,h,v);return D.customData._tokenResponse=p,D}function jt(){return(jt=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Yt(m,h){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function B(m,h){return G.apply(this,arguments)}function G(){return(G=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function de(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function mt(){return(mt=(0,c.Z)(function*(m,h=!1){const p=(0,O.m9)(m),v=yield p.getIdToken(h),D=nr(v);Ae(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const S="object"==typeof D.firebase?D.firebase:void 0,j=null==S?void 0:S.sign_in_provider;return{claims:D,token:v,authTime:de(Kt(D.auth_time)),issuedAtTime:de(Kt(D.iat)),expirationTime:de(Kt(D.exp)),signInProvider:j||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(m){return 1e3*Number(m)}function nr(m){const[h,p,v]=m.split(".");if(void 0===h||void 0===p||void 0===v)return tr("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,O.tV)(p);return D?JSON.parse(D):(tr("Failed to decode base64 JWT payload"),null)}catch(D){return tr("Caught error parsing JWT payload as JSON",D),null}}function gn(m,h){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,c.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof O.ZR&&mn(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function mn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Yr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,c.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,c.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class vs{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=de(this.lastLoginAt),this.creationTime=de(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ws(m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(m){var h;const p=m.auth,v=yield m.getIdToken(),D=yield gn(m,B(p,{idToken:v}));Ae(null==D?void 0:D.users.length,p,"internal-error");const S=D.users[0];m._notifyReloadListener(S);const j=(null===(h=S.providerUserInfo)||void 0===h?void 0:h.length)?Qr(S.providerUserInfo):[],J=Ja(m.providerData,j),qe=!!m.isAnonymous&&!(m.email&&S.passwordHash||(null==J?void 0:J.length)),et={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:J,metadata:new vs(S.createdAt,S.lastLoginAt),isAnonymous:qe};Object.assign(m,et)})).apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(m){const h=(0,O.m9)(m);yield ws(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ja(m,h){return[...m.filter(v=>!h.some(D=>D.providerId===v.providerId)),...h]}function Qr(m){return m.map(h=>{var{providerId:p}=h,v=K(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Rt(){return(Rt=(0,c.Z)(function*(m,h){const p=yield Br(m,{},(0,c.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:D,apiKey:S}=m.config,j=ze(m,D,"/v1/token",`key=${S}`),J=yield m._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",vt.fetch()(j,{method:"POST",headers:J,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ae(h.idToken,"internal-error"),Ae(void 0!==h.idToken,"internal-error"),Ae(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function qt(m){const h=nr(m);return Ae(h,"internal-error"),Ae(void 0!==h.exp,"internal-error"),Ae(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,c.Z)(function*(){return Ae(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,c.Z)(function*(){const{accessToken:D,refreshToken:S,expiresIn:j}=yield function He(m,h){return Rt.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(D,S,Number(j))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:D,expirationTime:S}=p,j=new Qt;return v&&(Ae("string"==typeof v,"internal-error",{appName:h}),j.refreshToken=v),D&&(Ae("string"==typeof D,"internal-error",{appName:h}),j.accessToken=D),S&&(Ae("number"==typeof S,"internal-error",{appName:h}),j.expirationTime=S),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Qt,this.toJSON())}_performRefresh(){return vr("not implemented")}}function On(m,h){Ae("string"==typeof m||void 0===m,"internal-error",{appName:h})}class Ar{constructor(h){var{uid:p,auth:v,stsTokenManager:D}=h,S=K(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.providerData=S.providerData?[...S.providerData]:[],this.metadata=new vs(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,c.Z)(function*(){const v=yield gn(p,p.stsTokenManager.getToken(p.auth,h));return Ae(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function Ue(m){return mt.apply(this,arguments)}(this,h)}reload(){return function Es(m){return Ln.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ae(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Ar(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,c.Z)(function*(){let D=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),D=!0),p&&(yield ws(v)),yield v.auth._persistUserIfCurrent(v),D&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,c.Z)(function*(){const p=yield h.getIdToken();return yield gn(h,function gt(m,h){return jt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,D,S,j,J,xe,Se,qe;const et=null!==(v=p.displayName)&&void 0!==v?v:void 0,Lt=null!==(D=p.email)&&void 0!==D?D:void 0,pr=null!==(S=p.phoneNumber)&&void 0!==S?S:void 0,qi=null!==(j=p.photoURL)&&void 0!==j?j:void 0,kd=null!==(J=p.tenantId)&&void 0!==J?J:void 0,Yl=null!==(xe=p._redirectEventId)&&void 0!==xe?xe:void 0,Fd=null!==(Se=p.createdAt)&&void 0!==Se?Se:void 0,Lu=null!==(qe=p.lastLoginAt)&&void 0!==qe?qe:void 0,{uid:ss,emailVerified:Vt,isAnonymous:co,providerData:Vu,stsTokenManager:ho}=p;Ae(ss&&ho,h,"internal-error");const Mf=Qt.fromJSON(this.name,ho);Ae("string"==typeof ss,h,"internal-error"),On(et,h.name),On(Lt,h.name),Ae("boolean"==typeof Vt,h,"internal-error"),Ae("boolean"==typeof co,h,"internal-error"),On(pr,h.name),On(qi,h.name),On(kd,h.name),On(Yl,h.name),On(Fd,h.name),On(Lu,h.name);const Ql=new Ar({uid:ss,auth:h,email:Lt,emailVerified:Vt,displayName:et,isAnonymous:co,photoURL:qi,phoneNumber:pr,tenantId:kd,stsTokenManager:Mf,createdAt:Fd,lastLoginAt:Lu});return Vu&&Array.isArray(Vu)&&(Ql.providerData=Vu.map(Ld=>Object.assign({},Ld))),Yl&&(Ql._redirectEventId=Yl),Ql}static _fromIdTokenResponse(h,p,v=!1){return(0,c.Z)(function*(){const D=new Qt;D.updateFromServerResponse(p);const S=new Ar({uid:p.localId,auth:h,stsTokenManager:D,isAnonymous:v});return yield ws(S),S})()}}const wr=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(p,v){var D=this;return(0,c.Z)(function*(){D.storage[p]=v})()}_get(p){var v=this;return(0,c.Z)(function*(){const D=v.storage[p];return void 0===D?null:D})()}_remove(p){var v=this;return(0,c.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return m.type="NONE",m})();function Jt(m,h,p){return`firebase:${m}:${h}:${p}`}class En{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:D,name:S}=this.auth;this.fullUserKey=Jt(this.userKey,D.apiKey,S),this.fullPersistenceKey=Jt("persistence",D.apiKey,S),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ar._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,c.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,c.Z)(function*(){if(!p.length)return new En(tn(wr),h,v);const D=(yield Promise.all(p.map(function(){var Se=(0,c.Z)(function*(qe){if(yield qe._isAvailable())return qe});return function(qe){return Se.apply(this,arguments)}}()))).filter(Se=>Se);let S=D[0]||tn(wr);const j=Jt(v,h.config.apiKey,h.name);let J=null;for(const Se of p)try{const qe=yield Se._get(j);if(qe){const et=Ar._fromJSON(h,qe);Se!==S&&(J=et),S=Se;break}}catch(qe){}const xe=D.filter(Se=>Se._shouldAllowMigration);return S._shouldAllowMigration&&xe.length?(S=xe[0],J&&(yield S._set(j,J.toJSON())),yield Promise.all(p.map(function(){var Se=(0,c.Z)(function*(qe){if(qe!==S)try{yield qe._remove(j)}catch(et){}});return function(qe){return Se.apply(this,arguments)}}())),new En(S,h,v)):new En(S,h,v)})()}}function zs(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Xa(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(At(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Er(h))return"Blackberry";if(Ks(h))return"Webos";if(Ws(h))return"Safari";if((h.includes("chrome/")||Vi(h))&&!h.includes("edge/"))return"Chrome";if(Jr(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function At(m=(0,O.z$)()){return/firefox\//i.test(m)}function Ws(m=(0,O.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vi(m=(0,O.z$)()){return/crios\//i.test(m)}function Xa(m=(0,O.z$)()){return/iemobile/i.test(m)}function Jr(m=(0,O.z$)()){return/android/i.test(m)}function Er(m=(0,O.z$)()){return/blackberry/i.test(m)}function Ks(m=(0,O.z$)()){return/webos/i.test(m)}function Xr(m=(0,O.z$)()){return/iphone|ipad|ipod/i.test(m)}function cl(m=(0,O.z$)()){return Xr(m)||Jr(m)||Ks(m)||Er(m)||/windows phone/i.test(m)||Xa(m)}function vi(m,h=[]){let p;switch(m){case"Browser":p=zs((0,O.z$)());break;case"Worker":p=`${zs((0,O.z$)())}-${m}`;break;default:p=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ie.SDK_VERSION}/${v}`}class qc{constructor(h,p,v){this.app=h,this.heartbeatServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oa(this),this.idTokenSubscription=new oa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Li,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=tn(p)),this._initializationPromise=this.queue((0,c.Z)(function*(){var D,S;if(!v._deleted&&(v.persistenceManager=yield En.create(v,h),!v._deleted)){if(null===(D=v._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(j){}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(S=v.currentUser)||void 0===S?void 0:S.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,c.Z)(function*(){var v;let D=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const S=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,j=null==D?void 0:D._redirectEventId,J=yield p.tryRedirectSignIn(h);(!S||S===j)&&(null==J?void 0:J.user)&&(D=J.user)}return D?D._redirectEventId?(Ae(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===D._redirectEventId?p.directlySetCurrentUser(D):p.reloadAndSetCurrentUserOrClear(D)):p.reloadAndSetCurrentUserOrClear(D):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,c.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(D){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,c.Z)(function*(){try{yield ws(h)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function ll(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,c.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,c.Z)(function*(){const v=h?(0,O.m9)(h):null;return v&&Ae(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,c.Z)(function*(){if(!p._deleted)return h&&Ae(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,c.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,c.Z)(function*(){yield p.assertedPersistence.setPersistence(tn(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,c.Z)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(p);return null===h?D.removeCurrentUser():D.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,c.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&tn(h)||p._popupRedirectResolver;Ae(v,p,"argument-error"),p.redirectPersistenceManager=yield En.create(p,[tn(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,c.Z)(function*(){var v,D;return p._isInitialized&&(yield p.queue((0,c.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,c.Z)(function*(){if(h===p.currentUser)return p.queue((0,c.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,D){if(this._deleted)return()=>{};const S="function"==typeof p?p:p.next.bind(p),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(j,this,"internal-error"),j.then(()=>S(this.currentUser)),"function"==typeof p?h.addObserver(p,v,D):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,c.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.Z)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const D=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return D&&(v["X-Firebase-Client"]=D),v})()}}function An(m){return(0,O.m9)(m)}class oa{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(p=>this.observer=p)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zc(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Gh(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class aa{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return vr("not implemented")}_getIdTokenResponse(h){return vr("not implemented")}_linkToIdToken(h,p){return vr("not implemented")}_getReauthenticationResolver(h){return vr("not implemented")}}function zh(m,h){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:resetPassword",ut(m,h))})).apply(this,arguments)}function Wh(m,h){return zc.apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function dl(m,h){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:update",ut(m,h))})).apply(this,arguments)}function Wc(){return(Wc=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithPassword",ut(m,h))})).apply(this,arguments)}function hl(m,h){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:sendOobCode",ut(m,h))})).apply(this,arguments)}function Kp(m,h){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(m,h){return hl(m,h)})).apply(this,arguments)}function py(m,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(m,h){return hl(m,h)})).apply(this,arguments)}function fl(m,h){return tu.apply(this,arguments)}function tu(){return(tu=(0,c.Z)(function*(m,h){return hl(m,h)})).apply(this,arguments)}function Kh(m,h){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(m,h){return hl(m,h)})).apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithEmailLink",ut(m,h))})).apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithEmailLink",ut(m,h))})).apply(this,arguments)}class ua extends aa{constructor(h,p,v,D=null){super("password",v),this._email=h,this._password=p,this._tenantId=D}static _fromEmailAndPassword(h,p){return new ua(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new ua(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,c.Z)(function*(){switch(p.signInMethod){case"password":return function Wp(m,h){return Wc.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Is(m,h){return pl.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:on(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Wh(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function To(m,h){return Ao.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:on(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Cs(m,h){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithIdp",ut(m,h))})).apply(this,arguments)}class Gn extends aa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Gn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):on("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:D}=p,S=K(p,["providerId","signInMethod"]);if(!v||!D)return null;const j=new Gn(v,D);return j.idToken=S.idToken||void 0,j.accessToken=S.accessToken||void 0,j.secret=S.secret,j.nonce=S.nonce,j.pendingToken=S.pendingToken||null,j}_getIdTokenResponse(h){return Cs(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Cs(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Cs(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,O.xO)(p)}return h}}function ml(m,h){return la.apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:sendVerificationCode",ut(m,h))})).apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithPhoneNumber",ut(m,h))})).apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(m,h){const p=yield Tn(m,"POST","/v1/accounts:signInWithPhoneNumber",ut(m,h));if(p.temporaryProof)throw We(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Yp={USER_NOT_FOUND:"user-not-found"};function Jc(){return(Jc=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithPhoneNumber",ut(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Yp)})).apply(this,arguments)}class Ut extends aa{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Ut({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Ut({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function bi(m,h){return So.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Yh(m,h){return xo.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function yl(m,h){return Jc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:D}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:D}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:S}=h;return v||p||D||S?new Ut({verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:S}):null}}class dn{constructor(h){var p,v,D,S,j,J;const xe=(0,O.zd)((0,O.pd)(h)),Se=null!==(p=xe.apiKey)&&void 0!==p?p:null,qe=null!==(v=xe.oobCode)&&void 0!==v?v:null,et=function nu(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=xe.mode)&&void 0!==D?D:null);Ae(Se&&qe&&et,"argument-error"),this.apiKey=Se,this.operation=et,this.code=qe,this.continueUrl=null!==(S=xe.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(j=xe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(J=xe.tenantId)&&void 0!==J?J:null}static parseLink(h){const p=function Xc(m){const h=(0,O.zd)((0,O.pd)(m)).link,p=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(m)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||p||h||m}(h);try{return new dn(p)}catch(v){return null}}}let Mo=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,v){return ua._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const D=dn.parseLink(v);return Ae(D,"argument-error"),ua._fromEmailAndCode(p,D.code,D.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class zn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ir extends zn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ii extends ir{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Ae("providerId"in p&&"signInMethod"in p,"argument-error"),Gn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ae(h.idToken||h.accessToken,"argument-error"),Gn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ii.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ii.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:S,nonce:j,providerId:J}=h;if(!v&&!D&&!p&&!S||!J)return null;try{return new Ii(J)._credential({idToken:p,accessToken:v,nonce:j,pendingToken:S})}catch(xe){return null}}}let Ro=(()=>{class m extends ir{constructor(){super("facebook.com")}static credential(p){return Gn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Ts=(()=>{class m extends ir{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return Gn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:D}=p;if(!v&&!D)return null;try{return m.credential(v,D)}catch(S){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Xt=(()=>{class m extends ir{constructor(){super("github.com")}static credential(p){return Gn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ei extends aa{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Cs(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Cs(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Cs(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:D,pendingToken:S}=p;return v&&D&&S&&v===D?new ei(v,S):null}static _create(h,p){return new ei(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends zn{constructor(h){Ae(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return hr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return hr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=ei.fromJSON(h);return Ae(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return ei._create(v,p)}catch(D){return null}}}let Ys=(()=>{class m extends ir{constructor(){super("twitter.com")}static credential(p,v){return Gn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=p;if(!v||!D)return null;try{return m.credential(v,D)}catch(S){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Qs(m,h){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signUp",ut(m,h))})).apply(this,arguments)}class sr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,D=!1){return(0,c.Z)(function*(){const S=yield Ar._fromIdTokenResponse(h,v,D),j=ca(v);return new sr({user:S,providerId:j,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,c.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const D=ca(v);return new sr({user:h,providerId:D,_tokenResponse:v,operationType:p})})()}}function ca(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function da(){return(da=(0,c.Z)(function*(m){var h;const p=An(m);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new sr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Qs(p,{returnSecureToken:!0}),D=yield sr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class No extends O.ZR{constructor(h,p,v,D){var S;super(p.code,p.message),this.operationType=v,this.user=D,Object.setPrototypeOf(this,No.prototype),this.customData={appName:h.name,tenantId:null!==(S=h.tenantId)&&void 0!==S?S:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,D){return new No(h,p,v,D)}}function ha(m,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?No._fromErrorAndOperation(m,S,h,v):S})}function _l(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function kt(){return(kt=(0,c.Z)(function*(m,h){const p=(0,O.m9)(m);yield As(!0,p,h);const{providerUserInfo:v}=yield Yt(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),D=_l(v||[]);return p.providerData=p.providerData.filter(S=>D.has(S.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function fa(m,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(m,h,p=!1){const v=yield gn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return sr._forOperation(m,"link",v)})).apply(this,arguments)}function As(m,h,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(m,h,p){yield ws(h);const D=!1===m?"provider-already-linked":"no-such-provider";Ae(_l(h.providerData).has(p)===m,h.auth,D)})).apply(this,arguments)}function br(m,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(m,h,p=!1){const{auth:v}=m,D="reauthenticate";try{const S=yield gn(m,ha(v,D,h,m),p);Ae(S.idToken,v,"internal-error");const j=nr(S.idToken);Ae(j,v,"internal-error");const{sub:J}=j;return Ae(m.uid===J,v,"user-mismatch"),sr._forOperation(m,D,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&on(v,"user-mismatch"),S}})).apply(this,arguments)}function pa(m,h){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(m,h,p=!1){const v="signIn",D=yield ha(m,v,h),S=yield sr._fromIdTokenResponse(m,v,D);return p||(yield m._updateCurrentUser(S.user)),S})).apply(this,arguments)}function iu(m,h){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(m,h){return pa(An(m),h)})).apply(this,arguments)}function ga(m,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(m,h){const p=(0,O.m9)(m);return yield As(!1,p,h.providerId),fa(p,h)})).apply(this,arguments)}function Ui(m,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(m,h){return br((0,O.m9)(m),h)})).apply(this,arguments)}function Xs(m,h){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(m,h){return Tn(m,"POST","/v1/accounts:signInWithCustomToken",ut(m,h))})).apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(m,h){const p=An(m),v=yield Xs(p,{token:h,returnSecureToken:!0}),D=yield sr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class Fo{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?El._fromServerResponse(h,p):on(h,"internal-error")}}class El extends Fo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new El(p)}}function Ss(m,h,p){var v;Ae((null===(v=p.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Ae(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ae(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Ae(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Lo(){return(Lo=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m),D={requestType:"PASSWORD_RESET",email:h};p&&Ss(v,D,p),yield py(v,D)})).apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(m,h,p){yield zh((0,O.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(m,h){yield dl((0,O.m9)(m),{oobCode:h})})).apply(this,arguments)}function au(m,h){return uu.apply(this,arguments)}function uu(){return(uu=(0,c.Z)(function*(m,h){const p=(0,O.m9)(m),v=yield zh(p,{oobCode:h}),D=v.requestType;switch(Ae(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(v.mfaInfo,p,"internal-error");default:Ae(v.email,p,"internal-error")}let S=null;return v.mfaInfo&&(S=Fo._fromServerResponse(An(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:S},operation:D}})).apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(m,h){const{data:p}=yield au((0,O.m9)(m),h);return p.email})).apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(m,h,p){const v=An(m),D=yield Qs(v,{returnSecureToken:!0,email:h,password:p}),S=yield sr._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(S.user),S})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m),D={requestType:"EMAIL_SIGNIN",email:h};Ae(p.handleCodeInApp,v,"argument-error"),p&&Ss(v,D,p),yield fl(v,D)})).apply(this,arguments)}function du(){return(du=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m),D=Mo.credentialWithLink(h,p||Ji());return Ae(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),iu(v,D)})).apply(this,arguments)}function id(m,h){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:createAuthUri",ut(m,h))})).apply(this,arguments)}function ef(){return(ef=(0,c.Z)(function*(m,h){const v={identifier:h,continueUri:Nn()?Ji():"http://localhost"},{signinMethods:D}=yield id((0,O.m9)(m),v);return D||[]})).apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(m,h){const p=(0,O.m9)(m),D={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Ss(p.auth,D,h);const{email:S}=yield Kp(p.auth,D);S!==m.email&&(yield m.reload())})).apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&Ss(v.auth,S,p);const{email:j}=yield Kh(v.auth,S);j!==m.email&&(yield m.reload())})).apply(this,arguments)}function tf(m,h){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,c.Z)(function*(m,h){return wn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,O.m9)(m),S={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},j=yield gn(v,tf(v.auth,S));v.displayName=j.displayName||null,v.photoURL=j.photoUrl||null;const J=v.providerData.find(({providerId:xe})=>"password"===xe);J&&(J.displayName=v.displayName,J.photoURL=v.photoURL),yield v._updateTokensIfNecessary(j)})).apply(this,arguments)}function _a(m,h,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(m,h,p){const{auth:v}=m,S={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(S.email=h),p&&(S.password=p);const j=yield gn(m,Wh(v,S));yield m._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class no{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class eg extends no{constructor(h,p,v,D){super(h,p,v),this.username=D}}class tg extends no{constructor(h,p){super(h,"facebook.com",p)}}class Dl extends eg{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Sn extends no{constructor(h,p){super(h,"google.com",p)}}class an extends eg{constructor(h,p,v){super(h,"twitter.com",p,v)}}function gu(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Xp(m){var h,p;if(!m)return null;const{providerId:v}=m,D=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},S=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const j=null===(p=null===(h=nr(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(j)return new no(S,"anonymous"!==j&&"custom"!==j?j:null)}if(!v)return null;switch(v){case"facebook.com":return new tg(S,D);case"github.com":return new Dl(S,D);case"google.com":return new Sn(S,D);case"twitter.com":return new an(S,D,m.screenName||null);case"custom":case"anonymous":return new no(S,null);default:return new no(S,v,D)}}(p)}class yt{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new yt("enroll",h)}static _fromMfaPendingCredential(h){return new yt("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return yt._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return yt._fromIdtoken(h.multiFactorSession.idToken)}return null}}class jo{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=An(h),D=p.customData._serverResponse,S=(D.mfaInfo||[]).map(J=>Fo._fromServerResponse(v,J));Ae(D.mfaPendingCredential,v,"internal-error");const j=yt._fromMfaPendingCredential(D.mfaPendingCredential);return new jo(j,S,function(){var J=(0,c.Z)(function*(xe){const Se=yield xe._process(v,j);delete D.mfaInfo,delete D.mfaPendingCredential;const qe=Object.assign(Object.assign({},D),{idToken:Se.idToken,refreshToken:Se.refreshToken});switch(p.operationType){case"signIn":const et=yield sr._fromIdTokenResponse(v,p.operationType,qe);return yield v._updateCurrentUser(et.user),et;case"reauthenticate":return Ae(p.user,v,"internal-error"),sr._forOperation(p.user,p.operationType,qe);default:on(v,"internal-error")}});return function(xe){return J.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,c.Z)(function*(){return p.signInResolver(h)})()}}function sd(m,h){return wn(m,"POST","/v2/accounts/mfaEnrollment:start",ut(m,h))}class Ms{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Fo._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Ms(h)}getSession(){var h=this;return(0,c.Z)(function*(){return yt._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var v=this;return(0,c.Z)(function*(){const D=h,S=yield v.getSession(),j=yield gn(v.user,D._process(v.user.auth,S,p));return yield v.user._updateTokensIfNecessary(j),v.user.reload()})()}unenroll(h){var p=this;return(0,c.Z)(function*(){const v="string"==typeof h?h:h.uid,D=yield p.user.getIdToken(),S=yield gn(p.user,function Tl(m,h){return wn(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ut(m,h))}(p.user.auth,{idToken:D,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:j})=>j!==v),yield p.user._updateTokensIfNecessary(S);try{yield p.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const ni=new WeakMap,mu="__sak";class ri{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(mu,"1"),this.storage.removeItem(mu),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ii=(()=>{class m extends ri{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Al(){const m=(0,O.z$)();return Ws(m)||Xr(m)}()&&function _i(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=cl(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),S=this.localCache[v];D!==S&&p(v,S,D)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((J,xe,Se)=>{this.notifyListeners(J,Se)});const D=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(D);if(p.newValue!==J)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!v)return}const S=()=>{const J=this.storage.getItem(D);!v&&this.localCache[D]===J||this.notifyListeners(D,J)},j=this.storage.getItem(D);!function eu(){return(0,O.w1)()&&10===document.documentMode}()||j===p.newValue||p.newValue===p.oldValue?S():setTimeout(S,10)}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const S of Array.from(D))S(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var D=()=>super._set,S=this;return(0,c.Z)(function*(){yield D().call(S,p,v),S.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,D=this;return(0,c.Z)(function*(){const S=yield v().call(D,p);return D.localCache[p]=JSON.stringify(S),S})()}_remove(p){var v=()=>super._remove,D=this;return(0,c.Z)(function*(){yield v().call(D,p),delete D.localCache[p]})()}}return m.type="LOCAL",m})(),nn=(()=>{class m extends ri{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return m.type="SESSION",m})();let od=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(S=>S.isListeningto(p));if(v)return v;const D=new m(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,c.Z)(function*(){const D=p,{eventId:S,eventType:j,data:J}=D.data,xe=v.handlersMap[j];if(!(null==xe?void 0:xe.size))return;D.ports[0].postMessage({status:"ack",eventId:S,eventType:j});const Se=Array.from(xe).map(function(){var et=(0,c.Z)(function*(Lt){return Lt(D.origin,J)});return function(Lt){return et.apply(this,arguments)}}()),qe=yield function io(m){return Promise.all(m.map(function(){var h=(0,c.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(Se);D.ports[0].postMessage({status:"done",eventId:S,eventType:j,response:qe})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Sr(m="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return m+p}class so{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var D=this;return(0,c.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let j,J;return new Promise((xe,Se)=>{const qe=Sr("",20);S.port1.start();const et=setTimeout(()=>{Se(new Error("unsupported_event"))},v);J={messageChannel:S,onMessage(Lt){const pr=Lt;if(pr.data.eventId===qe)switch(pr.data.status){case"ack":clearTimeout(et),j=setTimeout(()=>{Se(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),xe(pr.data.response);break;default:clearTimeout(et),clearTimeout(j),Se(new Error("invalid_response"))}}},D.handlers.add(J),S.port1.addEventListener("message",J.onMessage),D.target.postMessage({eventType:h,eventId:qe,data:p},[S.port2])}).finally(()=>{J&&D.removeMessageHandler(J)})})()}}function xn(){return window}function Ns(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function Ci(){return(Ci=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Os="firebaseLocalStorageDb",xl="firebaseLocalStorage",Ml="fbase_key";class un{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function $o(m,h){return m.transaction([xl],h?"readwrite":"readonly").objectStore(xl)}function ad(){const m=indexedDB.open(Os,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(xl,{keyPath:Ml})}catch(D){p(D)}}),m.addEventListener("success",(0,c.Z)(function*(){const v=m.result;v.objectStoreNames.contains(xl)?h(v):(v.close(),yield function ng(){const m=indexedDB.deleteDatabase(Os);return new un(m).toPromise()}(),h(yield ad()))}))})}function ud(m,h,p){return ld.apply(this,arguments)}function ld(){return(ld=(0,c.Z)(function*(m,h,p){const v=$o(m,!0).put({[Ml]:h,value:p});return new un(v).toPromise()})).apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(m,h){const p=$o(m,!1).get(h),v=yield new un(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ps(m,h){const p=$o(m,!0).delete(h);return new un(p).toPromise()}const Di=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.Z)(function*(){return p.db||(p.db=yield ad()),p.db})()}_withRetries(p){var v=this;return(0,c.Z)(function*(){let D=0;for(;;)try{const S=yield v._openDb();return yield p(S)}catch(S){if(D++>3)throw S;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.Z)(function*(){return Ns()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.Z)(function*(){p.receiver=od._getInstance(function Ea(){return Ns()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(D,S){return{keyProcessed:(yield p._poll()).includes(S.key)}});return function(D,S){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(D,S){return["keyChanged"]});return function(D,S){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.Z)(function*(){var v,D;if(p.activeServiceWorker=yield function oo(){return Ci.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new so(p.activeServiceWorker);const S=yield p.sender._send("ping",{},800);!S||(null===(v=S[0])||void 0===v?void 0:v.fulfilled)&&(null===(D=S[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ao(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ad();return yield ud(p,mu,"1"),yield Ps(p,mu),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(S=>ud(S,p,v)),D.localCache[p]=v,D.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,c.Z)(function*(){const D=yield v._withRetries(S=>function cd(m,h){return vu.apply(this,arguments)}(S,p));return v.localCache[p]=D,D})()}_remove(p){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(D=>Ps(D,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.Z)(function*(){const v=yield p._withRetries(j=>{const J=$o(j,!1).getAll();return new un(J).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const D=[],S=new Set;for(const{fbase_key:j,value:J}of v)S.add(j),JSON.stringify(p.localCache[j])!==JSON.stringify(J)&&(p.notifyListeners(j,J),D.push(j));for(const j of Object.keys(p.localCache))p.localCache[j]&&!S.has(j)&&(p.notifyListeners(j,null),D.push(j));return D})()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const S of Array.from(D))S(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function uf(m,h){return wn(m,"POST","/v2/accounts/mfaSignIn:start",ut(m,h))}function hn(){return(hn=(0,c.Z)(function*(m){return(yield wn(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wu(m){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=D=>{const S=Rn("internal-error");S.customData=D,p(S)},v.type="text/javascript",v.charset="UTF-8",function Rl(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function Ia(m){return`__${m}${Math.floor(1e6*Math.random())}`}const ks=1e12;class Ca{constructor(h){this.auth=h,this.counter=ks,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new hd(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||ks;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ks))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,c.Z)(function*(){var v;return null===(v=p._widgets.get(h||ks))||void 0===v||v.execute(),""})()}}class hd{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof h?document.getElementById(h):h;Ae(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qo(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ur=Ia("rcb"),bu=new Pt(3e4,6e4);class d0{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xn().grecaptcha}load(h,p=""){return Ae(function rg(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(xn().grecaptcha):new Promise((v,D)=>{const S=xn().setTimeout(()=>{D(Rn(h,"network-request-failed"))},bu.get());xn()[ur]=()=>{xn().clearTimeout(S),delete xn()[ur];const J=xn().grecaptcha;if(!J)return void D(Rn(h,"internal-error"));const xe=J.render;J.render=(Se,qe)=>{const et=xe(Se,qe);return this.counter++,et},this.hostLanguage=p,v(J)},wu(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ur,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(S),D(Rn(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!xn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ig{load(h){return(0,c.Z)(function*(){return new Ca(h)})()}clearedOneInstance(){}}const lf="recaptcha",Zo={theme:"light",type:"image"};class Ol{constructor(h,p=Object.assign({},Zo),v){this.parameters=p,this.type=lf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(v),this.isInvisible="invisible"===this.parameters.size,Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof h?document.getElementById(h):h;Ae(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ig:new d0,this.validateStartingState()}verify(){var h=this;return(0,c.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(S=>{const j=J=>{!J||(h.tokenChangeListeners.delete(j),S(J))};h.tokenChangeListeners.add(j),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=xn()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.Z)(function*(){Ae(Nn()&&!Ns(),h.auth,"internal-error"),yield function cf(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Kn(m){return hn.apply(this,arguments)}(h.auth);Ae(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cu{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Ut._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function ts(){return(ts=(0,c.Z)(function*(m,h,p){const v=An(m),D=yield Go(v,h,(0,O.m9)(p));return new Cu(D,S=>iu(v,S))})).apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m);yield As(!1,v,"phone");const D=yield Go(v.auth,h,(0,O.m9)(p));return new Cu(D,S=>ga(v,S))})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m),D=yield Go(v.auth,h,(0,O.m9)(p));return new Cu(D,S=>Ui(v,S))})).apply(this,arguments)}function Go(m,h,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(m,h,p){var v;const D=yield p.verify();try{let S;if(Ae("string"==typeof D,m,"argument-error"),Ae(p.type===lf,m,"argument-error"),S="string"==typeof h?{phoneNumber:h}:h,"session"in S){const j=S.session;if("phoneNumber"in S)return Ae("enroll"===j.type,m,"internal-error"),(yield sd(m,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Ae("signin"===j.type,m,"internal-error");const J=(null===(v=S.multiFactorHint)||void 0===v?void 0:v.uid)||S.multiFactorUid;return Ae(J,m,"missing-multi-factor-info"),(yield uf(m,{mfaPendingCredential:j.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield ml(m,{phoneNumber:S.phoneNumber,recaptchaToken:D});return j}}finally{p._reset()}})).apply(this,arguments)}function I(){return(I=(0,c.Z)(function*(m,h){yield fa((0,O.m9)(m),h)})).apply(this,arguments)}let C=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=An(p)}verifyPhoneNumber(p,v){return Go(this.auth,p,(0,O.m9)(v))}static credential(p,v){return Ut._fromVerification(p,v)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:D}=p;return v&&D?Ut._fromTokenResponse(v,D):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function M(m,h){return h?tn(h):(Ae(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class V extends aa{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Cs(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Cs(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Cs(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Y(m){return pa(m.auth,new V(m),m.bypassAuthState)}function ne(m){const{auth:h,user:p}=m;return Ae(p,h,"internal-error"),br(p,new V(m),m.bypassAuthState)}function Me(m){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(m){const{auth:h,user:p}=m;return Ae(p,h,"internal-error"),fa(p,new V(m),m.bypassAuthState)})).apply(this,arguments)}class wt{constructor(h,p,v,D,S=!1){this.auth=h,this.resolver=v,this.user=D,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,c.Z)(function*(v,D){h.pendingPromise={resolve:v,reject:D};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(S){h.reject(S)}});return function(v,D){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:D,postBody:S,tenantId:j,error:J,type:xe}=h;if(J)return void p.reject(J);const Se={auth:p.auth,requestUri:v,sessionId:D,tenantId:j||void 0,postBody:S||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(xe)(Se))}catch(qe){p.reject(qe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Y;case"linkViaPopup":case"linkViaRedirect":return Me;case"reauthViaPopup":case"reauthViaRedirect":return ne;default:on(this.auth,"internal-error")}}resolve(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _t=new Pt(2e3,1e4);function Et(){return(Et=(0,c.Z)(function*(m,h,p){const v=An(m);Ur(m,h,zn);const D=M(v,p);return new lr(v,"signInViaPopup",h,D).executeNotNull()})).apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m);Ur(v.auth,h,zn);const D=M(v.auth,p);return new lr(v.auth,"reauthViaPopup",h,D,v).executeNotNull()})).apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m);Ur(v.auth,h,zn);const D=M(v.auth,p);return new lr(v.auth,"linkViaPopup",h,D,v).executeNotNull()})).apply(this,arguments)}let lr=(()=>{class m extends wt{constructor(p,v,D,S,j){super(p,v,S,j),this.provider=D,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.Z)(function*(){const v=yield p.execute();return Ae(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,c.Z)(function*(){nt(1===p.filter.length,"Popup operations only handle one event");const v=Sr();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(Rn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,D;this.pollId=(null===(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,_t.get())};p()}}return m.currentPopupAction=null,m})();const ji=new Map;class Wo extends wt{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,c.Z)(function*(){let v=ji.get(p.auth._key());if(!v){try{const S=(yield function Pl(m,h){return Du.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(S)}catch(D){v=()=>Promise.reject(D)}ji.set(p.auth._key(),v)}return p.bypassAuthState||ji.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const D=yield v.auth._redirectUserForId(h.eventId);if(D)return v.user=D,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Du(){return(Du=(0,c.Z)(function*(m,h){const p=og(h),v=Ko(m);if(!(yield v._isAvailable()))return!1;const D="true"===(yield v._get(p));return yield v._remove(p),D})).apply(this,arguments)}function fd(m,h){return kl.apply(this,arguments)}function kl(){return(kl=(0,c.Z)(function*(m,h){return Ko(m)._set(og(h),"true")})).apply(this,arguments)}function Ko(m){return tn(m._redirectPersistence)}function og(m){return Jt("pendingRedirect",m.config.apiKey,m.name)}function pd(){return(pd=(0,c.Z)(function*(m,h,p){const v=An(m);Ur(m,h,zn);const D=M(v,p);return yield fd(D,v),D._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m);Ur(v.auth,h,zn);const D=M(v.auth,p);yield fd(D,v.auth);const S=yield yd(v);return D._openRedirect(v.auth,h,"reauthViaRedirect",S)})).apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(m,h,p){const v=(0,O.m9)(m);Ur(v.auth,h,zn);const D=M(v.auth,p);yield As(!1,v,h.providerId),yield fd(D,v.auth);const S=yield yd(v);return D._openRedirect(v.auth,h,"linkViaRedirect",S)})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(m,h){return yield An(m)._initializationPromise,hf(m,h,!1)})).apply(this,arguments)}function hf(m,h){return _y.apply(this,arguments)}function _y(){return(_y=(0,c.Z)(function*(m,h,p=!1){const v=An(m),D=M(v,h),j=yield new Wo(v,D,p).execute();return j&&!p&&(delete j.user._redirectEventId,yield v._persistUserIfCurrent(j.user),yield v._setRedirectUser(null,h)),j})).apply(this,arguments)}function yd(m){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.Z)(function*(m){const h=Sr(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class vd{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function lg(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wd(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!wd(h)){const D=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(Rn(this.auth,D))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ff(h))}saveEventToCache(h){this.cachedEventUids.add(ff(h)),this.lastProcessedEventTime=Date.now()}}function ff(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function wd({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function pf(m){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.Z)(function*(m,h={}){return wn(m,"GET","/v1/projects",h)})).apply(this,arguments)}const cg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vy=/^https?/;function Qo(){return(Qo=(0,c.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield pf(m);for(const p of h)try{if(wy(p))return}catch(v){}on(m,"unauthorized-domain")})).apply(this,arguments)}function wy(m){const h=Ji(),{protocol:p,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const j=new URL(m);return""===j.hostname&&""===v?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&j.hostname===v}if(!vy.test(p))return!1;if(cg.test(m))return v===m;const D=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const Ey=new Pt(3e4,6e4);function by(){const m=xn().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let Fl=null;function h0(m){return Fl=Fl||function Iy(m){return new Promise((h,p)=>{var v,D,S;function j(){by(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{by(),p(Rn(m,"network-request-failed"))},timeout:Ey.get()})}if(null===(D=null===(v=xn().gapi)||void 0===v?void 0:v.iframes)||void 0===D?void 0:D.Iframe)h(gapi.iframes.getContext());else{if(!(null===(S=xn().gapi)||void 0===S?void 0:S.load)){const J=Ia("iframefcb");return xn()[J]=()=>{gapi.load?j():p(Rn(m,"network-request-failed"))},wu(`https://apis.google.com/js/api.js?onload=${J}`).catch(xe=>p(xe))}j()}}).catch(h=>{throw Fl=null,h})}(m),Fl}const mf=new Pt(5e3,15e3),Dy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f0(m){const h=m.config;Ae(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?st(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:ie.SDK_VERSION},D=yf.get(m.config.apiHost);D&&(v.eid=D);const S=m._getFrameworks();return S.length&&(v.fw=S.join(",")),`${p}?${(0,O.xO)(v).slice(1)}`}function Sa(){return Sa=(0,c.Z)(function*(m){const h=yield h0(m),p=xn().gapi;return Ae(p,m,"internal-error"),h.open({where:document.body,url:f0(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dy,dontclear:!0},v=>new Promise(function(){var D=(0,c.Z)(function*(S,j){yield v.restyle({setHideOnLeave:!1});const J=Rn(m,"network-request-failed"),xe=xn().setTimeout(()=>{j(J)},mf.get());function Se(){xn().clearTimeout(xe),S(v)}v.ping(Se).then(Se,()=>{j(J)})});return function(S,j){return D.apply(this,arguments)}}()))}),Sa.apply(this,arguments)}const dg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function bd(m,h,p,v,D,S){Ae(m.config.authDomain,m,"auth-domain-config-required"),Ae(m.config.apiKey,m,"invalid-api-key");const j={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:v,v:ie.SDK_VERSION,eventId:D};if(h instanceof zn){h.setDefaultLanguage(m.languageCode),j.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(j.customParameters=JSON.stringify(h.getCustomParameters()));for(const[xe,Se]of Object.entries(S||{}))j[xe]=Se}if(h instanceof ir){const xe=h.getScopes().filter(Se=>""!==Se);xe.length>0&&(j.scopes=xe.join(","))}m.tenantId&&(j.tid=m.tenantId);const J=j;for(const xe of Object.keys(J))void 0===J[xe]&&delete J[xe];return`${function Ul({config:m}){return m.emulator?st(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,O.xO)(J).slice(1)}`}const fg="webStorageSupport";class Ef extends class Bl{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return vr("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ef(h)}_finalizeEnroll(h,p,v){return function Ho(m,h){return wn(m,"POST","/v2/accounts/mfaEnrollment:finalize",ut(m,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function dd(m,h){return wn(m,"POST","/v2/accounts/mfaSignIn:finalize",ut(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pg=(()=>{class m{constructor(){}static assertion(p){return Ef._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var gg="@firebase/auth",Cd="0.19.12";class Dd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,c.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var D;h((null===(D=v)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Cn(){return window}function Su(){return(Su=(0,c.Z)(function*(m,h,p){var v;const{BuildInfo:D}=Cn();nt(h.sessionId,"AuthEvent did not contain a session ID");const S=yield Jb(h.sessionId),j={};return Xr()?j.ibi=D.packageName:Jr()?j.apn=D.packageName:on(m,"operation-not-supported-in-this-environment"),D.displayName&&(j.appDisplayName=D.displayName),j.sessionId=S,bd(m,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,j)})).apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(m){const{BuildInfo:h}=Cn(),p={};Xr()?p.iosBundleId=h.packageName:Jr()?p.androidPackageName=h.packageName:on(m,"operation-not-supported-in-this-environment"),yield pf(m,p)})).apply(this,arguments)}function vg(){return(vg=(0,c.Z)(function*(m,h,p){const{cordova:v}=Cn();let D=()=>{};try{yield new Promise((S,j)=>{let J=null;function xe(){var et;S();const Lt=null===(et=v.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Lt&&Lt(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Se(){J||(J=window.setTimeout(()=>{j(Rn(m,"redirect-cancelled-by-user"))},2e3))}function qe(){"visible"===(null==document?void 0:document.visibilityState)&&Se()}h.addPassiveListener(xe),document.addEventListener("resume",Se,!1),Jr()&&document.addEventListener("visibilitychange",qe,!1),D=()=>{h.removePassiveListener(xe),document.removeEventListener("resume",Se,!1),document.removeEventListener("visibilitychange",qe,!1),J&&window.clearTimeout(J)}})}finally{D()}})).apply(this,arguments)}function Jb(m){return bf.apply(this,arguments)}function bf(){return(bf=(0,c.Z)(function*(m){const h=Hl(m),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Hl(m){if(nt(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),p=new Uint8Array(h);for(let v=0;v<m.length;v++)p[v]=m.charCodeAt(v);return p}!function jl(m){(0,ie._registerComponent)(new le.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),D=h.getProvider("heartbeat"),{apiKey:S,authDomain:j}=v.options;return((J,xe)=>{Ae(S&&!S.includes(":"),"invalid-api-key",{appName:J.name}),Ae(!(null==j?void 0:j.includes(":")),"argument-error",{appName:J.name});const Se={apiKey:S,authDomain:j,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vi(m)},qe=new qc(J,xe,Se);return function Kr(m,h){const p=(null==h?void 0:h.persistence)||[],v=(Array.isArray(p)?p:[p]).map(tn);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(qe,p),qe})(v,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new le.wA("auth-internal",h=>{const p=An(h.getProvider("auth").getImmediate());return new Dd(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(gg,Cd,function Sy(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ie.registerVersion)(gg,Cd,"esm2017")}("Browser");class wg extends vd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.Z)(function*(){yield h.initPromise})()}}function Xe(m){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(m){const h=yield If()._get(Ad(m));return h&&(yield If()._remove(Ad(m))),h})).apply(this,arguments)}function $l(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function If(){return tn(ii)}function Ad(m){return Jt("authEvent",m.config.apiKey,m.name)}function Sd(m){if(!(null==m?void 0:m.includes("?")))return{};const[h,...p]=m.split("?");return(0,O.zd)(p.join("?"))}function xu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}function Zl(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function Mr(m=(0,O.z$)()){return!("file:"!==Zl()&&"ionic:"!==Zl()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function $i(){try{const m=self.localStorage,h=Sr();if(m)return m.setItem(h,"1"),m.removeItem(h),!function zl(m=(0,O.z$)()){return function Rd(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Fy(m=(0,O.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.hl)()}catch(m){return Fs()&&(0,O.hl)()}return!1}function Fs(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fr(){return(function Gl(){return"http:"===Zl()||"https:"===Zl()}()||(0,O.ru)()||Mr())&&!function Df(){return(0,O.b$)()||(0,O.UG)()}()&&$i()&&!Fs()}function Tf(){return Mr()&&"undefined"!=typeof document}function Nu(){return(Nu=(0,c.Z)(function*(){return!!Tf()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},Ou=Ae,xa="persistence";function oi(m){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,c.Z)(function*(m){yield m._initializationPromise;const h=Af(),p=Jt(xa,m.config.apiKey,m.name);h&&h.setItem(p,m._getPersistence())})).apply(this,arguments)}function Af(){var m;try{return(null===(m=function bg(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(h){return null}}const ai=Ae;class is{constructor(){this.browserResolver=tn(class Ay{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nn,this._completeRedirectFn=hf}_openPopup(h,p,v,D){var S=this;return(0,c.Z)(function*(){var j;nt(null===(j=S.eventManagers[h._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const J=bd(h,p,v,Ji(),D);return function p0(m,h,p,v=500,D=600){const S=Math.max((window.screen.availHeight-D)/2,0).toString(),j=Math.max((window.screen.availWidth-v)/2,0).toString();let J="";const xe=Object.assign(Object.assign({},dg),{width:v.toString(),height:D.toString(),top:S,left:j}),Se=(0,O.z$)().toLowerCase();p&&(J=Vi(Se)?"_blank":p),At(Se)&&(h=h||"http://localhost",xe.scrollbars="yes");const qe=Object.entries(xe).reduce((Lt,[pr,qi])=>`${Lt}${pr}=${qi},`,"");if(function cn(m=(0,O.z$)()){var h;return Xr(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Se)&&"_self"!==J)return function g0(m,h){const p=document.createElement("a");p.href=m,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",J),new Vl(null);const et=window.open(h||"",J,qe);Ae(et,m,"popup-blocked");try{et.focus()}catch(Lt){}return new Vl(et)}(h,J,Sr())})()}_openRedirect(h,p,v,D){var S=this;return(0,c.Z)(function*(){return yield S._originValidation(h),function _u(m){xn().location.href=m}(bd(h,p,v,Ji(),D)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:D,promise:S}=this.eventManagers[p];return D?Promise.resolve(D):(nt(S,"If manager is not set, promise should be"),S)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,c.Z)(function*(){const v=yield function _f(m){return Sa.apply(this,arguments)}(h),D=new vd(h);return v.register("authEvent",S=>(Ae(null==S?void 0:S.authEvent,h,"invalid-auth-event"),{status:D.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:D},p.iframes[h._key()]=v,D})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(fg,{type:fg},D=>{var S;const j=null===(S=null==D?void 0:D[0])||void 0===S?void 0:S[fg];void 0!==j&&p(!!j),on(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Aa(m){return Qo.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return cl()||Ws()||Xr()}}),this.cordovaResolver=tn(class xd{constructor(){this._redirectPersistence=nn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hf}_initialize(h){var p=this;return(0,c.Z)(function*(){const v=h._key();let D=p.eventManagers.get(v);return D||(D=new wg(h),p.eventManagers.set(v,D),p.attachCallbackListeners(h,D)),D})()}_openPopup(h){on(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,D){var S=this;return(0,c.Z)(function*(){!function m0(m){var h,p,v,D,S,j,J,xe,Se,qe;const et=Cn();Ae("function"==typeof(null===(h=null==et?void 0:et.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(void 0!==(null===(p=null==et?void 0:et.BuildInfo)||void 0===p?void 0:p.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(S=null===(D=null===(v=null==et?void 0:et.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===S?void 0:S.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(xe=null===(J=null===(j=null==et?void 0:et.cordova)||void 0===j?void 0:j.plugins)||void 0===J?void 0:J.browsertab)||void 0===xe?void 0:xe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(qe=null===(Se=null==et?void 0:et.cordova)||void 0===Se?void 0:Se.InAppBrowser)||void 0===qe?void 0:qe.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const j=yield S._initialize(h);yield j.initialized(),j.resetRedirect(),function Ta(){ji.clear()}(),yield S._originValidation(h);const J=function Ny(m,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:$l(),postBody:null,tenantId:m.tenantId,error:Rn(m,"no-auth-event")}}(h,v,D);yield function Oy(m,h){return If()._set(Ad(m),h)}(h,J);const xe=yield function My(m,h,p){return Su.apply(this,arguments)}(h,J,p),Se=yield function Ry(m){const{cordova:h}=Cn();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let D=null;v?h.plugins.browsertab.openUrl(m):D=h.InAppBrowser.open(m,function jr(m=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),p(D)})})}(xe);return function _g(m,h,p){return vg.apply(this,arguments)}(h,j,Se)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function yg(m){return Td.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:D,BuildInfo:S}=Cn(),j=setTimeout((0,c.Z)(function*(){yield Xe(h),p.onEvent(xu())}),500),J=function(){var qe=(0,c.Z)(function*(et){clearTimeout(j);const Lt=yield Xe(h);let pr=null;Lt&&(null==et?void 0:et.url)&&(pr=function Si(m,h){var p,v;const D=function Cf(m){const h=Sd(m),p=h.link?decodeURIComponent(h.link):void 0,v=Sd(p).link,D=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Sd(D).link||D||v||p||m}(h);if(D.includes("/__/auth/callback")){const S=Sd(D),j=S.firebaseError?function Py(m){try{return JSON.parse(m)}catch(h){return null}}(decodeURIComponent(S.firebaseError)):null,J=null===(v=null===(p=null==j?void 0:j.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],xe=J?Rn(J):null;return xe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:D,postBody:null}}return null}(Lt,et.url)),p.onEvent(pr||xu())});return function(Lt){return qe.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,J);const xe=D,Se=`${S.packageName.toLowerCase()}://`;Cn().handleOpenURL=function(){var qe=(0,c.Z)(function*(et){if(et.toLowerCase().startsWith(Se)&&J({url:et}),"function"==typeof xe)try{xe(et)}catch(Lt){console.error(Lt)}});return function(et){return qe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=nn,this._completeRedirectFn=hf}_initialize(h){var p=this;return(0,c.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,D){var S=this;return(0,c.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(h,p,v,D)})()}_openRedirect(h,p,v,D){var S=this;return(0,c.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(h,p,v,D)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Tf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ai(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Ru(){return Nu.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Nd(m){return m.unwrap()}function Cg(m){return Sf(m)}function Sf(m){const{_tokenResponse:h}=m instanceof O.ZR?m.customData:m;if(!h)return null;if(!(m instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return C.credentialFromResult(m);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=Ts;break;case"facebook.com":v=Ro;break;case"github.com":v=Xt;break;case"twitter.com":v=Ys;break;default:const{oauthIdToken:D,oauthAccessToken:S,oauthTokenSecret:j,pendingToken:J,nonce:xe}=h;return S||j||D||J?J?p.startsWith("saml.")?ei._create(p,J):Gn._fromParams({providerId:p,signInMethod:p,pendingToken:J,idToken:D,accessToken:S}):new Ii(p).credential({idToken:D,accessToken:S,rawNonce:xe}):null}return m instanceof O.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function $r(m,h){return h.catch(p=>{throw p instanceof O.ZR&&function Wl(m,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Dg(m,function of(m,h){var p;const v=(0,O.m9)(m),D=h;return Ae(h.customData.operationType,v,"argument-error"),Ae(null===(p=D.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),jo._fromError(v,D)}(m,h));else if(v){const D=Sf(h),S=h;D&&(S.credential=D,S.tenantId=v.tenantId||void 0,S.email=v.email||void 0,S.phoneNumber=v.phoneNumber||void 0)}}(m,p),p}).then(p=>{const D=p.user;return{operationType:p.operationType,credential:Cg(p),additionalUserInfo:gu(p),user:Jo.getOrCreate(D)}})}function Pu(m,h){return ku.apply(this,arguments)}function ku(){return(ku=(0,c.Z)(function*(m,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>$r(m,p.confirm(v))}})).apply(this,arguments)}class Dg{constructor(h,p){this.resolver=p,this.auth=function Ly(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return $r(Nd(this.auth),this.resolver.resolveSignIn(h))}}class Jo{constructor(h){this._delegate=h,this.multiFactor=function Ir(m){const h=(0,O.m9)(m);return ni.has(h)||ni.set(h,Ms._fromUser(h)),ni.get(h)}(h)}static getOrCreate(h){return Jo.USER_MAP.has(h)||Jo.USER_MAP.set(h,new Jo(h)),Jo.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,c.Z)(function*(){return $r(p.auth,ga(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,c.Z)(function*(){return Pu(v.auth,function Bi(m,h,p){return ns.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,c.Z)(function*(){return $r(p.auth,function xr(m,h,p){return rs.apply(this,arguments)}(p._delegate,h,is))})()}linkWithRedirect(h){var p=this;return(0,c.Z)(function*(){return yield oi(An(p.auth)),function yy(m,h,p){return function gd(m,h,p){return lo.apply(this,arguments)}(m,h,p)}(p._delegate,h,is)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,c.Z)(function*(){return $r(p.auth,Ui(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Pu(this.auth,function Da(m,h,p){return uo.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return $r(this.auth,function Ti(m,h,p){return _n.apply(this,arguments)}(this._delegate,h,is))}reauthenticateWithRedirect(h){var p=this;return(0,c.Z)(function*(){return yield oi(An(p.auth)),function ag(m,h,p){return function Tu(m,h,p){return Au.apply(this,arguments)}(m,h,p)}(p._delegate,h,is)})()}sendEmailVerification(h){return function eo(m,h){return ya.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,c.Z)(function*(){return yield function Ie(m,h){return kt.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Qp(m,h){return _a((0,O.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function Jp(m,h){return _a((0,O.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function sg(m,h){return I.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function In(m,h){return to.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function fu(m,h,p){return pu.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Jo.USER_MAP=new WeakMap;const Vs=Ae;let Od=(()=>{class m{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;Vs(D,"invalid-api-key",{appName:p.name}),Vs(D,"invalid-api-key",{appName:p.name});const S="undefined"!=typeof window?is:void 0;this._delegate=v.initialize({options:{persistence:Ft(D,p.name),popupRedirectResolver:S}}),this._delegate._updateErrorMap(Fi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Jo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function wi(m,h,p){const v=An(m);Ae(v._canInitEmulator,v,"emulator-config-failed"),Ae(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const D=!!(null==p?void 0:p.disableWarnings),S=Zc(h),{host:j,port:J}=function zp(m){const h=Zc(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const S=D[1];return{host:S,port:Gh(v.substr(S.length+1))}}{const[S,j]=v.split(":");return{host:S,port:Gh(j)}}}(h);v.config.emulator={url:`${S}//${j}${null===J?"":`:${J}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:j,port:J,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Ei(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,p,v)}applyActionCode(p){return function Jh(m,h){return Vo.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return au(this._delegate,p)}confirmPasswordReset(p,v){return function bl(m,h,p){return ma.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var D=this;return(0,c.Z)(function*(){return $r(D._delegate,function cu(m,h,p){return nd.apply(this,arguments)}(D._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function gy(m,h){return ef.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function bn(m,h){const p=dn.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,c.Z)(function*(){Vs(fr(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function Yo(m,h){return md.apply(this,arguments)}(p._delegate,is);return v?$r(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Eg(m,h){An(m)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,D){const{next:S,error:j,complete:J}=Pd(p,v,D);return this._delegate.onAuthStateChanged(S,j,J)}onIdTokenChanged(p,v,D){const{next:S,error:j,complete:J}=Pd(p,v,D);return this._delegate.onIdTokenChanged(S,j,J)}sendSignInLinkToEmail(p,v){return function Wn(m,h,p){return or.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function ou(m,h,p){return Lo.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,c.Z)(function*(){let D;switch(function Rr(m,h){Ou(Object.values(Mi).includes(h),m,"invalid-persistence-type"),(0,O.b$)()?Ou(h!==Mi.SESSION,m,"unsupported-persistence-type"):(0,O.UG)()?Ou(h===Mi.NONE,m,"unsupported-persistence-type"):Fs()?Ou(h===Mi.NONE||h===Mi.LOCAL&&(0,O.hl)(),m,"unsupported-persistence-type"):Ou(h===Mi.NONE||$i(),m,"unsupported-persistence-type")}(v._delegate,p),p){case Mi.SESSION:D=nn;break;case Mi.LOCAL:D=(yield tn(Di)._isAvailable())?Di:ii;break;case Mi.NONE:D=wr;break;default:return on("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return $r(this._delegate,function ru(m){return da.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return $r(this._delegate,iu(this._delegate,p))}signInWithCustomToken(p){return $r(this._delegate,function wl(m,h){return su.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return $r(this._delegate,function Xh(m,h,p){return iu((0,O.m9)(m),Mo.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return $r(this._delegate,function rd(m,h,p){return du.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Pu(this._delegate,function es(m,h,p){return ts.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,c.Z)(function*(){return Vs(fr(),v._delegate,"operation-not-supported-in-this-environment"),$r(v._delegate,function Ht(m,h,p){return Et.apply(this,arguments)}(v._delegate,p,is))})()}signInWithRedirect(p){var v=this;return(0,c.Z)(function*(){return Vs(fr(),v._delegate,"operation-not-supported-in-this-environment"),yield oi(v._delegate),function my(m,h,p){return function df(m,h,p){return pd.apply(this,arguments)}(m,h,p)}(v._delegate,p,is)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Il(m,h){return lu.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Mi,m})();function Pd(m,h,p){let v=m;"function"!=typeof m&&({next:v,error:h,complete:p}=m);const D=v;return{next:j=>D(j&&Jo.getOrCreate(j)),error:h,complete:p}}function Ft(m,h){const p=function Ls(m,h){const p=Af();if(!p)return[];const v=Jt(xa,m,h);switch(p.getItem(v)){case Mi.NONE:return[wr];case Mi.LOCAL:return[Di,nn];case Mi.SESSION:return[nn];default:return[]}}(m,h);if("undefined"!=typeof self&&!p.includes(Di)&&p.push(Di),"undefined"!=typeof window)for(const v of[ii,nn])p.includes(v)||p.push(v);return p.includes(wr)||p.push(wr),p}class Kl{constructor(){this.providerId="phone",this._delegate=new C(Nd(W.Z.auth()))}static credential(h,p){return C.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Kl.PHONE_SIGN_IN_METHOD=C.PHONE_SIGN_IN_METHOD,Kl.PROVIDER_ID=C.PROVIDER_ID;const Fu=Ae;class Tg{constructor(h,p,v=W.Z.app()){var D;Fu(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ol(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Vy(m){m.INTERNAL.registerComponent(new le.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Od(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Mo,FacebookAuthProvider:Ro,GithubAuthProvider:Xt,GoogleAuthProvider:Ts,OAuthProvider:Ii,SAMLAuthProvider:hr,PhoneAuthProvider:Kl,PhoneMultiFactorGenerator:pg,RecaptchaVerifier:Tg,TwitterAuthProvider:Ys,Auth:Od,AuthCredential:aa,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.12")}(W.Z)},8306:(it,_e,P)=>{"use strict";P.d(_e,{y:()=>F});var c=P(2961),W=P(727),O=P(8822),ie=P(4671);var te=P(2416),K=P(576),H=P(2806);let F=(()=>{class fe{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const oe=new fe;return oe.source=this,oe.operator=Oe,oe}subscribe(Oe,oe,he){const ke=function be(fe){return fe&&fe instanceof c.Lv||function U(fe){return fe&&(0,K.m)(fe.next)&&(0,K.m)(fe.error)&&(0,K.m)(fe.complete)}(fe)&&(0,W.Nn)(fe)}(Oe)?Oe:new c.Hp(Oe,oe,he);return(0,H.x)(()=>{const{operator:Ve,source:Fe}=this;ke.add(Ve?Ve.call(ke,Fe):Fe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(oe){Oe.error(oe)}}forEach(Oe,oe){return new(oe=L(oe))((he,ke)=>{let Ve;Ve=this.subscribe(Fe=>{try{Oe(Fe)}catch(Ye){ke(Ye),null==Ve||Ve.unsubscribe()}},ke,he)})}_subscribe(Oe){var oe;return null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(Oe)}[O.L](){return this}pipe(...Oe){return function ue(fe){return 0===fe.length?ie.y:1===fe.length?fe[0]:function(Oe){return fe.reduce((oe,he)=>he(oe),Oe)}}(Oe)(this)}toPromise(Oe){return new(Oe=L(Oe))((oe,he)=>{let ke;this.subscribe(Ve=>ke=Ve,Ve=>he(Ve),()=>oe(ke))})}}return fe.create=Ce=>new fe(Ce),fe})();function L(fe){var Ce;return null!==(Ce=null!=fe?fe:te.v.Promise)&&void 0!==Ce?Ce:Promise}},7579:(it,_e,P)=>{"use strict";P.d(_e,{x:()=>te});var c=P(8306),W=P(727);const ie=(0,P(3888).d)(H=>function(){H(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=P(8737),ue=P(2806);let te=(()=>{class H extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const U=new K(this,this);return U.operator=L,U}_throwIfClosed(){if(this.closed)throw new ie}next(L){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const U=this.observers.slice();for(const be of U)be.next(L)}})}error(L){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:U}=this;for(;U.length;)U.shift().error(L)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:U,isStopped:be,observers:fe}=this;return U||be?W.Lc:(fe.push(L),new W.w0(()=>(0,ee.P)(fe,L)))}_checkFinalizedStatuses(L){const{hasError:U,thrownError:be,isStopped:fe}=this;U?L.error(be):fe&&L.complete()}asObservable(){const L=new c.y;return L.source=this,L}}return H.create=(F,L)=>new K(F,L),H})();class K extends te{constructor(F,L){super(),this.destination=F,this.source=L}next(F){var L,U;null===(U=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===U||U.call(L,F)}error(F){var L,U;null===(U=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===U||U.call(L,F)}complete(){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===L||L.call(F)}_subscribe(F){var L,U;return null!==(U=null===(L=this.source)||void 0===L?void 0:L.subscribe(F))&&void 0!==U?U:W.Lc}}},2961:(it,_e,P)=>{"use strict";P.d(_e,{Hp:()=>be,Lv:()=>U});var c=P(576),W=P(727),O=P(2416),ie=P(7849);function ee(){}const ue=H("C",void 0,void 0);function H(he,ke,Ve){return{kind:he,value:ke,error:Ve}}var F=P(3410),L=P(2806);class U extends W.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,W.Nn)(ke)&&ke.add(this)):this.destination=oe}static create(ke,Ve,Fe){return new be(ke,Ve,Fe)}next(ke){this.isStopped?Oe(function K(he){return H("N",he,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Oe(function te(he){return H("E",void 0,he)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Oe(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class be extends U{constructor(ke,Ve,Fe){let Ye;if(super(),(0,c.m)(ke))Ye=ke;else if(ke){let Te;({next:Ye,error:Ve,complete:Fe}=ke),this&&O.v.useDeprecatedNextContext?(Te=Object.create(ke),Te.unsubscribe=()=>this.unsubscribe()):Te=ke,Ye=null==Ye?void 0:Ye.bind(Te),Ve=null==Ve?void 0:Ve.bind(Te),Fe=null==Fe?void 0:Fe.bind(Te)}this.destination={next:Ye?fe(Ye):ee,error:fe(null!=Ve?Ve:Ce),complete:Fe?fe(Fe):ee}}}function fe(he,ke){return(...Ve)=>{try{he(...Ve)}catch(Fe){O.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Fe):(0,ie.h)(Fe)}}}function Ce(he){throw he}function Oe(he,ke){const{onStoppedNotification:Ve}=O.v;Ve&&F.z.setTimeout(()=>Ve(he,ke))}const oe={closed:!0,next:ee,error:Ce,complete:ee}},727:(it,_e,P)=>{"use strict";P.d(_e,{Lc:()=>ue,w0:()=>ee,Nn:()=>te});var c=P(576);const O=(0,P(3888).d)(H=>function(L){H(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((U,be)=>`${be+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var ie=P(8737);class ee{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const fe of L)fe.remove(this);else L.remove(this);const{initialTeardown:U}=this;if((0,c.m)(U))try{U()}catch(fe){F=fe instanceof O?fe.errors:[fe]}const{_teardowns:be}=this;if(be){this._teardowns=null;for(const fe of be)try{K(fe)}catch(Ce){F=null!=F?F:[],Ce instanceof O?F=[...F,...Ce.errors]:F.push(Ce)}}if(F)throw new O(F)}}add(F){var L;if(F&&F!==this)if(this.closed)K(F);else{if(F instanceof ee){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._teardowns=null!==(L=this._teardowns)&&void 0!==L?L:[]).push(F)}}_hasParent(F){const{_parentage:L}=this;return L===F||Array.isArray(L)&&L.includes(F)}_addParent(F){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(F),L):L?[L,F]:F}_removeParent(F){const{_parentage:L}=this;L===F?this._parentage=null:Array.isArray(L)&&(0,ie.P)(L,F)}remove(F){const{_teardowns:L}=this;L&&(0,ie.P)(L,F),F instanceof ee&&F._removeParent(this)}}ee.EMPTY=(()=>{const H=new ee;return H.closed=!0,H})();const ue=ee.EMPTY;function te(H){return H instanceof ee||H&&"closed"in H&&(0,c.m)(H.remove)&&(0,c.m)(H.add)&&(0,c.m)(H.unsubscribe)}function K(H){(0,c.m)(H)?H():H.unsubscribe()}},2416:(it,_e,P)=>{"use strict";P.d(_e,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,_e,P)=>{"use strict";P.d(_e,{E:()=>W});const W=new(P(8306).y)(ee=>ee.complete())},8996:(it,_e,P)=>{"use strict";P.d(_e,{D:()=>Ye});var c=P(8421),W=P(5363),O=P(9468),ue=P(8306),K=P(2202),H=P(576),F=P(9672);function U(Te,rt){if(!Te)throw new Error("Iterable cannot be null");return new ue.y(Ge=>{(0,F.f)(Ge,rt,()=>{const ct=Te[Symbol.asyncIterator]();(0,F.f)(Ge,rt,()=>{ct.next().then(X=>{X.done?Ge.complete():Ge.next(X.value)})},0,!0)})})}var be=P(3670),fe=P(8239),Ce=P(1144),Oe=P(6495),oe=P(2206),he=P(4532),ke=P(3260);function Ye(Te,rt){return rt?function Fe(Te,rt){if(null!=Te){if((0,be.c)(Te))return function ie(Te,rt){return(0,c.Xf)(Te).pipe((0,O.R)(rt),(0,W.Q)(rt))}(Te,rt);if((0,Ce.z)(Te))return function te(Te,rt){return new ue.y(Ge=>{let ct=0;return rt.schedule(function(){ct===Te.length?Ge.complete():(Ge.next(Te[ct++]),Ge.closed||this.schedule())})})}(Te,rt);if((0,fe.t)(Te))return function ee(Te,rt){return(0,c.Xf)(Te).pipe((0,O.R)(rt),(0,W.Q)(rt))}(Te,rt);if((0,oe.D)(Te))return U(Te,rt);if((0,Oe.T)(Te))return function L(Te,rt){return new ue.y(Ge=>{let ct;return(0,F.f)(Ge,rt,()=>{ct=Te[K.h](),(0,F.f)(Ge,rt,()=>{let X,ge;try{({value:X,done:ge}=ct.next())}catch(me){return void Ge.error(me)}ge?Ge.complete():Ge.next(X)},0,!0)}),()=>(0,H.m)(null==ct?void 0:ct.return)&&ct.return()})}(Te,rt);if((0,ke.L)(Te))return function Ve(Te,rt){return U((0,ke.Q)(Te),rt)}(Te,rt)}throw(0,he.z)(Te)}(Te,rt):(0,c.Xf)(Te)}},8421:(it,_e,P)=>{"use strict";P.d(_e,{Xf:()=>be});var c=P(5987),W=P(1144),O=P(8239),ie=P(8306),ee=P(3670),ue=P(2206),te=P(4532),K=P(6495),H=P(3260),F=P(576),L=P(7849),U=P(8822);function be(Fe){if(Fe instanceof ie.y)return Fe;if(null!=Fe){if((0,ee.c)(Fe))return function fe(Fe){return new ie.y(Ye=>{const Te=Fe[U.L]();if((0,F.m)(Te.subscribe))return Te.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,W.z)(Fe))return function Ce(Fe){return new ie.y(Ye=>{for(let Te=0;Te<Fe.length&&!Ye.closed;Te++)Ye.next(Fe[Te]);Ye.complete()})}(Fe);if((0,O.t)(Fe))return function Oe(Fe){return new ie.y(Ye=>{Fe.then(Te=>{Ye.closed||(Ye.next(Te),Ye.complete())},Te=>Ye.error(Te)).then(null,L.h)})}(Fe);if((0,ue.D)(Fe))return he(Fe);if((0,K.T)(Fe))return function oe(Fe){return new ie.y(Ye=>{for(const Te of Fe)if(Ye.next(Te),Ye.closed)return;Ye.complete()})}(Fe);if((0,H.L)(Fe))return function ke(Fe){return he((0,H.Q)(Fe))}(Fe)}throw(0,te.z)(Fe)}function he(Fe){return new ie.y(Ye=>{(function Ve(Fe,Ye){var Te,rt,Ge,ct;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Te=(0,c.KL)(Fe);!(rt=yield Te.next()).done;)if(Ye.next(rt.value),Ye.closed)return}catch(X){Ge={error:X}}finally{try{rt&&!rt.done&&(ct=Te.return)&&(yield ct.call(Te))}finally{if(Ge)throw Ge.error}}Ye.complete()})})(Fe,Ye).catch(Te=>Ye.error(Te))})}},6451:(it,_e,P)=>{"use strict";P.d(_e,{T:()=>ue});var c=P(8189),W=P(8421),O=P(515),ie=P(7669),ee=P(8996);function ue(...te){const K=(0,ie.yG)(te),H=(0,ie._6)(te,1/0),F=te;return F.length?1===F.length?(0,W.Xf)(F[0]):(0,c.J)(H)((0,ee.D)(F,K)):O.E}},5403:(it,_e,P)=>{"use strict";P.d(_e,{Q:()=>W});var c=P(2961);class W extends c.Lv{constructor(ie,ee,ue,te,K){super(ie),this.onFinalize=K,this._next=ee?function(H){try{ee(H)}catch(F){ie.error(F)}}:super._next,this._error=te?function(H){try{te(H)}catch(F){ie.error(F)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(H){ie.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}},4004:(it,_e,P)=>{"use strict";P.d(_e,{U:()=>O});var c=P(4482),W=P(5403);function O(ie,ee){return(0,c.e)((ue,te)=>{let K=0;ue.subscribe(new W.Q(te,H=>{te.next(ie.call(ee,H,K++))}))})}},8189:(it,_e,P)=>{"use strict";P.d(_e,{J:()=>O});var c=P(5577),W=P(4671);function O(ie=1/0){return(0,c.z)(W.y,ie)}},5577:(it,_e,P)=>{"use strict";P.d(_e,{z:()=>K});var c=P(4004),W=P(8421),O=P(4482),ie=P(9672),ee=P(5403),te=P(576);function K(H,F,L=1/0){return(0,te.m)(F)?K((U,be)=>(0,c.U)((fe,Ce)=>F(U,fe,be,Ce))((0,W.Xf)(H(U,be))),L):("number"==typeof F&&(L=F),(0,O.e)((U,be)=>function ue(H,F,L,U,be,fe,Ce,Oe){const oe=[];let he=0,ke=0,Ve=!1;const Fe=()=>{Ve&&!oe.length&&!he&&F.complete()},Ye=rt=>he<U?Te(rt):oe.push(rt),Te=rt=>{fe&&F.next(rt),he++;let Ge=!1;(0,W.Xf)(L(rt,ke++)).subscribe(new ee.Q(F,ct=>{null==be||be(ct),fe?Ye(ct):F.next(ct)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(he--;oe.length&&he<U;){const ct=oe.shift();Ce?(0,ie.f)(F,Ce,()=>Te(ct)):Te(ct)}Fe()}catch(ct){F.error(ct)}}))};return H.subscribe(new ee.Q(F,Ye,()=>{Ve=!0,Fe()})),()=>{null==Oe||Oe()}}(U,be,H,L)))}},5363:(it,_e,P)=>{"use strict";P.d(_e,{Q:()=>ie});var c=P(9672),W=P(4482),O=P(5403);function ie(ee,ue=0){return(0,W.e)((te,K)=>{te.subscribe(new O.Q(K,H=>(0,c.f)(K,ee,()=>K.next(H),ue),()=>(0,c.f)(K,ee,()=>K.complete(),ue),H=>(0,c.f)(K,ee,()=>K.error(H),ue)))})}},3099:(it,_e,P)=>{"use strict";P.d(_e,{B:()=>ue});var c=P(8996),W=P(5698),O=P(7579),ie=P(2961),ee=P(4482);function ue(K={}){const{connector:H=(()=>new O.x),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:U=!0}=K;return be=>{let fe=null,Ce=null,Oe=null,oe=0,he=!1,ke=!1;const Ve=()=>{null==Ce||Ce.unsubscribe(),Ce=null},Fe=()=>{Ve(),fe=Oe=null,he=ke=!1},Ye=()=>{const Te=fe;Fe(),null==Te||Te.unsubscribe()};return(0,ee.e)((Te,rt)=>{oe++,!ke&&!he&&Ve();const Ge=Oe=null!=Oe?Oe:H();rt.add(()=>{oe--,0===oe&&!ke&&!he&&(Ce=te(Ye,U))}),Ge.subscribe(rt),fe||(fe=new ie.Hp({next:ct=>Ge.next(ct),error:ct=>{ke=!0,Ve(),Ce=te(Fe,F,ct),Ge.error(ct)},complete:()=>{he=!0,Ve(),Ce=te(Fe,L),Ge.complete()}}),(0,c.D)(Te).subscribe(fe))})(be)}}function te(K,H,...F){return!0===H?(K(),null):!1===H?null:H(...F).pipe((0,W.q)(1)).subscribe(()=>K())}},9468:(it,_e,P)=>{"use strict";P.d(_e,{R:()=>W});var c=P(4482);function W(O,ie=0){return(0,c.e)((ee,ue)=>{ue.add(O.schedule(()=>ee.subscribe(ue),ie))})}},5698:(it,_e,P)=>{"use strict";P.d(_e,{q:()=>ie});var c=P(515),W=P(4482),O=P(5403);function ie(ee){return ee<=0?()=>c.E:(0,W.e)((ue,te)=>{let K=0;ue.subscribe(new O.Q(te,H=>{++K<=ee&&(te.next(H),ee<=K&&te.complete())}))})}},8505:(it,_e,P)=>{"use strict";P.d(_e,{b:()=>ee});var c=P(576),W=P(4482),O=P(5403),ie=P(4671);function ee(ue,te,K){const H=(0,c.m)(ue)||te||K?{next:ue,error:te,complete:K}:ue;return H?(0,W.e)((F,L)=>{var U;null===(U=H.subscribe)||void 0===U||U.call(H);let be=!0;F.subscribe(new O.Q(L,fe=>{var Ce;null===(Ce=H.next)||void 0===Ce||Ce.call(H,fe),L.next(fe)},()=>{var fe;be=!1,null===(fe=H.complete)||void 0===fe||fe.call(H),L.complete()},fe=>{var Ce;be=!1,null===(Ce=H.error)||void 0===Ce||Ce.call(H,fe),L.error(fe)},()=>{var fe,Ce;be&&(null===(fe=H.unsubscribe)||void 0===fe||fe.call(H)),null===(Ce=H.finalize)||void 0===Ce||Ce.call(H)}))}):ie.y}},4408:(it,_e,P)=>{"use strict";P.d(_e,{o:()=>ee});var c=P(727);class W extends c.w0{constructor(te,K){super()}schedule(te,K=0){return this}}const O={setInterval(...ue){const{delegate:te}=O;return((null==te?void 0:te.setInterval)||setInterval)(...ue)},clearInterval(ue){const{delegate:te}=O;return((null==te?void 0:te.clearInterval)||clearInterval)(ue)},delegate:void 0};var ie=P(8737);class ee extends W{constructor(te,K){super(te,K),this.scheduler=te,this.work=K,this.pending=!1}schedule(te,K=0){if(this.closed)return this;this.state=te;const H=this.id,F=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(F,H,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(F,this.id,K),this}requestAsyncId(te,K,H=0){return O.setInterval(te.flush.bind(te,this),H)}recycleAsyncId(te,K,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return K;O.clearInterval(K)}execute(te,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(te,K);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,K){let F,H=!1;try{this.work(te)}catch(L){H=!0,F=L||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:te,scheduler:K}=this,{actions:H}=K;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(H,this),null!=te&&(this.id=this.recycleAsyncId(K,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,_e,P)=>{"use strict";P.d(_e,{v:()=>O});var c=P(6063);class W{constructor(ee,ue=W.now){this.schedulerActionCtor=ee,this.now=ue}schedule(ee,ue=0,te){return new this.schedulerActionCtor(this,ee).schedule(te,ue)}}W.now=c.l.now;class O extends W{constructor(ee,ue=W.now){super(ee,ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:ue}=this;if(this._active)return void ue.push(ee);let te;this._active=!0;do{if(te=ee.execute(ee.state,ee.delay))break}while(ee=ue.shift());if(this._active=!1,te){for(;ee=ue.shift();)ee.unsubscribe();throw te}}}},4986:(it,_e,P)=>{"use strict";P.d(_e,{z:()=>O});var c=P(4408);const O=new(P(7565).v)(c.o)},6063:(it,_e,P)=>{"use strict";P.d(_e,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(it,_e,P)=>{"use strict";P.d(_e,{z:()=>c});const c={setTimeout(...W){const{delegate:O}=c;return((null==O?void 0:O.setTimeout)||setTimeout)(...W)},clearTimeout(W){const{delegate:O}=c;return((null==O?void 0:O.clearTimeout)||clearTimeout)(W)},delegate:void 0}},2202:(it,_e,P)=>{"use strict";P.d(_e,{h:()=>W});const W=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(it,_e,P)=>{"use strict";P.d(_e,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(it,_e,P)=>{"use strict";P.d(_e,{_6:()=>ue,jO:()=>ie,yG:()=>ee});var c=P(576);function O(te){return te[te.length-1]}function ie(te){return(0,c.m)(O(te))?te.pop():void 0}function ee(te){return function W(te){return te&&(0,c.m)(te.schedule)}(O(te))?te.pop():void 0}function ue(te,K){return"number"==typeof O(te)?te.pop():K}},8737:(it,_e,P)=>{"use strict";function c(W,O){if(W){const ie=W.indexOf(O);0<=ie&&W.splice(ie,1)}}P.d(_e,{P:()=>c})},3888:(it,_e,P)=>{"use strict";function c(W){const ie=W(ee=>{Error.call(ee),ee.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(_e,{d:()=>c})},2806:(it,_e,P)=>{"use strict";P.d(_e,{x:()=>O,O:()=>ie});var c=P(2416);let W=null;function O(ee){if(c.v.useDeprecatedSynchronousErrorHandling){const ue=!W;if(ue&&(W={errorThrown:!1,error:null}),ee(),ue){const{errorThrown:te,error:K}=W;if(W=null,te)throw K}}else ee()}function ie(ee){c.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=ee)}},9672:(it,_e,P)=>{"use strict";function c(W,O,ie,ee=0,ue=!1){const te=O.schedule(function(){ie(),ue?W.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(W.add(te),!ue)return te}P.d(_e,{f:()=>c})},4671:(it,_e,P)=>{"use strict";function c(W){return W}P.d(_e,{y:()=>c})},1144:(it,_e,P)=>{"use strict";P.d(_e,{z:()=>c});const c=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(it,_e,P)=>{"use strict";P.d(_e,{D:()=>W});var c=P(576);function W(O){return Symbol.asyncIterator&&(0,c.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(it,_e,P)=>{"use strict";function c(W){return"function"==typeof W}P.d(_e,{m:()=>c})},3670:(it,_e,P)=>{"use strict";P.d(_e,{c:()=>O});var c=P(8822),W=P(576);function O(ie){return(0,W.m)(ie[c.L])}},6495:(it,_e,P)=>{"use strict";P.d(_e,{T:()=>O});var c=P(2202),W=P(576);function O(ie){return(0,W.m)(null==ie?void 0:ie[c.h])}},8239:(it,_e,P)=>{"use strict";P.d(_e,{t:()=>W});var c=P(576);function W(O){return(0,c.m)(null==O?void 0:O.then)}},3260:(it,_e,P)=>{"use strict";P.d(_e,{Q:()=>O,L:()=>ie});var c=P(5987),W=P(576);function O(ee){return(0,c.FC)(this,arguments,function*(){const te=ee.getReader();try{for(;;){const{value:K,done:H}=yield(0,c.qq)(te.read());if(H)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(K)}}finally{te.releaseLock()}})}function ie(ee){return(0,W.m)(null==ee?void 0:ee.getReader)}},4482:(it,_e,P)=>{"use strict";P.d(_e,{A:()=>W,e:()=>O});var c=P(576);function W(ie){return(0,c.m)(null==ie?void 0:ie.lift)}function O(ie){return ee=>{if(W(ee))return ee.lift(function(ue){try{return ie(ue,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(it,_e,P)=>{"use strict";P.d(_e,{h:()=>O});var c=P(2416),W=P(3410);function O(ie){W.z.setTimeout(()=>{const{onUnhandledError:ee}=c.v;if(!ee)throw ie;ee(ie)})}},4532:(it,_e,P)=>{"use strict";function c(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(_e,{z:()=>c})},6808:function(it){it.exports=function(_e){var P={};function c(W){if(P[W])return P[W].exports;var O=P[W]={exports:{},id:W,loaded:!1};return _e[W].call(O.exports,O,O.exports,c),O.loaded=!0,O.exports}return c.m=_e,c.c=P,c.p="",c(0)}([function(_e,P,c){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var W=function(){function te(K,H){for(var F=0;F<H.length;F++){var L=H[F];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(K,L.key,L)}}return function(K,H,F){return H&&te(K.prototype,H),F&&te(K,F),K}}();var ie=c(1),ee=c(3),ue=function(){function te(K,H){(function O(te,K){if(!(te instanceof K))throw new TypeError("Cannot call a class as a function")})(this,te),ie.initializer.load(this,H,K),this.begin()}return W(te,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||!this.pause.status||(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var H=arguments.length<=0||void 0===arguments[0]||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,H&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var H=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){H.currentElContent&&0!==H.currentElContent.length?H.backspace(H.currentElContent,H.currentElContent.length):H.typewrite(H.strings[H.sequence[H.arrayPos]],H.strPos)},this.startDelay)}},{key:"typewrite",value:function(H,F){var L=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var U=this.humanizer(this.typeSpeed),be=1;!0!==this.pause.status?this.timeout=setTimeout(function(){F=ee.htmlParser.typeHtmlChars(H,F,L);var fe=0,Ce=H.substr(F);if("^"===Ce.charAt(0)&&/^\^\d+/.test(Ce)){var Oe=1;Oe+=(Ce=/\d+/.exec(Ce)[0]).length,fe=parseInt(Ce),L.temporaryPause=!0,L.options.onTypingPaused(L.arrayPos,L),H=H.substring(0,F)+H.substring(F+Oe),L.toggleBlinking(!0)}if("`"===Ce.charAt(0)){for(;"`"!==H.substr(F+be).charAt(0)&&(be++,!(F+be>H.length)););var oe=H.substring(0,F),he=H.substring(oe.length+1,F+be),ke=H.substring(F+be+1);H=oe+he+ke,be--}L.timeout=setTimeout(function(){L.toggleBlinking(!1),F>=H.length?L.doneTyping(H,F):L.keepTyping(H,F,be),L.temporaryPause&&(L.temporaryPause=!1,L.options.onTypingResumed(L.arrayPos,L))},fe)},U):this.setPauseStatus(H,F,!0)}},{key:"keepTyping",value:function(H,F,L){0===F&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var U=H.substr(0,F+=L);this.replaceText(U),this.typewrite(H,F)}},{key:"doneTyping",value:function(H,F){var L=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),(this.arrayPos!==this.strings.length-1||(this.complete(),!1!==this.loop&&this.curLoop!==this.loopCount))&&(this.timeout=setTimeout(function(){L.backspace(H,F)},this.backDelay))}},{key:"backspace",value:function(H,F){var L=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var U=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){F=ee.htmlParser.backSpaceHtmlChars(H,F,L);var be=H.substr(0,F);if(L.replaceText(be),L.smartBackspace){var fe=L.strings[L.arrayPos+1];L.stopNum=fe&&be===fe.substr(0,F)?F:0}F>L.stopNum?(F--,L.backspace(H,F)):F<=L.stopNum&&(L.arrayPos++,L.arrayPos===L.strings.length?(L.arrayPos=0,L.options.onLastStringBackspaced(),L.shuffleStringsIfNeeded(),L.begin()):L.typewrite(L.strings[L.sequence[L.arrayPos]],F))},U)}else this.setPauseStatus(H,F,!1)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(H,F,L){this.pause.typewrite=L,this.pause.curString=H,this.pause.curStrPos=F}},{key:"toggleBlinking",value:function(H){!this.cursor||this.pause.status||this.cursorBlinking!==H&&(this.cursorBlinking=H,H?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink"))}},{key:"humanizer",value:function(H){return Math.round(Math.random()*H/2)+H}},{key:"shuffleStringsIfNeeded",value:function(){!this.shuffle||(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var H=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){H.arrayPos++,H.replaceText(""),H.strings.length>H.arrayPos?H.typewrite(H.strings[H.sequence[H.arrayPos]],0):(H.typewrite(H.strings[0],0),H.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(H){this.attr?this.el.setAttribute(this.attr,H):this.isInput?this.el.value=H:"html"===this.contentType?this.el.innerHTML=H:this.el.textContent=H}},{key:"bindFocusEvents",value:function(){var H=this;!this.isInput||(this.el.addEventListener("focus",function(F){H.stop()}),this.el.addEventListener("blur",function(F){H.el.value&&0!==H.el.value.length||H.start()}))}},{key:"insertCursor",value:function(){!this.showCursor||this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling))}}]),te}();P.default=ue,_e.exports=P.default},function(_e,P,c){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var W=Object.assign||function(F){for(var L=1;L<arguments.length;L++){var U=arguments[L];for(var be in U)Object.prototype.hasOwnProperty.call(U,be)&&(F[be]=U[be])}return F},O=function(){function F(L,U){for(var be=0;be<U.length;be++){var fe=U[be];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(L,fe.key,fe)}}return function(L,U,be){return U&&F(L.prototype,U),be&&F(L,be),L}}();var te=function ie(F){return F&&F.__esModule?F:{default:F}}(c(2)),K=function(){function F(){!function ee(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}(this,F)}return O(F,[{key:"load",value:function(U,be,fe){if(U.el="string"==typeof fe?document.querySelector(fe):fe,U.options=W({},te.default,be),U.isInput="input"===U.el.tagName.toLowerCase(),U.attr=U.options.attr,U.bindInputFocusEvents=U.options.bindInputFocusEvents,U.showCursor=!U.isInput&&U.options.showCursor,U.cursorChar=U.options.cursorChar,U.cursorBlinking=!0,U.elContent=U.attr?U.el.getAttribute(U.attr):U.el.textContent,U.contentType=U.options.contentType,U.typeSpeed=U.options.typeSpeed,U.startDelay=U.options.startDelay,U.backSpeed=U.options.backSpeed,U.smartBackspace=U.options.smartBackspace,U.backDelay=U.options.backDelay,U.fadeOut=U.options.fadeOut,U.fadeOutClass=U.options.fadeOutClass,U.fadeOutDelay=U.options.fadeOutDelay,U.isPaused=!1,U.strings=U.options.strings.map(function(ke){return ke.trim()}),U.stringsElement="string"==typeof U.options.stringsElement?document.querySelector(U.options.stringsElement):U.options.stringsElement,U.stringsElement){U.strings=[],U.stringsElement.style.display="none";var Ce=Array.prototype.slice.apply(U.stringsElement.children),Oe=Ce.length;if(Oe)for(var oe=0;oe<Oe;oe+=1)U.strings.push(Ce[oe].innerHTML.trim())}for(var oe in U.strPos=0,U.arrayPos=0,U.stopNum=0,U.loop=U.options.loop,U.loopCount=U.options.loopCount,U.curLoop=0,U.shuffle=U.options.shuffle,U.sequence=[],U.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},U.typingComplete=!1,U.strings)U.sequence[oe]=oe;U.currentElContent=this.getCurrentElContent(U),U.autoInsertCss=U.options.autoInsertCss,this.appendAnimationCss(U)}},{key:"getCurrentElContent",value:function(U){return U.attr?U.el.getAttribute(U.attr):U.isInput?U.el.value:"html"===U.contentType?U.el.innerHTML:U.el.textContent}},{key:"appendAnimationCss",value:function(U){var be="data-typed-js-css";if(U.autoInsertCss&&(U.showCursor||U.fadeOut)&&!document.querySelector("["+be+"]")){var fe=document.createElement("style");fe.type="text/css",fe.setAttribute(be,!0);var Ce="";U.showCursor&&(Ce+="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      "),U.fadeOut&&(Ce+="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      "),0!==fe.length&&(fe.innerHTML=Ce,document.body.appendChild(fe))}}}]),F}();P.default=K;var H=new K;P.initializer=H},function(_e,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.default={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(O){},onComplete:function(O){},preStringTyped:function(O,ie){},onStringTyped:function(O,ie){},onLastStringBackspaced:function(O){},onTypingPaused:function(O,ie){},onTypingResumed:function(O,ie){},onReset:function(O){},onStop:function(O,ie){},onStart:function(O,ie){},onDestroy:function(O){}},_e.exports=P.default},function(_e,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var c=function(){function ee(ue,te){for(var K=0;K<te.length;K++){var H=te[K];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(ue,H.key,H)}}return function(ue,te,K){return te&&ee(ue.prototype,te),K&&ee(ue,K),ue}}();var O=function(){function ee(){!function W(ee,ue){if(!(ee instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,ee)}return c(ee,[{key:"typeHtmlChars",value:function(te,K,H){if("html"!==H.contentType)return K;var F=te.substr(K).charAt(0);if("<"===F||"&"===F){var L;for(L="<"===F?">":";";te.substr(K+1).charAt(0)!==L&&!(1+ ++K>te.length););K++}return K}},{key:"backSpaceHtmlChars",value:function(te,K,H){if("html"!==H.contentType)return K;var F=te.substr(K).charAt(0);if(">"===F||";"===F){var L;for(L=">"===F?"<":"&";te.substr(K-1).charAt(0)!==L&&!(--K<0););K--}return K}}]),ee}();P.default=O;var ie=new O;P.htmlParser=ie}])},5987:(it,_e,P)=>{"use strict";function K(X,ge,me,ve){return new(me||(me=Promise))(function(le,Mt){function Wt(at){try{ot(ve.next(at))}catch(Dn){Mt(Dn)}}function qn(at){try{ot(ve.throw(at))}catch(Dn){Mt(Dn)}}function ot(at){at.done?le(at.value):function Le(le){return le instanceof me?le:new me(function(Mt){Mt(le)})}(at.value).then(Wt,qn)}ot((ve=ve.apply(X,ge||[])).next())})}function oe(X){return this instanceof oe?(this.v=X,this):new oe(X)}function he(X,ge,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ve=me.apply(X,ge||[]),le=[];return Le={},Mt("next"),Mt("throw"),Mt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Mt(ln){ve[ln]&&(Le[ln]=function(Fi){return new Promise(function(sn,Li){le.push([ln,Fi,sn,Li])>1||Wt(ln,Fi)})})}function Wt(ln,Fi){try{!function qn(ln){ln.value instanceof oe?Promise.resolve(ln.value.v).then(ot,at):Dn(le[0][2],ln)}(ve[ln](Fi))}catch(sn){Dn(le[0][3],sn)}}function ot(ln){Wt("next",ln)}function at(ln){Wt("throw",ln)}function Dn(ln,Fi){ln(Fi),le.shift(),le.length&&Wt(le[0][0],le[0][1])}}function Ve(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ge=X[Symbol.asyncIterator];return ge?ge.call(X):(X=function U(X){var ge="function"==typeof Symbol&&Symbol.iterator,me=ge&&X[ge],ve=0;if(me)return me.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ve>=X.length&&(X=void 0),{value:X&&X[ve++],done:!X}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),me={},ve("next"),ve("throw"),ve("return"),me[Symbol.asyncIterator]=function(){return this},me);function ve(le){me[le]=X[le]&&function(Mt){return new Promise(function(Wt,qn){!function Le(le,Mt,Wt,qn){Promise.resolve(qn).then(function(ot){le({value:ot,done:Wt})},Mt)}(Wt,qn,(Mt=X[le](Mt)).done,Mt.value)})}}}P.d(_e,{mG:()=>K,qq:()=>oe,FC:()=>he,KL:()=>Ve})},5e3:(it,_e,P)=>{"use strict";P.d(_e,{deG:()=>$o,tb:()=>sb,AFp:()=>nb,ip1:()=>Nv,CZH:()=>Rc,hGG:()=>Jv,z2F:()=>xp,sBO:()=>il,Sil:()=>Ap,_Vd:()=>Za,EJc:()=>tl,SBq:()=>yh,qLn:()=>Gl,vpe:()=>pi,tBr:()=>_n,XFs:()=>nt,OlP:()=>un,zs3:()=>Bs,ZZ4:()=>ny,aQg:()=>Ya,soG:()=>zm,YKP:()=>ds,h0i:()=>bo,PXZ:()=>zC,R0b:()=>Wi,FiY:()=>xr,Lbi:()=>qs,g9A:()=>Tp,Qsj:()=>EC,FYo:()=>DE,JOm:()=>ai,tp0:()=>lr,Rgc:()=>Ch,dDg:()=>Fv,q4F:()=>SE,GfV:()=>AE,s_b:()=>Gt,ifc:()=>Pt,eFA:()=>Mh,G48:()=>pb,Gpc:()=>L,X6Q:()=>Ki,_c5:()=>Tb,VLi:()=>cb,c2e:()=>el,zSh:()=>$g,wAp:()=>ft,vHH:()=>Ce,cg1:()=>Ua,kL8:()=>z_,dqk:()=>ut,sIi:()=>ac,CqO:()=>lm,QGY:()=>eh,F4k:()=>S_,RDi:()=>Yp,AaK:()=>K,qOj:()=>Cr,TTD:()=>To,_Bn:()=>bE,xp6:()=>I0,uIk:()=>m_,ekj:()=>gc,Suo:()=>Ev,Xpm:()=>Yt,lG2:()=>Kt,Yz7:()=>sn,cJS:()=>yi,oAB:()=>re,Yjl:()=>nr,Y36:()=>Gf,_UZ:()=>zf,qZA:()=>um,TgZ:()=>Pa,n5z:()=>xn,LFG:()=>ne,$8M:()=>Ns,$Z:()=>Tw,NdJ:()=>cm,CRH:()=>bv,kcU:()=>id,O4$:()=>rd,oxw:()=>Jf,Q6J:()=>Yu,s9C:()=>ep,DdM:()=>pv,VKq:()=>gv,iGM:()=>Th,LSH:()=>Su,YNc:()=>Xd,_uU:()=>vm,Oqu:()=>U_});var c=P(7579),W=P(727),O=P(8306),ie=P(6451),ee=P(3099);function ue(i){for(let s in i)if(i[s]===ue)return s;throw Error("Could not find renamed property on target object.")}function te(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function K(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(K).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function H(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const F=ue({__forward_ref__:ue});function L(i){return i.__forward_ref__=L,i.toString=function(){return K(this())},i}function U(i){return be(i)?i():i}function be(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===L}class Ce extends Error{constructor(s,a){super(function Oe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function oe(i){return"string"==typeof i?i:null==i?"":String(i)}function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():oe(i)}function Ye(i,s){const a=s?` in ${s}`:"";throw new Ce(-201,`No provider for ${he(i)} found${a}`)}function ot(i,s){null==i&&function at(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function sn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function yi(i){return{providers:i.providers||[],imports:i.imports||[]}}function Zn(i){return tr(i,Ur)||tr(i,Ae)}function tr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zs(i){return i&&(i.hasOwnProperty(_r)||i.hasOwnProperty(vr))?i[_r]:null}const Ur=ue({\u0275prov:ue}),_r=ue({\u0275inj:ue}),Ae=ue({ngInjectableDef:ue}),vr=ue({ngInjectorDef:ue});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Wr;function cr(i){const s=Wr;return Wr=i,s}function Kr(i,s,a){const l=Zn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&nt.Optional?null:void 0!==s?s:void Ye(K(i),"Injector")}function Nn(i){return{toString:i}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),Pt=(()=>{return(i=Pt||(Pt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Pt;var i})();const st="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,ys="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ut=st||"undefined"!=typeof global&&global||vt||ys,Br={},dt=[],Tn=ue({\u0275cmp:ue}),Nt=ue({\u0275dir:ue}),ze=ue({\u0275pipe:ue}),Ee=ue({\u0275mod:ue}),We=ue({\u0275fac:ue}),gt=ue({__NG_ELEMENT_ID__:ue});let jt=0;function Yt(i){return Nn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||dt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pt.Emulated,id:"c",styles:i.styles||dt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,g=i.features,_=i.pipes;return l.id+=jt++,l.inputs=mt(i.inputs,a),l.outputs=mt(i.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(B):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(G):null,l})}function B(i){return qt(i)||function gn(i){return i[Nt]||null}(i)}function G(i){return function Tt(i){return i[ze]||null}(i)}const de={};function re(i){return Nn(()=>{const s={type:i.type,bootstrap:i.bootstrap||dt,declarations:i.declarations||dt,imports:i.imports||dt,exports:i.exports||dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(de[i.id]=i.type),s})}function mt(i,s){if(null==i)return Br;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,s&&(s[d]=g)}return a}const Kt=Yt;function nr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function qt(i){return i[Tn]||null}function mn(i,s){const a=i[Ee]||null;if(!a&&!0===s)throw new Error(`Type ${K(i)} does not have '\u0275mod' property.`);return a}function _i(i){return Array.isArray(i)&&"object"==typeof i[1]}function vi(i){return Array.isArray(i)&&!0===i[1]}function qc(i){return 0!=(8&i.flags)}function An(i){return 2==(2&i.flags)}function oa(i){return 1==(1&i.flags)}function wi(i){return null!==i.template}function Zc(i){return 0!=(512&i[2])}function Is(i,s){return i.hasOwnProperty(We)?i[We]:null}class pl{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function To(){return Ao}function Ao(i){return i.type.prototype.ngOnChanges&&(i.setInput=Cs),ua}function ua(){const i=Ds(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Br)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Cs(i,s,a,l){const d=Ds(i)||function Gn(i,s){return i[gl]=s}(i,{previous:Br,current:null}),g=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],b=_[w];g[w]=new pl(b&&b.currentValue,s,_===Br),i[l]=s}To.ngInherit=!0;const gl="__ngSimpleChanges__";function Ds(i){return i[gl]||null}const So="http://www.w3.org/2000/svg";let xo;function Yp(i){xo=i}function Ut(i){return!!i.listen}const nu={createRenderer:(i,s)=>function yl(){return void 0!==xo?xo:"undefined"!=typeof document?document:void 0}()};function dn(i){for(;Array.isArray(i);)i=i[0];return i}function zn(i,s){return dn(s[i])}function ir(i,s){return dn(s[i.index])}function Ro(i,s){return i.data[s]}function Xt(i,s){const a=s[i];return _i(a)?a:a[0]}function td(i){return 4==(4&i[2])}function ei(i){return 128==(128&i[2])}function hr(i,s){return null==s?null:i[s]}function Ys(i){i[18]=0}function Qs(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ht={lFrame:uu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function No(){return ht.bindingsEnabled}function Ie(){return ht.lFrame.lView}function kt(){return ht.lFrame.tView}function yn(){let i=As();for(;null!==i&&64===i.type;)i=i.parent;return i}function As(){return ht.lFrame.currentTNode}function br(i,s){const a=ht.lFrame;a.currentTNode=i,a.isParent=s}function Js(){return ht.lFrame.isParent}function Po(){return ht.isInCheckNoChangesMode}function ga(i){ht.isInCheckNoChangesMode=i}function jn(){const i=ht.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Xs(){return ht.lFrame.bindingIndex++}function Fo(i,s){const a=ht.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ss(s)}function Ss(i){ht.lFrame.currentDirectiveIndex=i}function Lo(){return ht.lFrame.currentQueryIndex}function bl(i){ht.lFrame.currentQueryIndex=i}function ma(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Jh(i,s,a){if(a&nt.SkipSelf){let d=s,g=i;for(;!(d=d.parent,null!==d||a&nt.Host||(d=ma(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;s=d,i=g}const l=ht.lFrame=au();return l.currentTNode=s,l.lView=i,!0}function Vo(i){const s=au(),a=i[1];ht.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function au(){const i=ht.lFrame,s=null===i?null:i.child;return null===s?uu(i):s}function uu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Il(){const i=ht.lFrame;return ht.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const lu=Il;function cu(){const i=Il();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wn(){return ht.lFrame.selectedIndex}function or(i){ht.lFrame.selectedIndex=i}function bn(){const i=ht.lFrame;return Ro(i.tView,i.selectedIndex)}function rd(){ht.lFrame.currentNamespace=So}function id(){!function hu(){ht.lFrame.currentNamespace=null}()}function eo(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:x}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function ya(i,s,a){tf(i,s,3,a)}function fu(i,s,a,l){(3&i[2])===a&&tf(i,s,a,l)}function pu(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function tf(i,s,a,l){const g=null!=l?l:-1,_=s.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=l&&w>=l)break}else s[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(Cl(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function Cl(i,s,a,l){const d=a[l]<0,g=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class to{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Dl(i,s,a){const l=Ut(i);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const _=a[d++],w=a[d++],b=a[d++];l?i.setAttribute(s,w,b,_):s.setAttributeNS(_,w,b)}else{const _=g,w=a[++d];an(_)?l&&i.setProperty(s,_,w):l?i.setAttribute(s,_,w):s.setAttribute(_,w),d++}}return d}function Sn(i){return 3===i||4===i||6===i}function an(i){return 64===i.charCodeAt(0)}function gu(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||nf(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function nf(i,s,a,l,d){let g=0,_=i.length;if(-1===s)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[g+1]=d));if(l===i[g+1])return void(i[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==_&&(i.splice(_,0,s),g=_+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==d&&i.splice(g++,0,d)}function rf(i){return-1!==i}function Bo(i){return 32767&i}function va(i,s){let a=function sf(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let ro=!0;function xs(i){const s=ro;return ro=i,s}let of=0;function Ho(i,s){const a=Ms(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Tl(l.data,i),Tl(s,null),Tl(l.blueprint,null));const d=ni(i,s),g=i.injectorIndex;if(rf(d)){const _=Bo(d),w=va(d,s),b=w[1].data;for(let A=0;A<8;A++)s[g+A]=w[_+A]|b[_+A]}return s[g+8]=d,g}function Tl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ms(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ni(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const g=d[1],_=g.type;if(l=2===_?g.declTNode:1===_?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ir(i,s,a){!function sd(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(gt)&&(l=a[gt]),null==l&&(l=a[gt]=of++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function ri(i,s,a){if(a&nt.Optional)return i;Ye(s,"NodeInjector")}function Al(i,s,a,l){if(a&nt.Optional&&void 0===l&&(l=null),0==(a&(nt.Self|nt.Host))){const d=i[9],g=cr(void 0);try{return d?d.get(s,l,a&nt.Optional):Kr(s,l,a&nt.Optional)}finally{cr(g)}}return ri(l,s,a)}function Sl(i,s,a,l=nt.Default,d){if(null!==i){const g=function io(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(gt)?i[gt]:void 0;return"number"==typeof s?s>=0?255&s:yu:s}(a);if("function"==typeof g){if(!Jh(s,i,l))return l&nt.Host?ri(d,a,l):Al(s,a,l,d);try{const _=g(l);if(null!=_||l&nt.Optional)return _;Ye(a)}finally{lu()}}else if("number"==typeof g){let _=null,w=Ms(i,s),b=-1,A=l&nt.Host?s[16][6]:null;for((-1===w||l&nt.SkipSelf)&&(b=-1===w?ni(i,s):s[w+8],-1!==b&&Sr(l,!1)?(_=s[1],w=Bo(b),s=va(b,s)):w=-1);-1!==w;){const x=s[1];if(od(g,w,x.data)){const k=ii(w,s,a,_,l,A);if(k!==wa)return k}b=s[w+8],-1!==b&&Sr(l,s[1].data[w+8]===A)&&od(g,w,s)?(_=x,w=Bo(b),s=va(b,s)):w=-1}}}return Al(s,a,l,d)}const wa={};function yu(){return new so(yn(),Ie())}function ii(i,s,a,l,d,g){const _=s[1],w=_.data[i+8],x=Rs(w,_,a,null==l?An(w)&&ro:l!=_&&0!=(3&w.type),d&nt.Host&&g===w);return null!==x?nn(s,_,x,w):wa}function Rs(i,s,a,l,d){const g=i.providerIndexes,_=s.data,w=1048575&g,b=i.directiveStart,x=g>>20,$=d?w+x:i.directiveEnd;for(let Q=l?w:w+x;Q<$;Q++){const pe=_[Q];if(Q<b&&a===pe||Q>=b&&pe.type===a)return Q}if(d){const Q=_[b];if(Q&&wi(Q)&&Q.type===a)return b}return null}function nn(i,s,a,l){let d=i[a];const g=s.data;if(function Qp(i){return i instanceof to}(d)){const _=d;_.resolving&&function ke(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${i}${a}`)}(he(g[a]));const w=xs(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?cr(_.injectImpl):null;Jh(i,l,nt.Default);try{d=i[a]=_.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function ef(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=s.type.prototype;if(l){const _=Ao(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==b&&cr(b),xs(w),_.resolving=!1,lu()}}return d}function od(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Sr(i,s){return!(i&nt.Self||i&nt.Host&&s)}class so{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Sl(this._tNode,this._lView,s,l,a)}}function xn(i){return Nn(()=>{const s=i.prototype.constructor,a=s[We]||_u(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const g=d[We]||_u(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function _u(i){return be(i)?()=>{const s=_u(U(i));return s&&s()}:Is(i)}function Ns(i){return function mu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(Sn(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===s)return a[d+1];d+=2}}}return null}(yn(),i)}const Ci="__parameters__";function Xi(i,s,a){return Nn(()=>{const l=function Os(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...g){if(this instanceof d)return l.apply(this,g),this;const _=new d(...g);return w.annotation=_,w;function w(b,A,x){const k=b.hasOwnProperty(Ci)?b[Ci]:Object.defineProperty(b,Ci,{value:[]})[Ci];for(;k.length<=x;)k.push(null);return(k[x]=k[x]||[]).push(_),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class un{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $o=new un("AnalyzeForEntryComponents");function Kn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Kn(l,s)):s!==i&&s.push(l)}return s}function hn(i,s){i.forEach(a=>Array.isArray(a)?hn(a,s):s(a))}function Rl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function wu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ur(i,s,a){let l=Iu(i,s);return l>=0?i[1|l]=a:(l=~l,function ks(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function bu(i,s){const a=Iu(i,s);if(a>=0)return i[1|a]}function Iu(i,s){return function rg(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const g=l+(d-l>>1),_=i[g<<a];if(s===_)return g<<a;_>s?d=g:l=g+1}return~(d<<a)}(i,s,1)}const ns={},Da="__NG_DI_FLAG__",uo="ngTempTokenPath",zo=/\n/gm,I="__source",C=ue({provide:String,useValue:ue});let M;function V(i){const s=M;return M=i,s}function Y(i,s=nt.Default){if(void 0===M)throw new Ce(203,"");return null===M?Kr(i,void 0,s):M.get(i,s&nt.Optional?null:void 0,s)}function ne(i,s=nt.Default){return(function tn(){return Wr}()||Y)(U(i),s)}function wt(i){const s=[];for(let a=0;a<i.length;a++){const l=U(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ce(900,"");let d,g=nt.Default;for(let _=0;_<l.length;_++){const w=l[_],b=Ht(w);"number"==typeof b?-1===b?d=w.token:g|=b:d=w}s.push(ne(d,g))}else s.push(ne(l))}return s}function _t(i,s){return i[Da]=s,i.prototype[Da]=s,i}function Ht(i){return i[Da]}const _n=_t(Xi("Inject",i=>({token:i})),-1),xr=_t(Xi("Optional"),8),lr=_t(Xi("SkipSelf"),4);class wd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Aa(i){return i instanceof wd?i.changingThisBreaksApplicationSecurity:i}const yf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Cn=(()=>((Cn=Cn||{})[Cn.NONE=0]="NONE",Cn[Cn.HTML=1]="HTML",Cn[Cn.STYLE=2]="STYLE",Cn[Cn.SCRIPT=3]="SCRIPT",Cn[Cn.URL=4]="URL",Cn[Cn.RESOURCE_URL=5]="RESOURCE_URL",Cn))();function Su(i){const s=function Hl(){const i=Ie();return i&&i[12]}();return s?s.sanitize(Cn.URL,i)||"":function Qo(i,s){const a=function wy(i){return i instanceof wd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Aa(i):function Sa(i){return(i=String(i)).match(yf)||i.match(_f)?i:"unsafe:"+i}(oe(i))}const Oy="__ngContext__";function Xe(i,s){i[Oy]=s}function Si(i){const s=function si(i){return i[Oy]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Md(i){return i.ngOriginalError}function Zl(i,...s){i.error(...s)}class Gl{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function xi(i){return i&&i.ngErrorLogger||Zl}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Md(s);for(;a&&Md(a);)a=Md(a);return a||null}}const Nu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ut))();function Rr(i){return i instanceof Function?i():i}var ai=(()=>((ai=ai||{})[ai.Important=1]="Important",ai[ai.DashCase=2]="DashCase",ai))();function Nd(i,s){return undefined(i,s)}function Wl(i){const s=i[3];return vi(s)?s[3]:s}function Pu(i){return Dg(i[13])}function ku(i){return Dg(i[4])}function Dg(i){for(;null!==i&&!vi(i);)i=i[4];return i}function Vs(i,s,a,l,d){if(null!=l){let g,_=!1;vi(l)?g=l:_i(l)&&(_=!0,l=l[0]);const w=dn(l);0===i&&null!==a?null==d?et(s,a,w):qe(s,a,w,d||null,!0):1===i&&null!==a?qe(s,a,w,d||null,!0):2===i?function Ql(i,s,a){const l=qi(i,s);l&&function pr(i,s,a,l){Ut(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=g&&function y0(i,s,a,l,d){const g=a[7];g!==dn(a)&&Vs(s,i,l,g,d);for(let w=10;w<a.length;w++){const b=a[w];Rf(b[1],b,i,s,l,g)}}(s,i,g,a,d)}}function Kl(i,s,a){return Ut(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function p(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Qs(d,-1)),a.splice(l,1)}function v(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&p(d,l),s>0&&(i[a-1][4]=l[4]);const g=wu(i,10+s);!function Fu(i,s){Rf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function D(i,s){if(!(256&s[2])){const a=s[11];Ut(a)&&a.destroyNode&&Rf(i,s,a,3,null,null),function Vy(i){let s=i[13];if(!s)return S(i[1],i);for(;s;){let a=null;if(_i(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)_i(s)&&S(s[1],s),s=s[3];null===s&&(s=i),_i(s)&&S(s[1],s),a=s&&s[4]}s=a}}(s)}}function S(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function J(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof to)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=d[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(d)}finally{}}}}(i,s),function j(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(s):dn(s[_]),b=l[d=a[g+2]],A=a[g+3];"boolean"==typeof A?w.removeEventListener(a[g],b,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),g+=2}else{const _=l[d=a[g+1]];a[g].call(_)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&Ut(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&vi(s[3])){a!==s[3]&&p(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function xe(i,s,a){return function Se(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Pt.None||d===Pt.Emulated)return null}return ir(l,a)}(i,s.parent,a)}function qe(i,s,a,l,d){Ut(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function et(i,s,a){Ut(i)?i.appendChild(s,a):s.appendChild(a)}function Lt(i,s,a,l,d){null!==l?qe(i,s,a,l,d):et(i,s,a)}function qi(i,s){return Ut(i)?i.parentNode(s):s.parentNode}let Lu=function Fd(i,s,a){return 40&i.type?ir(i,a):null};function co(i,s,a,l){const d=xe(i,l,s),g=s[11],w=function Yl(i,s,a){return Lu(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)Lt(g,d,a[b],w,!1);else Lt(g,d,a,w,!1)}function Vu(i,s){if(null!==s){const a=s.type;if(3&a)return ir(s,i);if(4&a)return Mf(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Vu(i,l);{const d=i[s.index];return vi(d)?Mf(-1,d):dn(d)}}if(32&a)return Nd(s,i)()||dn(i[s.index]);{const l=ho(i,s);return null!==l?Array.isArray(l)?l[0]:Vu(Wl(i[16]),l):Vu(i,s.next)}}return null}function ho(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Mf(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return Vu(l,d)}return s[7]}function Ld(i,s,a,l,d,g,_){for(;null!=a;){const w=l[a.index],b=a.type;if(_&&0===s&&(w&&Xe(dn(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)Ld(i,s,a.child,l,d,g,!1),Vs(s,i,d,w,g);else if(32&b){const A=Nd(a,l);let x;for(;x=A();)Vs(s,i,d,x,g);Vs(s,i,d,w,g)}else 16&b?Vd(i,s,l,a,d,g):Vs(s,i,d,w,g);a=_?a.projectionNext:a.next}}function Rf(i,s,a,l,d,g){Ld(a,l,i.firstChild,s,d,g,!1)}function Vd(i,s,a,l,d,g){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)Vs(s,i,d,b[A],g);else Ld(i,s,b,_[3],d,g,!0)}function _0(i,s,a){Ut(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Nf(i,s,a){Ut(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Of(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=s.length;if(d+g===l||i.charCodeAt(d+g)<=32)return d}a=d+1}}const Uy="ng-template";function eI(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==Of(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function v0(i){return 4===i.type&&i.value!==Uy}function tI(i,s,a){return s===(4!==i.type||a?i.value:Uy)}function xg(i,s,a){let l=4;const d=i.attrs||[],g=function iI(i){for(let s=0;s<i.length;s++)if(Sn(i[s]))return s;return i.length}(d);let _=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!tI(i,b,a)||""===b&&1===s.length){if(fo(l))return!1;_=!0}}else{const A=8&l?b:s[++w];if(8&l&&null!==i.attrs){if(!eI(i.attrs,A,a)){if(fo(l))return!1;_=!0}continue}const k=nI(8&l?"class":b,d,v0(i),a);if(-1===k){if(fo(l))return!1;_=!0;continue}if(""!==A){let $;$=k>g?"":d[k+1].toLowerCase();const Q=8&l?$:null;if(Q&&-1!==Of(Q,A,0)||2&l&&A!==$){if(fo(l))return!1;_=!0}}}}else{if(!_&&!fo(l)&&!fo(b))return!1;if(_&&fo(b))continue;_=!1,l=b|1&l}}return fo(l)||_}function fo(i){return 0==(1&i)}function nI(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let g=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function E0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function w0(i,s,a=!1){for(let l=0;l<s.length;l++)if(xg(i,s[l],a))return!0;return!1}function Mg(i,s){return i?":not("+s.trim()+")":s}function Ma(i){let s=i[0],a=1,l=2,d="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!fo(_)&&(s+=Mg(g,d),d=""),l=_,g=g||!fo(l);a++}return""!==d&&(s+=Mg(g,d)),s}const St={};function I0(i){Jl(kt(),Ie(),Wn()+i,Po())}function Jl(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&ya(s,g,a)}else{const g=i.preOrderHooks;null!==g&&fu(s,g,0,a)}or(a)}function Rg(i,s){return i<<17|s<<2}function Zi(i){return i>>17&32767}function Ng(i){return 2|i}function po(i){return(131068&i)>>2}function Pf(i,s){return-131069&i|s<<2}function Xl(i){return 1|i}function Yy(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const _=i.data[g];bl(d),_.contentQueries(2,s[g],g)}}}function Lf(i,s,a,l,d,g,_,w,b,A){const x=s.blueprint.slice();return x[0]=d,x[2]=140|l,Ys(x),x[3]=x[15]=i,x[8]=a,x[10]=_||i&&i[10],x[11]=w||i&&i[11],x[12]=b||i&&i[12]||null,x[9]=A||i&&i[9]||null,x[6]=g,x[16]=2==s.type?i[16]:x,x}function Hd(i,s,a,l,d){let g=i.data[s];if(null===g)g=function Qy(i,s,a,l,d){const g=As(),_=Js(),b=i.data[s]=function V0(i,s,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,s,a,l,d),function wl(){return ht.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const _=function Oo(){const i=ht.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return br(g,!0),g}function $d(i,s,a,l){if(0===a)return-1;const d=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function ju(i,s,a){Vo(s);try{const l=i.viewQuery;null!==l&&s_(1,l,a);const d=i.template;null!==d&&qd(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Yy(i,s),i.staticViewQueries&&s_(2,i.viewQuery,a);const g=i.components;null!==g&&function Lg(i,s){for(let a=0;a<s.length;a++)TI(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,cu()}}function rc(i,s,a,l){const d=s[2];if(256==(256&d))return;Vo(s);const g=Po();try{Ys(s),function ko(i){return ht.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&qd(i,s,a,2,l);const _=3==(3&d);if(!g)if(_){const A=i.preOrderCheckHooks;null!==A&&ya(s,A,null)}else{const A=i.preOrderHooks;null!==A&&fu(s,A,0,null),pu(s,0)}if(function CI(i){for(let s=Pu(i);null!==s;s=ku(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Qs(g,1),d[2]|=1024}}}(s),function II(i){for(let s=Pu(i);null!==s;s=ku(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];ei(l)&&rc(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Yy(i,s),!g)if(_){const A=i.contentCheckHooks;null!==A&&ya(s,A)}else{const A=i.contentHooks;null!==A&&fu(s,A,1),pu(s,1)}!function O0(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)or(~d);else{const g=d,_=a[++l],w=a[++l];Fo(_,g),w(2,s[g])}}}finally{or(-1)}}(i,s);const w=i.components;null!==w&&function Fg(i,s){for(let a=0;a<s.length;a++)DI(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&s_(2,b,l),!g)if(_){const A=i.viewCheckHooks;null!==A&&ya(s,A)}else{const A=i.viewHooks;null!==A&&fu(s,A,2),pu(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Qs(s[3],-1))}finally{cu()}}function P0(i,s,a,l){const d=s[10],g=!Po(),_=td(s);try{g&&!_&&d.begin&&d.begin(),_&&ju(i,s,l),rc(i,s,a,l)}finally{g&&!_&&d.end&&d.end()}}function qd(i,s,a,l,d){const g=Wn(),_=2&l;try{or(-1),_&&s.length>20&&Jl(i,s,20,Po()),a(l,d)}finally{or(g)}}function Zd(i,s,a){!No()||(function mI(i,s,a,l){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Ho(a,s),Xe(l,s);const _=a.initialInputs;for(let w=d;w<g;w++){const b=i.data[w],A=wi(b);A&&EI(s,a,b);const x=nn(s,i,w,a);Xe(x,s),null!==_&&q0(0,w-d,x,b,0,_),A&&(Xt(a.index,s)[8]=x)}}(i,s,a,ir(a,s)),128==(128&a.flags)&&function yI(i,s,a){const l=a.directiveStart,d=a.directiveEnd,_=a.index,w=function El(){return ht.lFrame.currentDirectiveIndex}();try{or(_);for(let b=l;b<d;b++){const A=i.data[b],x=s[b];Ss(b),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&B0(A,x)}}finally{or(-1),Ss(w)}}(i,s,a))}function Vg(i,s,a=ir){const l=s.localNames;if(null!==l){let d=s.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],w=-1===_?a(s,i):i[_];i[d++]=w}}}function k0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ug(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ug(i,s,a,l,d,g,_,w,b,A){const x=20+l,k=x+d,$=function cI(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:St);return a}(x,k),Q="function"==typeof A?A():A;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:w,declTNode:s,data:$.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Q,incompleteFirstPass:!1}}function L0(i,s,a,l){const d=z0(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Ri(i).push(l,d.length-1))}function Vf(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function ui(i,s,a,l,d,g,_,w){const b=ir(s,a);let x,A=s.inputs;!w&&null!=A&&(x=A[l])?(Hf(i,a,x,l,d),An(s)&&function fI(i,s){const a=Xt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function hI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,s.value||"",l):d,Ut(g)?g.setProperty(b,l,d):an(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function Xy(i,s,a,l){let d=!1;if(No()){const g=function _I(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];w0(a,_.selectors,!1)&&(d||(d=[]),Ir(Ho(a,s),i,_.type),wi(_)?(e_(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===l?null:{"":-1};if(null!==g){d=!0,j0(a,i.data.length,g.length);for(let x=0;x<g.length;x++){const k=g[x];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,A=$d(i,s,g.length,null);for(let x=0;x<g.length;x++){const k=g[x];a.mergedAttrs=gu(a.mergedAttrs,k.hostAttrs),H0(i,a,s,A,k),wI(A,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const $=k.type.prototype;!w&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),A++}!function dI(i,s){const l=s.directiveEnd,d=i.data,g=s.attrs,_=[];let w=null,b=null;for(let A=s.directiveStart;A<l;A++){const x=d[A],k=x.inputs,$=null===g||v0(s)?null:Z0(k,g);_.push($),w=Vf(k,A,w),b=Vf(x.outputs,A,b)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=b}(i,a)}_&&function vI(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const g=a[s[d+1]];if(null==g)throw new Ce(-301,`Export of name '${s[d+1]}' not found!`);l.push(s[d],g)}}}(a,l,_)}return a.mergedAttrs=gu(a.mergedAttrs,a.attrs),d}function U0(i,s,a,l,d,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~s.index;(function gI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,d,_)}}function B0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function e_(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function wI(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;wi(s)&&(a[""]=i)}}function j0(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function H0(i,s,a,l,d){i.data[l]=d;const g=d.factory||(d.factory=Is(d.type)),_=new to(g,wi(d),null);i.blueprint[l]=_,a[l]=_,U0(i,s,0,l,$d(i,a,d.hostVars,St),d)}function EI(i,s,a){const l=ir(s,i),d=k0(a),g=i[10],_=jg(i,Lf(i,d,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=_}function go(i,s,a,l,d,g){const _=ir(i,s);!function $0(i,s,a,l,d,g,_){if(null==g)Ut(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const w=null==_?oe(g):_(g,l||"",d);Ut(i)?i.setAttribute(s,d,w,a):a?s.setAttributeNS(a,d,w):s.setAttribute(d,w)}}(s[11],_,g,i.value,a,l,d)}function q0(i,s,a,l,d,g){const _=g[s];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const A=_[b++],x=_[b++],k=_[b++];null!==w?l.setInput(a,k,A,x):a[x]=k}}}function Z0(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function t_(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function DI(i,s){const a=Xt(s,i);if(ei(a)){const l=a[1];80&a[2]?rc(l,a,l.template,a[8]):a[5]>0&&n_(a)}}function n_(i){for(let l=Pu(i);null!==l;l=ku(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const _=g[1];rc(_,g,_.template,g[8])}else g[5]>0&&n_(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Xt(a[l],i);ei(d)&&d[5]>0&&n_(d)}}function TI(i,s){const a=Xt(s,i),l=a[1];(function r_(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),ju(l,a,a[8])}function jg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function i_(i){for(;i;){i[2]|=64;const s=Wl(i);if(Zc(i)&&!s)return i;i=s}return null}function Hg(i,s,a){const l=s[10];l.begin&&l.begin();try{rc(i,s,i.template,a)}catch(d){throw jf(s,d),d}finally{l.end&&l.end()}}function G0(i){!function Bf(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Si(a),d=l[1];P0(d,l,d.template,a)}}(i[8])}function s_(i,s,a){bl(0),s(i,a)}const RI=(()=>Promise.resolve(null))();function z0(i){return i[7]||(i[7]=[])}function Ri(i){return i.cleanup||(i.cleanup=[])}function jf(i,s){const a=i[9],l=a?a.get(Gl,null):null;l&&l.handleError(s)}function Hf(i,s,a,l,d){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],b=s[_],A=i.data[_];null!==A.setInput?A.setInput(b,d,l,w):b[w]=d}}function os(i,s,a){const l=zn(s,i);!function Pd(i,s,a){Ut(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Ra(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?g=w:1==g?d=H(d,w):2==g&&(l=H(l,w+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const o_=new un("INJECTOR",-1);class a_{get(s,a=ns){if(a===ns){const l=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw l.name="NullInjectorError",l}return a}}const $g=new un("Set Injector scope."),ic={},fA={};let Na;function u_(){return void 0===Na&&(Na=new a_),Na}function Y0(i,s=null,a=null,l){const d=Q0(i,s,a,l);return d._resolveInjectorDefTypes(),d}function Q0(i,s=null,a=null,l){return new J0(i,a,s||u_(),l)}class J0{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&hn(a,w=>this.processProvider(w,s,a)),hn([s],w=>this.processInjectorType(w,[],g)),this.records.set(o_,zd(void 0,this));const _=this.records.get($g);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:K(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ns,l=nt.Default){this.assertNotDestroyed();const d=V(this),g=cr(void 0);try{if(!(l&nt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function pA(i){return"function"==typeof i||"object"==typeof i&&i instanceof un}(s)&&Zn(s);w=b&&this.injectableDefInScope(b)?zd(l_(s),ic):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&nt.Self?u_():this.parent).get(s,a=l&nt.Optional&&a===ns?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[uo]=_[uo]||[]).unshift(K(s)),d)throw _;return function Et(i,s,a,l){const d=i[uo];throw s[I]&&d.unshift(s[I]),i.message=function Ti(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=K(s);if(Array.isArray(s))d=s.map(K).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):K(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(zo,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[uo]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{cr(g),V(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(K(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,"")}processInjectorType(s,a,l){if(!(s=U(s)))return!1;let d=Zs(s);const g=null==d&&s.ngModule||void 0,_=void 0===g?s:g,w=-1!==l.indexOf(_);if(void 0!==g&&(d=Zs(g)),null==d)return!1;if(null!=d.imports&&!w){let x;l.push(_);try{hn(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===x&&(x=[]),x.push(k))})}finally{}if(void 0!==x)for(let k=0;k<x.length;k++){const{ngModule:$,providers:Q}=x[k];hn(Q,pe=>this.processProvider(pe,$,Q||dt))}}this.injectorDefTypes.add(_);const b=Is(_)||(()=>new _);this.records.set(_,zd(b,ic));const A=d.providers;if(null!=A&&!w){const x=s;hn(A,k=>this.processProvider(k,x,A))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let d=Wd(s=U(s))?s:U(s&&s.provide);const g=function kI(i,s,a){return X0(i)?zd(void 0,i.useValue):zd(c_(i),ic)}(s);if(Wd(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=zd(void 0,ic,!0),_.factory=()=>wt(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,g)}hydrate(s,a){return a.value===ic&&(a.value=fA,a.value=a.factory()),"object"==typeof a.value&&a.value&&function VI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=U(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function l_(i){const s=Zn(i),a=null!==s?s.factory:Is(i);if(null!==a)return a;if(i instanceof un)throw new Ce(204,"");if(i instanceof Function)return function PI(i){const s=i.length;if(s>0)throw function Ia(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Ce(204,"");const a=function on(i){const s=i&&(i[Ur]||i[Ae]);if(s){const a=function Rn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ce(204,"")}function c_(i,s,a){let l;if(Wd(i)){const d=U(i);return Is(d)||l_(d)}if(X0(i))l=()=>U(i.useValue);else if(function d_(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...wt(i.deps||[]));else if(function FI(i){return!(!i||!i.useExisting)}(i))l=()=>ne(U(i.useExisting));else{const d=U(i&&(i.useClass||i.provide));if(!function ew(i){return!!i.deps}(i))return Is(d)||l_(d);l=()=>new d(...wt(i.deps))}return l}function zd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function X0(i){return null!==i&&"object"==typeof i&&C in i}function Wd(i){return"function"==typeof i}let Bs=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return Y0({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return Y0({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=ns,i.NULL=new a_,i.\u0275prov=sn({token:i,providedIn:"any",factory:()=>ne(o_)}),i.__NG_ELEMENT_ID__=-1,i})();function jI(i,s){eo(Si(i)[1],yn())}function Cr(i){let s=function $f(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(wi(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ce(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=p_(i.inputs),_.declaredInputs=p_(i.declaredInputs),_.outputs=p_(i.outputs);const w=d.hostBindings;w&&aw(i,w);const b=d.viewQuery,A=d.contentQueries;if(b&&HI(i,b),A&&ow(i,A),te(i.inputs,d.inputs),te(i.declaredInputs,d.declaredInputs),te(i.outputs,d.outputs),wi(d)&&d.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===Cr&&(a=!1)}}s=Object.getPrototypeOf(s)}!function qu(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=gu(d.hostAttrs,a=gu(a,d.hostAttrs))}}(l)}function p_(i){return i===Br?{}:i===dt?[]:i}function HI(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function ow(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,g)=>{s(l,d,g),a(l,d,g)}:s}function aw(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let sc=null;function oc(){if(!sc){const i=ut.Symbol;if(i&&i.iterator)sc=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(sc=l)}}}return sc}function ac(i){return!!Kg(i)&&(Array.isArray(i)||!(i instanceof Map)&&oc()in i)}function Kg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function js(i,s,a){return i[s]=a}function qr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function m_(i,s,a,l){const d=Ie();return qr(d,Xs(),s)&&(kt(),go(bn(),d,i,s,a,l)),m_}function uc(i,s,a,l){return qr(i,Xs(),a)?s+oe(a)+l:St}function Xd(i,s,a,l,d,g,_,w){const b=Ie(),A=kt(),x=i+20,k=A.firstCreatePass?function qI(i,s,a,l,d,g,_,w,b){const A=s.consts,x=Hd(s,i,4,_||null,hr(A,w));Xy(s,a,x,hr(A,b)),eo(s,x);const k=x.tViews=Ug(2,x,l,d,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,x),k.queries=s.queries.embeddedTView(x)),x}(x,A,b,s,a,l,d,g,_):A.data[x];br(k,!1);const $=b[11].createComment("");co(A,b,$,k),Xe($,b),jg(b,b[x]=t_($,b,$,k)),oa(k)&&Zd(A,b,k),null!=_&&Vg(b,k,w)}function Gf(i,s=nt.Default){const a=Ie();return null===a?ne(i,s):Sl(yn(),a,U(i),s)}function Tw(){throw new Error("invalid")}function Yu(i,s,a){const l=Ie();return qr(l,Xs(),s)&&ui(kt(),bn(),l,i,s,l[11],a,!1),Yu}function T_(i,s,a,l,d){const _=d?"class":"style";Hf(i,a,s.inputs[_],_,l)}function Pa(i,s,a,l){const d=Ie(),g=kt(),_=20+i,w=d[11],b=d[_]=Kl(w,s,function gy(){return ht.lFrame.currentNamespace}()),A=g.firstCreatePass?function QI(i,s,a,l,d,g,_){const w=s.consts,A=Hd(s,i,2,d,hr(w,g));return Xy(s,a,A,hr(w,_)),null!==A.attrs&&Ra(A,A.attrs,!1),null!==A.mergedAttrs&&Ra(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(_,g,d,0,s,a,l):g.data[_];br(A,!0);const x=A.mergedAttrs;null!==x&&Dl(w,b,x);const k=A.classes;null!==k&&Nf(w,b,k);const $=A.styles;null!==$&&_0(w,b,$),64!=(64&A.flags)&&co(g,d,b,A),0===function ca(){return ht.lFrame.elementDepthCount}()&&Xe(b,d),function ru(){ht.lFrame.elementDepthCount++}(),oa(A)&&(Zd(g,d,A),function Jy(i,s,a){if(qc(s)){const d=s.directiveEnd;for(let g=s.directiveStart;g<d;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,A,d)),null!==l&&Vg(d,A)}function um(){let i=yn();Js()?function pa(){ht.lFrame.isParent=!1}():(i=i.parent,br(i,!1));const s=i;!function da(){ht.lFrame.elementDepthCount--}();const a=kt();a.firstCreatePass&&(eo(a,i),qc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Xp(i){return 0!=(16&i.flags)}(s)&&T_(a,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function no(i){return 0!=(32&i.flags)}(s)&&T_(a,s,Ie(),s.stylesWithoutHost,!1)}function zf(i,s,a,l){Pa(i,s,a,l),um()}function eh(i){return!!i&&"function"==typeof i.then}function S_(i){return!!i&&"function"==typeof i.subscribe}const lm=S_;function cm(i,s,a,l){const d=Ie(),g=kt(),_=yn();return function dm(i,s,a,l,d,g,_,w){const b=oa(l),x=i.firstCreatePass&&Ri(i),k=s[8],$=z0(s);let Q=!0;if(3&l.type||w){const Be=ir(l,s),Je=w?w(Be):Be,we=$.length,pt=w?zt=>w(dn(zt[l.index])):l.index;if(Ut(a)){let zt=null;if(!w&&b&&(zt=function Yf(i,s,a,l){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===a&&d[g+1]===l){const w=s[7],b=d[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(i,s,d,l.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=g,zt.__ngLastListenerFn__=g,Q=!1;else{g=Qf(l,s,k,g,!1);const pn=a.listen(Je,d,g);$.push(g,pn),x&&x.push(d,pt,we,we+1)}}else g=Qf(l,s,k,g,!0),Je.addEventListener(d,g,_),$.push(g),x&&x.push(d,pt,we,_)}else g=Qf(l,s,k,g,!1);const pe=l.outputs;let Pe;if(Q&&null!==pe&&(Pe=pe[d])){const Be=Pe.length;if(Be)for(let Je=0;Je<Be;Je+=2){const hs=s[Pe[Je]][Pe[Je+1]].subscribe(g),Co=$.length;$.push(g,hs),x&&x.push(d,l.index,Co,-(Co+1))}}}(g,d,d[11],_,i,s,!!a,l),cm}function hm(i,s,a,l){try{return!1!==a(l)}catch(d){return jf(i,d),!1}}function Qf(i,s,a,l,d){return function g(_){if(_===Function)return l;const w=2&i.flags?Xt(i.index,s):s;0==(32&s[2])&&i_(w);let b=hm(s,0,l,_),A=g.__ngNextListenerFn__;for(;A;)b=hm(s,0,A,_)&&b,A=A.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Jf(i=1){return function nd(i){return(ht.lFrame.contextLView=function Xh(i,s){for(;i>0;)s=s[15],i--;return s}(i,ht.lFrame.contextLView))[8]}(i)}function ep(i,s,a){return th(i,"",s,"",a),ep}function th(i,s,a,l,d){const g=Ie(),_=uc(g,s,a,l);return _!==St&&ui(kt(),bn(),g,i,_,g[11],d,!1),th}function Mw(i,s,a,l,d){const g=i[a+1],_=null===s;let w=l?Zi(g):po(g),b=!1;for(;0!==w&&(!1===b||_);){const x=i[w+1];k_(i[w],s)&&(b=!0,i[w+1]=l?Xl(x):Ng(x)),w=l?Zi(x):po(x)}b&&(i[a+1]=l?Ng(g):Xl(g))}function k_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Iu(i,s)>=0}function gc(i,s){return function vo(i,s,a,l){const d=Ie(),g=kt(),_=function ti(i){const s=ht.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function Fa(i,s,a,l){const d=i.data;if(null===d[a+1]){const g=d[Wn()],_=function ih(i,s){return s>=i.expandoStartIndex}(i,a);(function V_(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!_&&(s=!1),s=function Fw(i,s,a,l){const d=function ou(i){const s=ht.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=rp(a=F_(null,i,s,a,l),s.attrs,l),g=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=F_(d,i,s,a,l),null===g){let b=function Lw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==po(l))return i[Zi(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=F_(null,i,s,b[1],l),b=rp(b,s.attrs,l),function Vw(i,s,a,l){i[Zi(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else g=function sh(i,s,a){let l;const d=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<d;g++)l=rp(l,i[g].hostAttrs,a);return rp(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(d,g,s,l),function hc(i,s,a,l,d,g){let _=g?s.classBindings:s.styleBindings,w=Zi(_),b=po(_);i[l]=a;let x,A=!1;if(Array.isArray(a)){const k=a;x=k[1],(null===x||Iu(k,x)>0)&&(A=!0)}else x=a;if(d)if(0!==b){const $=Zi(i[w+1]);i[l+1]=Rg($,w),0!==$&&(i[$+1]=Pf(i[$+1],l)),i[w+1]=function $y(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Rg(w,0),0!==w&&(i[w+1]=Pf(i[w+1],l)),w=l;else i[l+1]=Rg(b,0),0===w?w=l:i[b+1]=Pf(i[b+1],l),b=l;A&&(i[l+1]=Ng(i[l+1])),Mw(i,x,l,!0),Mw(i,x,l,!1),function P_(i,s,a,l,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&Iu(g,s)>=0&&(a[l+1]=Xl(a[l+1]))}(s,x,i,l,g),_=Rg(w,b),g?s.classBindings=_:s.styleBindings=_}(d,g,s,a,_,l)}}(g,i,_,l),s!==St&&qr(d,_,s)&&function L_(i,s,a,l,d,g,_,w){if(!(3&s.type))return;const b=i.data,A=b[w+1];oh(function C0(i){return 1==(1&i)}(A)?_m(b,s,a,d,po(A),_):void 0)||(oh(g)||function Hy(i){return 2==(2&i)}(A)&&(g=_m(b,null,a,d,w,_)),function Sg(i,s,a,l,d){const g=Ut(i);if(s)d?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:ai.DashCase;if(null==d)g?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=ai.Important),g?i.setStyle(a,l,d,_):a.style.setProperty(l,d,w?"important":"")}}}(l,_,zn(Wn(),a),d,g))}(g,g.data[Wn()],d,d[11],i,d[_+1]=function Hw(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=K(Aa(i)))),i}(s,a),l,_)}(i,s,null,!0),gc}function F_(i,s,a,l,d){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=s[w],l=rp(l,g.hostAttrs,d),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function rp(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ur(i,_,!!a||s[++g]))}return void 0===i?null:i}function _m(i,s,a,l,d,g){const _=null===s;let w;for(;d>0;){const b=i[d],A=Array.isArray(b),x=A?b[1]:b,k=null===x;let $=a[d+1];$===St&&($=k?dt:void 0);let Q=k?bu($,l):x===l?$:void 0;if(A&&!oh(Q)&&(Q=bu(b,l)),oh(Q)&&(w=Q,_))return w;const pe=i[d+1];d=_?Zi(pe):po(pe)}if(null!==s){let b=g?s.residualClasses:s.residualStyles;null!=b&&(w=bu(b,l))}return w}function oh(i){return void 0!==i}function vm(i,s=""){const a=Ie(),l=kt(),d=i+20,g=l.firstCreatePass?Hd(l,d,1,s,null):l.data[d],_=a[d]=function Od(i,s){return Ut(i)?i.createText(s):i.createTextNode(s)}(a[11],s);co(l,a,_,g),br(g,!1)}function U_(i){return B_("",i,""),U_}function B_(i,s,a){const l=Ie(),d=uc(l,i,s,a);return d!==St&&os(l,Wn(),d),B_}const Va=void 0;var Dm=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jw(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let mc={};function Ua(i){const s=function us(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=W_(s);if(a)return a;const l=s.split("-")[0];if(a=W_(l),a)return a;if("en"===l)return Dm;throw new Error(`Missing locale data for the locale "${i}".`)}function z_(i){return Ua(i)[ft.PluralCase]}function W_(i){return i in mc||(mc[i]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[i]),mc[i]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const Ba="en-US";let K_=Ba;function Sm(i,s,a,l,d){if(i=U(i),Array.isArray(i))for(let g=0;g<i.length;g++)Sm(i[g],s,a,l,d);else{const g=kt(),_=Ie();let w=Wd(i)?i:U(i.provide),b=c_(i);const A=yn(),x=1048575&A.providerIndexes,k=A.directiveStart,$=A.providerIndexes>>20;if(Wd(i)||!i.multi){const Q=new to(b,d,Gf),pe=_p(w,s,d?x:x+$,k);-1===pe?(Ir(Ho(A,_),g,w),Mn(g,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[pe]=Q,_[pe]=Q)}else{const Q=_p(w,s,x+$,k),pe=_p(w,s,x,x+$),Pe=Q>=0&&a[Q],Be=pe>=0&&a[pe];if(d&&!Be||!d&&!Pe){Ir(Ho(A,_),g,w);const Je=function EE(i,s,a,l,d){const g=new to(i,a,Gf);return g.multi=[],g.index=s,g.componentProviders=0,yp(g,d,l&&!a),g}(d?xm:wc,a.length,d,l,b);!d&&Be&&(a[pe].providerFactory=Je),Mn(g,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Je),_.push(Je)}else Mn(g,i,Q>-1?Q:pe,yp(a[d?pe:Q],b,!d&&l));!d&&l&&Be&&a[pe].componentProviders++}}}function Mn(i,s,a,l){const d=Wd(s),g=function LI(i){return!!i.useClass}(s);if(d||g){const b=(g?U(s.useClass):s).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,b]):A[x+1].push(l,b)}else A.push(a,b)}}}function yp(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function _p(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function wc(i,s,a,l){return Ec(this.multi,[])}function xm(i,s,a,l){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=nn(a,a[1],this.providerFactory.index,l);g=w.slice(0,_),Ec(d,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],Ec(d,g);return g}function Ec(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function bE(i,s=[]){return a=>{a.providersResolver=(l,d)=>function hi(i,s,a){const l=kt();if(l.firstCreatePass){const d=wi(i);Sm(a,l.data,l.blueprint,d,!0),Sm(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class IE{}class wC{resolveComponentFactory(s){throw function vC(i){const s=Error(`No component factory found for ${K(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Za=(()=>{class i{}return i.NULL=new wC,i})();function Mm(){return Ga(yn(),Ie())}function Ga(i,s){return new yh(ir(i,s))}let yh=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Mm,i})();function CE(i){return i instanceof yh?i.nativeElement:i}class DE{}let EC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function TE(){const i=Ie(),a=Xt(yn().index,i);return function bC(i){return i[11]}(_i(a)?a:i)}(),i})(),IC=(()=>{class i{}return i.\u0275prov=sn({token:i,providedIn:"root",factory:()=>null}),i})();class AE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const SE=new AE("13.1.3"),ov={};function Eo(i,s,a,l,d=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(dn(g)),vi(g))for(let w=10;w<g.length;w++){const b=g[w],A=b[1].firstChild;null!==A&&Eo(b[1],b,A,l)}const _=a.type;if(8&_)Eo(i,s,a.child,l);else if(32&_){const w=Nd(a,s);let b;for(;b=w();)l.push(b)}else if(16&_){const w=ho(s,a);if(Array.isArray(w))l.push(...w);else{const b=Wl(s[16]);Eo(b[1],b,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class na{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Eo(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(vi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(v(s,l),wu(a,l))}this._attachedToViewContainer=!1}D(this._lView[1],this._lView)}onDestroy(s){L0(this._lView[1],this._lView,null,s)}markForCheck(){i_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function SI(i,s,a){ga(!0);try{Hg(i,s,a)}finally{ga(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xf(i,s){Rf(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ce(902,"");this._appRef=s}}class CC extends na{constructor(s){super(s),this._view=s}detectChanges(){G0(this._view)}checkNoChanges(){!function xI(i){ga(!0);try{G0(i)}finally{ga(!1)}}(this._view)}get context(){return null}}class av extends Za{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=qt(s);return new vh(a,this.ngModule)}}function uv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const xE=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nu});class vh extends IE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ud(i){return i.map(Ma).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return uv(this.componentDef.inputs)}get outputs(){return uv(this.componentDef.outputs)}create(s,a,l,d){const g=(d=d||this.ngModule)?function _h(i,s){return{get:(a,l,d)=>{const g=i.get(a,ov,d);return g!==ov||l===ov?g:s.get(a,l,d)}}}(s,d.injector):s,_=g.get(DE,nu),w=g.get(IC,null),b=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function Bg(i,s,a){if(Ut(i))return i.selectRootElement(s,a===Pt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):Kl(_.createRenderer(null,this.componentDef),A,function za(i){const s=i.toLowerCase();return"svg"===s?So:"math"===s?"http://www.w3.org/1998/MathML/":null}(A)),k=this.componentDef.onPush?576:528,$=function sw(i,s){return{components:[],scheduler:i||Nu,clean:RI,playerHandler:s||null,flags:0}}(),Q=Ug(0,null,null,1,0,null,null,null,null,null),pe=Lf(null,Q,$,k,null,null,_,b,w,g);let Pe,Be;Vo(pe);try{const Je=function Wg(i,s,a,l,d,g){const _=a[1];a[20]=i;const b=Hd(_,20,2,"#host",null),A=b.mergedAttrs=s.hostAttrs;null!==A&&(Ra(b,A,!0),null!==i&&(Dl(d,i,A),null!==b.classes&&Nf(d,i,b.classes),null!==b.styles&&_0(d,i,b.styles)));const x=l.createRenderer(i,s),k=Lf(a,k0(s),null,s.onPush?64:16,a[20],b,l,x,g||null,null);return _.firstCreatePass&&(Ir(Ho(b,a),_,s.type),e_(_,b),j0(b,a.length,1)),jg(a,k),a[20]=k}(x,this.componentDef,pe,_,b);if(x)if(l)Dl(b,x,["ng-version",SE.full]);else{const{attrs:we,classes:pt}=function b0(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===d?""!==g&&s.push(g,i[++l]):8===d&&a.push(g);else{if(!fo(d))break;d=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&Dl(b,x,we),pt&&pt.length>0&&Nf(b,x,pt.join(" "))}if(Be=Ro(Q,20),void 0!==a){const we=Be.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const zt=a[pt];we.push(null!=zt?Array.from(zt):null)}}Pe=function iw(i,s,a,l,d){const g=a[1],_=function pI(i,s,a){const l=yn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),H0(i,l,s,$d(i,s,1,null),a));const d=nn(s,i,l.directiveStart,l);Xe(d,s);const g=ir(l,s);return g&&Xe(g,s),d}(g,a,s);if(l.components.push(_),i[8]=_,d&&d.forEach(b=>b(_,s)),s.contentQueries){const b=yn();s.contentQueries(1,_,b.directiveStart)}const w=yn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(or(w.index),U0(a[1],w,0,w.directiveStart,w.directiveEnd,s),B0(s,_)),_}(Je,this.componentDef,pe,$,[jI]),ju(Q,pe,null)}finally{cu()}return new lv(this.componentType,Pe,Ga(Be,pe),pe,Be)}}class lv extends class qa{}{constructor(s,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new CC(d),this.componentType=s}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class bo{}class ds{}const bc=new Map;class NE extends bo{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new av(this);const l=mn(s);this._bootstrapComponents=Rr(l.bootstrap),this._r3Injector=Q0(s,a,[{provide:bo,useValue:this},{provide:Za,useValue:this.componentFactoryResolver}],K(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Bs.THROW_IF_NOT_FOUND,l=nt.Default){return s===Bs||s===bo||s===o_?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Om extends ds{constructor(s){super(),this.moduleType=s,null!==mn(s)&&function hv(i){const s=new Set;!function a(l){const d=mn(l,!0),g=d.id;null!==g&&(function dv(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${K(s)} vs ${K(s.name)}`)}(g,bc.get(g),l),bc.set(g,l));const _=Rr(d.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new NE(this.moduleType,s)}}function pv(i,s,a){const l=jn()+i,d=Ie();return d[l]===St?js(d,l,a?s.call(a):s()):function Kd(i,s){return i[s]}(d,l)}function gv(i,s,a,l){return function Dc(i,s,a,l,d,g){const _=s+a;return qr(i,_,d)?js(i,_+1,g?l.call(g,d):l(d)):function Eh(i,s){const a=i[s];return a===St?void 0:a}(i,_+1)}(Ie(),jn(),i,s,a,l)}function Tc(i){return s=>{setTimeout(i,void 0,s)}}const pi=class FE extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var d,g,_;let w=s,b=a||(()=>null),A=l;if(s&&"object"==typeof s){const k=s;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),b=null===(g=k.error)||void 0===g?void 0:g.bind(k),A=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=Tc(b),w&&(w=Tc(w)),A&&(A=Tc(A)));const x=super.subscribe({next:w,error:b,complete:A});return s instanceof W.w0&&s.add(x),x}};function LE(){return this._results[oc()]()}class Lm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=oc(),l=Lm.prototype;l[a]||(l[a]=LE)}get changes(){return this._changes||(this._changes=new pi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=Kn(s);(this._changesDetected=!function dd(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],g=s[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ch=(()=>{class i{}return i.__NG_ELEMENT_ID__=RC,i})();const vp=Ch,vv=class extends vp{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Lf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),ju(a,l,s),new na(l)}};function RC(){return Hn(yn(),Ie())}function Hn(i,s){return 4&i.type?new vv(s,i,Ga(i,s)):null}let Gt=(()=>{class i{}return i.__NG_ELEMENT_ID__=VE,i})();function VE(){return kr(yn(),Ie())}const UE=Gt,Wa=class extends UE{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Ga(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const s=ni(this._hostTNode,this._hostLView);if(rf(s)){const a=va(s,this._hostLView),l=Bo(s);return new so(a[1].data[l+8],a)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Xn(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,g){const _=s&&!function Di(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,g=k.ngModuleRef}const b=_?s:new vh(qt(s)),A=l||this.parentInjector;if(!g&&null==b.ngModule&&A){const k=A.get(bo,null);k&&(g=k)}const x=b.create(A,d,void 0,g);return this.insert(x.hostView,w),x}insert(s,a){const l=s._lView,d=l[1];if(function Qh(i){return vi(i[3])}(l)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const k=l[3],$=new Wa(k,k[6],k[3]);$.detach($.indexOf(s))}}const g=this._adjustIndex(a),_=this._lContainer;!function m(i,s,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=s),l<g-10?(s[4]=a[d],Rl(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function h(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(d,l,_,g);const w=Mf(g,_),b=l[11],A=qi(b,_[7]);return null!==A&&function Tg(i,s,a,l,d,g){l[0]=d,l[6]=s,Rf(i,l,a,1,d,g)}(d,_[6],b,l,A,w),s.attachToViewContainerRef(),Rl(Dh(_),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Xn(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=v(this._lContainer,a);l&&(wu(Dh(this._lContainer),a),D(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=v(this._lContainer,a);return l&&null!=wu(Dh(this._lContainer),a)?new na(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Xn(i){return i[8]}function Dh(i){return i[8]||(i[8]=[])}function kr(i,s){let a;const l=s[i.index];if(vi(l))a=l;else{let d;if(8&i.type)d=dn(l);else{const g=s[11];d=g.createComment("");const _=ir(i,s);qe(g,qi(g,_),d,function kd(i,s){return Ut(i)?i.nextSibling(s):s.nextSibling}(g,_),!1)}s[i.index]=a=t_(l,s,d,i),jg(s,a)}return new Wa(a,i,s)}class wv{constructor(s){this.queryList=s,this.matches=null}clone(){return new wv(this.queryList)}setDirty(){this.queryList.setDirty()}}class zi{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new zi(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ZE(s,a).matches&&this.queries[a].setDirty()}}class jE{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Ep{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Ep(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Ac{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Ac(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(s,a,NC(a,g)),this.matchTNodeWithReadOption(s,a,Rs(a,s,g,!1,!1))}else l===Ch?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Rs(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===yh||d===Gt||d===Ch&&4&a.type)this.addMatch(a.index,-2);else{const g=Rs(a,s,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function NC(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function fn(i,s,a,l){return-1===a?function OC(i,s){return 11&i.type?Ga(i,s):4&i.type?Hn(i,s):null}(s,i):-2===a?function PC(i,s,a){return a===yh?Ga(s,i):a===Ch?Hn(s,i):a===Gt?kr(s,i):void 0}(i,s,l):nn(i,i[1],a,s)}function bp(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const g=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const A=_[b];w.push(A<0?null:fn(s,g[A],_[b+1],a.metadata.read))}d.matches=w}return d.matches}function Sc(i,s,a,l){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const _=bp(i,s,d,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(_[w/2]);else{const A=g[w+1],x=s[-b];for(let k=10;k<x.length;k++){const $=x[k];$[17]===$[3]&&Sc($[1],$,A,l)}if(null!==x[9]){const k=x[9];for(let $=0;$<k.length;$++){const Q=k[$];Sc(Q[1],Q,A,l)}}}}}return l}function Th(i){const s=Ie(),a=kt(),l=Lo();bl(l+1);const d=ZE(a,l);if(i.dirty&&td(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?Sc(a,s,l,[]):bp(a,s,d,l);i.reset(g,CE),i.notifyOnChanges()}return!0}return!1}function Ev(i,s,a,l){const d=kt();if(d.firstCreatePass){const g=yn();(function Iv(i,s,a){null===i.queries&&(i.queries=new Ep),i.queries.track(new Ac(s,a))})(d,new jE(s,a,l),g.index),function qE(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function $E(i,s,a){const l=new Lm(4==(4&a));L0(i,s,l,l.destroy),null===s[19]&&(s[19]=new zi),s[19].queries.push(new wv(l))}(d,Ie(),a)}function bv(){return function HE(i,s){return i[19].queries[s].queryList}(Ie(),Lo())}function ZE(i,s){return i.queries.getByIndex(s)}function Zm(...i){}const Nv=new un("Application Initializer");let Rc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Zm,this.reject=Zm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(eh(g))a.push(g);else if(lm(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ne(Nv,8))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const nb=new un("AppId"),ib={provide:nb,useFactory:function rb(){return`${ce()}${ce()}${ce()}`},deps:[]};function ce(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tp=new un("Platform Initializer"),qs=new un("Platform ID"),sb=new un("appBootstrapListener");let el=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const zm=new un("LocaleId"),tl=new un("DefaultCurrencyCode");class Fr{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Ap=(()=>{class i{compileModuleSync(a){return new Om(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Rr(mn(a).declarations).reduce((_,w)=>{const b=qt(w);return b&&_.push(new vh(b)),_},[]);return new Fr(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();const nl=(()=>Promise.resolve(0))();function Wm(i){"undefined"==typeof Zone?nl.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Wi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pi(!1),this.onMicrotaskEmpty=new pi(!1),this.onStable=new pi(!1),this.onError=new pi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function GC(){let i=ut.requestAnimationFrame,s=ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function xh(i){const s=()=>{!function Nc(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ut,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Oc(i),i.isCheckStableRunning=!0,Ka(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Oc(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,_,w)=>{try{return Pv(i),a.invokeTask(d,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Ym(i)}},onInvoke:(a,l,d,g,_,w,b)=>{try{return Pv(i),a.invoke(d,g,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Ym(i)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Oc(i),Ka(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,s,Km,Zm,Zm);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Km={};function Ka(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Oc(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Pv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Ym(i){i._nesting--,Ka(i)}class kv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pi,this.onMicrotaskEmpty=new pi,this.onStable=new pi,this.onError=new pi}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let Fv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wi.assertNotInAngularZone(),Wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(ne(Wi))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})(),ub=(()=>{class i{constructor(){this._applications=new Map,Sp.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Sp.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();class lb{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function cb(i){Sp=i}let ki,Sp=new lb;const hb=new un("AllowMultipleToken");class zC{constructor(s,a){this.name=s,this.token=a}}function Mh(i,s,a=[]){const l=`Platform: ${s}`,d=new un(l);return(g=[])=>{let _=Lv();if(!_||_.injector.get(hb,!1))if(i)i(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:$g,useValue:"platform"});!function WC(i){if(ki&&!ki.destroyed&&!ki.injector.get(hb,!1))throw new Ce(400,"");ki=i.get(fb);const s=i.get(Tp,null);s&&s.forEach(a=>a())}(Bs.create({providers:w,name:l}))}return function rl(i){const s=Lv();if(!s)throw new Ce(401,"");return s}()}}function Lv(){return ki&&!ki.destroyed?ki:null}let fb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function KC(i,s){let a;return a="noop"===i?new kv:("zone.js"===i?void 0:i)||new Wi({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Wi,useValue:w}];return w.run(()=>{const A=Bs.create({providers:b,parent:this.injector,name:a.moduleType.name}),x=a.create(A),k=x.injector.get(Gl,null);if(!k)throw new Ce(402,"");return w.runOutsideAngular(()=>{const $=w.onError.subscribe({next:Q=>{k.handleError(Q)}});x.onDestroy(()=>{Qm(this._modules,x),$.unsubscribe()})}),function Vv(i,s,a){try{const l=a();return eh(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const $=x.injector.get(Rc);return $.runInitializers(),$.donePromise.then(()=>(function dC(i){ot(i,"Expected localeId to be defined"),"string"==typeof i&&(K_=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(zm,Ba)||Ba),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=kc({},l);return function Pc(i,s,a){const l=new Om(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(xp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ce(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ne(Bs))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function kc(i,s){return Array.isArray(s)?s.reduce(kc,i):Object.assign(Object.assign({},i),s)}let xp=(()=>{class i{constructor(a,l,d,g,_){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new O.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),b=new O.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Wi.assertNotInAngularZone(),Wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ie.T)(w,b.pipe((0,ee.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ce(405,"");let d;d=a instanceof IE?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function db(i){return i.isBoundToModule}(d)?void 0:this._injector.get(bo),w=d.create(Bs.NULL,[],l||d.selector,g),b=w.location.nativeElement,A=w.injector.get(Fv,null),x=A&&w.injector.get(ub);return A&&x&&x.registerApplication(b,A),w.onDestroy(()=>{this.detachView(w.hostView),Qm(this.components,w),x&&x.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ce(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Qm(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(sb,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ne(Wi),ne(Bs),ne(Gl),ne(Za),ne(Rc))},i.\u0275prov=sn({token:i,factory:i.\u0275fac}),i})();function Qm(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let Mp=!0,Uv=!1;function Ki(){return Uv=!0,Mp}function pb(){if(Uv)throw new Error("Cannot enable prod mode after platform setup.");Mp=!1}let il=(()=>{class i{}return i.__NG_ELEMENT_ID__=Oh,i})();function Oh(i){return function mb(i,s,a){if(An(i)&&!a){const l=Xt(i.index,s);return new na(l,l)}return 47&i.type?new na(s[16],s):null}(yn(),Ie(),16==(16&i))}class Np{constructor(){}supports(s){return ac(s)}create(s){return new nD(s)}}const $v=(i,s)=>s;class nD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||$v}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<Zv(l,d,g)?a:l,w=Zv(_,d,g),b=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{g||(g=[]);const A=w-d,x=b-d;if(A!=x){for(let $=0;$<A;$++){const Q=$<g.length?g[$]:g[$]=0,pe=Q+$;x<=pe&&pe<A&&(g[$]=Q+1)}g[_.previousIndex]=x-A}}w!==b&&s(_,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!ac(s))throw new Ce(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,g,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),l=!0),a=a._next}else d=0,function lw(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[oc()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,d)):s=this._addAfter(new qv(a,l),g,d),s}_verifyReinsertion(s,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,g=s._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ib),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ib),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Ib{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new bb,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zv(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Gv{constructor(){}supports(s){return s instanceof Map||Kg(s)}create(){return new zv}}class zv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Kg(s)))throw new Ce(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const l=new rD(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class rD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wv(){return new ny([new Np])}let ny=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Wv()),deps:[[i,new lr,new xr]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Ce(901,"")}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:Wv}),i})();function Cb(){return new Ya([new Gv])}let Ya=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Cb()),deps:[[i,new lr,new xr]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Ce(901,"")}}return i.\u0275prov=sn({token:i,providedIn:"root",factory:Cb}),i})();const Vh=[new Gv],ry=new ny([new Np]),Db=new Ya(Vh),Tb=Mh(null,"core",[{provide:qs,useValue:"unknown"},{provide:fb,deps:[Bs]},{provide:ub,deps:[]},{provide:el,deps:[]}]),uD=[{provide:xp,useClass:xp,deps:[Wi,Bs,Gl,Za,Rc]},{provide:xE,deps:[Wi],useFactory:function lD(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:Rc,useClass:Rc,deps:[[new xr,Nv]]},{provide:Ap,useClass:Ap,deps:[]},ib,{provide:ny,useFactory:function oD(){return ry},deps:[]},{provide:Ya,useFactory:function Yv(){return Db},deps:[]},{provide:zm,useFactory:function aD(i){return i||function Qv(){return"undefined"!=typeof $localize&&$localize.locale||Ba}()},deps:[[new _n(zm),new xr,new lr]]},{provide:tl,useValue:"USD"}];let Jv=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ne(xp))},i.\u0275mod=re({type:i}),i.\u0275inj=yi({providers:uD}),i})()},3942:(it,_e,P)=>{"use strict";P.d(_e,{Z:()=>Ce});var c=P(2090),W=P(4859),O=P(9681),ie=P(1877);class ee{constructor(oe,he){this._delegate=oe,this.firebase=he,(0,O._addComponent)(oe,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(oe,he=O._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(oe);return!Ve.isInitialized()&&"EXPLICIT"===(null===(ke=Ve.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:he})}_removeServiceInstance(oe,he=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(he)}_addComponent(oe){(0,O._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,O._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function H(){const Oe=function K(Oe){const oe={},he={__esModule:!0,initializeApp:function Fe(Ge,ct={}){const X=O.initializeApp(Ge,ct);if((0,c.r3)(oe,X.name))return oe[X.name];const ge=new Oe(X,he);return oe[X.name]=ge,ge},app:Ve,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Te(Ge){const ct=Ge.name,X=ct.replace("-compat","");if(O._registerComponent(Ge)&&"PUBLIC"===Ge.type){const ge=(me=Ve())=>{if("function"!=typeof me[X])throw te.create("invalid-app-argument",{appName:ct});return me[X]()};void 0!==Ge.serviceProps&&(0,c.ZB)(ge,Ge.serviceProps),he[X]=ge,Oe.prototype[X]=function(...me){return this._getService.bind(this,ct).apply(this,Ge.multipleInstances?me:[])}}return"PUBLIC"===Ge.type?he[X]:null},removeApp:function ke(Ge){delete oe[Ge]},useAsService:function rt(Ge,ct){return"serverAuth"===ct?null:ct},modularAPIs:O}};function Ve(Ge){if(!(0,c.r3)(oe,Ge=Ge||O._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:Ge});return oe[Ge]}return he.default=he,Object.defineProperty(he,"apps",{get:function Ye(){return Object.keys(oe).map(Ge=>oe[Ge])}}),Ve.App=Oe,he}(ee);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:H,extendNamespace:function oe(he){(0,c.ZB)(Oe,he)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Oe}(),L=new ie.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=F;!function fe(Oe){(0,O.registerVersion)("@firebase/app-compat","0.1.22",Oe)}()},9681:(it,_e,P)=>{"use strict";P.r(_e),P.d(_e,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Zs,_DEFAULT_ENTRY_NAME:()=>qn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>Fi,_apps:()=>at,_clearComponents:()=>Zn,_components:()=>Dn,_getProvider:()=>Li,_registerComponent:()=>sn,_removeServiceInstance:()=>yi,deleteApp:()=>vr,getApp:()=>_r,getApps:()=>Ae,initializeApp:()=>Ur,onLog:()=>tn,registerVersion:()=>Wr,setLogLevel:()=>cr});var c=P(5861),W=P(4859),O=P(1877),ie=P(2090);class ee{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function ue(ze){const Ee=ze.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(We)){const gt=We.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(We=>We).join(" ")}}const te="@firebase/app",K="0.7.21",H=new O.Yd("@firebase/app"),qn="[DEFAULT]",ot={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,Dn=new Map;function ln(ze,Ee){try{ze.container.addComponent(Ee)}catch(We){H.debug(`Component ${Ee.name} failed to register with FirebaseApp ${ze.name}`,We)}}function Fi(ze,Ee){ze.container.addOrOverwriteComponent(Ee)}function sn(ze){const Ee=ze.name;if(Dn.has(Ee))return H.debug(`There were multiple attempts to register component ${Ee}.`),!1;Dn.set(Ee,ze);for(const We of at.values())ln(We,ze);return!0}function Li(ze,Ee){const We=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),ze.container.getProvider(Ee)}function yi(ze,Ee,We=qn){Li(ze,Ee).clearInstance(We)}function Zn(){Dn.clear()}const on=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Rn{constructor(Ee,We,gt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Zs="9.6.11";function Ur(ze,Ee={}){"object"!=typeof Ee&&(Ee={name:Ee});const We=Object.assign({name:qn,automaticDataCollectionEnabled:!1},Ee),gt=We.name;if("string"!=typeof gt||!gt)throw on.create("bad-app-name",{appName:String(gt)});const jt=at.get(gt);if(jt){if((0,ie.vZ)(ze,jt.options)&&(0,ie.vZ)(We,jt.config))return jt;throw on.create("duplicate-app",{appName:gt})}const Yt=new W.H0(gt);for(const B of Dn.values())Yt.addComponent(B);const q=new Rn(ze,We,Yt);return at.set(gt,q),q}function _r(ze=qn){const Ee=at.get(ze);if(!Ee)throw on.create("no-app",{appName:ze});return Ee}function Ae(){return Array.from(at.values())}function vr(ze){return nt.apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(ze){const Ee=ze.name;at.has(Ee)&&(at.delete(Ee),yield Promise.all(ze.container.getProviders().map(We=>We.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function Wr(ze,Ee,We){var gt;let jt=null!==(gt=ot[ze])&&void 0!==gt?gt:ze;We&&(jt+=`-${We}`);const Yt=jt.match(/\s|\//),q=Ee.match(/\s|\//);if(Yt||q){const B=[`Unable to register library "${jt}" with version "${Ee}":`];return Yt&&B.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Yt&&q&&B.push("and"),q&&B.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void H.warn(B.join(" "))}sn(new W.wA(`${jt}-version`,()=>({library:jt,version:Ee}),"VERSION"))}function tn(ze,Ee){if(null!==ze&&"function"!=typeof ze)throw on.create("invalid-log-argument");(0,O.Am)(ze,Ee)}function cr(ze){(0,O.Ub)(ze)}const Nn="firebase-heartbeat-store";let Bn=null;function ms(){return Bn||(Bn=(0,ie.X3)("firebase-heartbeat-database",1,(ze,Ee)=>{0===Ee&&ze.createObjectStore(Nn)}).catch(ze=>{throw on.create("storage-open",{originalErrorMessage:ze.message})})),Bn}function Pt(){return(Pt=(0,c.Z)(function*(ze){try{return(yield ms()).transaction(Nn).objectStore(Nn).get(ys(ze))}catch(Ee){throw on.create("storage-get",{originalErrorMessage:Ee.message})}})).apply(this,arguments)}function st(ze,Ee){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(ze,Ee){try{const gt=(yield ms()).transaction(Nn,"readwrite");return yield gt.objectStore(Nn).put(Ee,ys(ze)),gt.complete}catch(We){throw on.create("storage-set",{originalErrorMessage:We.message})}})).apply(this,arguments)}function ys(ze){return`${ze.name}!${ze.options.appId}`}class wn{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new dt(We),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var Ee=this;return(0,c.Z)(function*(){const gt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=dr();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Ee._heartbeatsCache.heartbeats.some(Yt=>Yt.date===jt))return Ee._heartbeatsCache.heartbeats.push({date:jt,agent:gt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Yt=>{const q=new Date(Yt.date).valueOf();return Date.now()-q<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,c.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const We=dr(),{heartbeatsToSend:gt,unsentEntries:jt}=function Br(ze,Ee=1024){const We=[];let gt=ze.slice();for(const jt of ze){const Yt=We.find(q=>q.agent===jt.agent);if(Yt){if(Yt.dates.push(jt.date),Tn(We)>Ee){Yt.dates.pop();break}}else if(We.push({agent:jt.agent,dates:[jt.date]}),Tn(We)>Ee){We.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:We,unsentEntries:gt}}(Ee._heartbeatsCache.heartbeats),Yt=(0,ie.L)(JSON.stringify({version:2,heartbeats:gt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=We,jt.length>0?(Ee._heartbeatsCache.heartbeats=jt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),Yt})()}}function dr(){return(new Date).toISOString().substring(0,10)}class dt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,c.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function ll(ze){return Pt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var We=this;return(0,c.Z)(function*(){var gt;if(yield We._canUseIndexedDBPromise){const Yt=yield We.read();return st(We.app,{lastSentHeartbeatDate:null!==(gt=Ee.lastSentHeartbeatDate)&&void 0!==gt?gt:Yt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var We=this;return(0,c.Z)(function*(){var gt;if(yield We._canUseIndexedDBPromise){const Yt=yield We.read();return st(We.app,{lastSentHeartbeatDate:null!==(gt=Ee.lastSentHeartbeatDate)&&void 0!==gt?gt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Ee.heartbeats]})}})()}}function Tn(ze){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function Nt(ze){sn(new W.wA("platform-logger",Ee=>new ee(Ee),"PRIVATE")),sn(new W.wA("heartbeat",Ee=>new wn(Ee),"PRIVATE")),Wr(te,K,ze),Wr(te,K,"esm2017"),Wr("fire-js","")}("")},4859:(it,_e,P)=>{"use strict";P.d(_e,{wA:()=>O,H0:()=>K});var c=P(5861),W=P(2090);class O{constructor(F,L,U){this.name=F,this.instanceFactory=L,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ie="[DEFAULT]";class ee{constructor(F,L){this.name=F,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const L=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(L)){const U=new W.BH;if(this.instancesDeferred.set(L,U),this.isInitialized(L)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:L});be&&U.resolve(be)}catch(be){}}return this.instancesDeferred.get(L).promise}getImmediate(F){var L;const U=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),be=null!==(L=null==F?void 0:F.optional)&&void 0!==L&&L;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(fe){if(be)return null;throw fe}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function te(H){return"EAGER"===H.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(L){}for(const[L,U]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(L);try{const fe=this.getOrInitializeService({instanceIdentifier:be});U.resolve(fe)}catch(fe){}}}}clearInstance(F=ie){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,c.Z)(function*(){const L=Array.from(F.instances.values());yield Promise.all([...L.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...L.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ie){return this.instances.has(F)}getOptions(F=ie){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:L={}}=F,U=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:U,options:L});for(const[fe,Ce]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(fe)&&Ce.resolve(be);return be}onInit(F,L){var U;const be=this.normalizeInstanceIdentifier(L),fe=null!==(U=this.onInitCallbacks.get(be))&&void 0!==U?U:new Set;fe.add(F),this.onInitCallbacks.set(be,fe);const Ce=this.instances.get(be);return Ce&&F(Ce,be),()=>{fe.delete(F)}}invokeOnInitCallbacks(F,L){const U=this.onInitCallbacks.get(L);if(U)for(const be of U)try{be(F,L)}catch(fe){}}getOrInitializeService({instanceIdentifier:F,options:L={}}){let U=this.instances.get(F);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(H=F,H===ie?void 0:H),options:L}),this.instances.set(F,U),this.instancesOptions.set(F,L),this.invokeOnInitCallbacks(U,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,U)}catch(be){}var H;return U||null}normalizeInstanceIdentifier(F=ie){return this.component?this.component.multipleInstances?F:ie:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const L=this.getProvider(F.name);if(L.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);L.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const L=new ee(F,this);return this.providers.set(F,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(it,_e,P)=>{"use strict";P.d(_e,{in:()=>W,Yd:()=>te,Ub:()=>K,Am:()=>H});const c=[];var W=(()=>{return(F=W||(W={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",W;var F})();const O={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},ie=W.INFO,ee={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ue=(F,L,...U)=>{if(L<F.logLevel)return;const be=(new Date).toISOString(),fe=ee[L];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[fe](`[${be}]  ${F.name}:`,...U)};class te{constructor(L){this.name=L,this._logLevel=ie,this._logHandler=ue,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in W))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?O[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...L),this._logHandler(this,W.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...L),this._logHandler(this,W.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,W.INFO,...L),this._logHandler(this,W.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,W.WARN,...L),this._logHandler(this,W.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...L),this._logHandler(this,W.ERROR,...L)}}function K(F){c.forEach(L=>{L.setLogLevel(F)})}function H(F,L){for(const U of c){let be=null;L&&L.level&&(be=O[L.level]),U.userLogHandler=null===F?null:(fe,Ce,...Oe)=>{const oe=Oe.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(ke){return null}}).filter(he=>he).join(" ");Ce>=(null!=be?be:fe.logLevel)&&F({level:W[Ce].toLowerCase(),message:oe,args:Oe,type:fe.name})}}}},5861:(it,_e,P)=>{"use strict";function c(O,ie,ee,ue,te,K,H){try{var F=O[K](H),L=F.value}catch(U){return void ee(U)}F.done?ie(L):Promise.resolve(L).then(ue,te)}function W(O){return function(){var ie=this,ee=arguments;return new Promise(function(ue,te){var K=O.apply(ie,ee);function H(L){c(K,ue,te,H,F,"next",L)}function F(L){c(K,ue,te,H,F,"throw",L)}H(void 0)})}}P.d(_e,{Z:()=>W})}},it=>{it(it.s=3777)}]);